!function n(l,s,i){function o(r,e){if(!s[r]){if(!l[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(a)return a(r,!0);throw(t=new Error("Cannot find module '"+r+"'")).code="MODULE_NOT_FOUND",t}t=s[r]={exports:{}},l[r][0].call(t.exports,function(e){return o(l[r][1][e]||e)},t,t.exports,n,l,s,i)}return s[r].exports}for(var a="function"==typeof require&&require,e=0;e<i.length;e++)o(i[e]);return o}({1:[function(e,r,t){"use strict";e("./slsp-i-button"),e("./slsp-courier-info"),e("./slsp-ill-signin-order-logged-out"),e("./slsp-ill-signin-order-alert"),e("./slsp-edit-personal-details");angular.module("viewCustom",["angularLoad","slspIButton","slspCourierInfo","slspIllSigninOrderLoggedOut","slspIllSigninOrderAlert","slspEditPersonalDetails"])},{"./slsp-courier-info":2,"./slsp-edit-personal-details":4,"./slsp-i-button":6,"./slsp-ill-signin-order-alert":8,"./slsp-ill-signin-order-logged-out":10}],2:[function(e,r,t){"use strict";e("./js/slsp-courier-info.module.js"),r.exports="slspCourierInfo"},{"./js/slsp-courier-info.module.js":3}],3:[function(e,r,t){"use strict";angular.module("slspCourierInfo",[]).controller("CourierInfoController",["$element",function(e){this.form=e[0].parentElement,this.$doCheck=function(){var e,r=!1,t=2;void 0!==this.form.children[0].children[1]&&void 0!==this.form.children[0].children[1].children[0]?r=this.form.children[0].children[1].children[0]:void 0!==this.form.children[0].children[0]&&void 0!==this.form.children[0].children[0].children[0]&&(r=this.form.children[0].children[0].children[0],t=3),r&&r.children.length==t&&((e=document.createElement("DIV")).className="courier-info bar alert-bar",e.innerHTML="<h4>"+this.parentCtrl.$translate.instant("customize.fullview.feesTitle")+"</h4>\n\t\t<p>"+this.parentCtrl.$translate.instant("customize.fullview.feesInfo")+'</p>\n\t\t<p><a href="'+this.parentCtrl.$translate.instant("customize.fullview.feesUrl")+'"\n\t\ttarget="_blank">'+this.parentCtrl.$translate.instant("customize.fullview.feesLinkText")+"</a></p>",r.insertBefore(e,r.children[t-1]))}}]).component("prmRequestAfter",{bindings:{parentCtrl:"<"},controller:"CourierInfoController"})},{}],4:[function(e,r,t){"use strict";e("./js/slsp-edit-personal-details.module.js"),r.exports="slspEditPersonalDetails"},{"./js/slsp-edit-personal-details.module.js":5}],5:[function(e,r,t){"use strict";angular.module("slspEditPersonalDetails",[]).controller("EditPersonalDetailsController",["$scope",function(e){var r="en",e=e.$root.$$childHead.$ctrl.userSessionManagerService;e&&(r=e.getInterfaceLanguage()),this.detailsBaseEdu="https://eduid.ch/web/change-account-data/2/?lang="+r,this.detailsBaseReg="https://registration.slsp.ch/library-card/?lang="+r,this.exclude=["STAFF","11","12","13","14","15","16","91","92","99"],this.grpA=["11","91","92"],this.grpB=["12","13","14","15","16"],this.getPatronGrp=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!this.exclude.includes(e)},this.grpLabelA=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!!this.grpA.includes(e)},this.grpLabelB=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var e=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!!this.grpB.includes(e)}}]).component("prmPersonalInfoAfter",{bindings:{parentCtrl:"<"},controller:"EditPersonalDetailsController",template:'<md-card ng-if="$ctrl.grpLabelA()" translate="customized.libraries.details" flex="100" class="bar alert-bar courier-info"></md-card><md-card ng-if="$ctrl.grpLabelB()" translate="customized.slsp.details" flex="100" class="bar alert-bar courier-info"></md-card>       <div layout="column"> <md-button ng-if="$ctrl.getPatronGrp()" href="{{ $ctrl.detailsBaseEdu }}" target="_blank" layout="row" class="courier-info bar alert-bar layout-align-left-center layout-row" layout-align="left center"><span class="md-subhead"><prm-icon  class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui" icon-definition="pencil"></prm-icon><span  class="md-subhead" translate="customized.personal.details"></span></md-button>   <br />   <md-button ng-if="$ctrl.getPatronGrp()" href="{{ $ctrl.detailsBaseReg }}" target="_blank" layout="row" class="courier-info bar alert-bar layout-align-left-center layout-row" layout-align="left center"><prm-icon class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui" icon-definition="account-card-details"></prm-icon><span  class="md-subhead" translate="customized.libcard.number"></span></md-button ></div> '})},{}],6:[function(e,r,t){"use strict";e("./js/slsp-i-button.module.js"),r.exports="slspIButton"},{"./js/slsp-i-button.module.js":7}],7:[function(e,r,t){"use strict";angular.module("slspIButton",[]).controller("LibInfoController",[function(){var e=this;e.getLibrary=function(){return e.parentCtrl.currLoc.location.librarycodeTranslation},e.biblinkText="Library",e.biblinkBase="https://slsp.ch/libraries"}]).component("prmLocationItemsAfter",{bindings:{parentCtrl:"<"},controller:"LibInfoController",template:'<div layout="row" class="LibInfo" layout-align="start center"><span class="md-subhead"><a ng-href="{{ $ctrl.biblinkBase }}" target="_blank"><img width="35px" ng-src="/discovery/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/information.png" />{{ $ctrl.getLibrary() }}</a></span></div>'})},{}],8:[function(e,r,t){"use strict";e("./js/slsp-ill-signin-order-alert.module.js"),r.exports="slspIllSigninOrderAlert"},{"./js/slsp-ill-signin-order-alert.module.js":9}],9:[function(e,r,t){"use strict";angular.module("slspIllSigninOrderAlert",[]).controller("AlertMsgController",["$scope",function(e){var t=this;t.getAlert=function(){var e=t.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg,r=angular.element(document.querySelector("primo-explore"));return 0<e.length?r.addClass("alert"):r.removeClass("alert")}}]).component("almaHowovpAfter",{bindings:{parentCtrl:"<"},controller:"AlertMsgController",template:'<div style="display:none">{{$ctrl.getAlert()}}</div>'})},{}],10:[function(e,r,t){"use strict";e("./js/slsp-ill-signin-order-logged-out.module.js"),r.exports="slspIllSigninOrderLoggedOut"},{"./js/slsp-ill-signin-order-logged-out.module.js":11}],11:[function(e,r,t){"use strict";angular.module("slspIllSigninOrderLoggedOut",[]).service("userService",["jwtHelper",function(r){this.isGuest=function(){var e=sessionStorage.getItem("primoExploreJwt");if(!e)return!0;e=r.decodeToken(e);return!("GUEST"!==e.userGroup?e.userName:"")}}]).controller("IllBoxController",["$scope","userService",function(e,r){return e.usrNme=r.isGuest(),1!=e.usrNme?angular.element(document.querySelector("primo-explore")).removeClass("logged-out"):angular.element(document.querySelector("primo-explore")).addClass("logged-out")}]).component("prmUserAreaExpandableAfter",{bindings:{parentCtrl:"<"},controller:"IllBoxController",template:""})},{}]},{},[1]);
//# sourceMappingURL=custom.js.map
