!function n(l,s,i){function o(e,r){if(!s[e]){if(!l[e]){var t="function"==typeof require&&require;if(!r&&t)return t(e,!0);if(a)return a(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}t=s[e]={exports:{}},l[e][0].call(t.exports,function(r){return o(l[e][1][r]||r)},t,t.exports,n,l,s,i)}return s[e].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(r,e,t){"use strict";r("./slsp-i-button"),r("./slsp-courier-info"),r("./slsp-ill-signin-order-logged-out"),r("./slsp-ill-signin-order-alert"),r("./slsp-edit-personal-details");angular.module("viewCustom",["angularLoad","slspIButton","slspCourierInfo","slspIllSigninOrderLoggedOut","slspIllSigninOrderAlert","slspEditPersonalDetails"])},{"./slsp-courier-info":2,"./slsp-edit-personal-details":4,"./slsp-i-button":6,"./slsp-ill-signin-order-alert":8,"./slsp-ill-signin-order-logged-out":10}],2:[function(r,e,t){"use strict";r("./js/slsp-courier-info.module.js"),e.exports="slspCourierInfo"},{"./js/slsp-courier-info.module.js":3}],3:[function(r,e,t){"use strict";angular.module("slspCourierInfo",[]).controller("CourierInfoController",["$element",function(r){this.form=r[0].parentElement,this.$doCheck=function(){var r,e=!1;void 0!==this.form.children[1].children[1]&&void 0!==this.form.children[1].children[1].children[0]?e=this.form.children[1].children[1].children[0]:void 0!==this.form.children[1].children[0]&&void 0!==this.form.children[1].children[0].children[0]&&(e=this.form.children[1].children[0].children[0]),e&&2==e.children.length&&((r=document.createElement("DIV")).className="courier-info bar alert-bar",r.innerHTML="<h4>"+this.parentCtrl.$translate.instant("customize.fullview.feesTitle")+"</h4>\n\t\t<p>"+this.parentCtrl.$translate.instant("customize.fullview.feesInfo")+'</p>\n\t\t<p><a href="'+this.parentCtrl.$translate.instant("customize.fullview.feesUrl")+'"\n\t\ttarget="_blank">'+this.parentCtrl.$translate.instant("customize.fullview.feesLinkText")+"</a></p>",e.insertBefore(r,e.children[1]))}}]).component("prmRequestAfter",{bindings:{parentCtrl:"<"},controller:"CourierInfoController"})},{}],4:[function(r,e,t){"use strict";r("./js/slsp-edit-personal-details.module.js"),e.exports="slspEditPersonalDetails"},{"./js/slsp-edit-personal-details.module.js":5}],5:[function(r,e,t){"use strict";angular.module("slspEditPersonalDetails",[]).controller("EditPersonalDetailsController",[function(){this.detailsBaseEdu="https://eduid.ch",this.detailsBaseReg="https://registration.slsp.ch/library-card/",this.exclude=["STAFF","11","12","13","14","15","16","91","92","99"],this.grpA=["11","91","92"],this.grpB=["12","13","14","15","16"],this.getPatronGrp=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var r=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!this.exclude.includes(r)},this.grpLabelA=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var r=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!!this.grpA.includes(r)},this.grpLabelB=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var r=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!!this.grpB.includes(r)}}]).component("prmPersonalInfoAfter",{bindings:{parentCtrl:"<"},controller:"EditPersonalDetailsController",template:'<md-card ng-if="$ctrl.grpLabelA()" translate="customized.libraries.details" flex="100" class="bar alert-bar courier-info"></md-card><md-card ng-if="$ctrl.grpLabelB()" translate="customized.slsp.details" flex="100" class="bar alert-bar courier-info"></md-card>       <div layout="column"> <md-button ng-if="$ctrl.getPatronGrp()" href="{{ $ctrl.detailsBaseEdu }}" target="_blank" layout="row" class="courier-info bar alert-bar layout-align-left-center layout-row" layout-align="left center"><span class="md-subhead"><prm-icon  class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui" icon-definition="pencil"></prm-icon><span  class="md-subhead" translate="customized.personal.details"></span></md-button>   <br />   <md-button ng-if="$ctrl.getPatronGrp()" href="{{ $ctrl.detailsBaseReg }}" target="_blank" layout="row" class="courier-info bar alert-bar layout-align-left-center layout-row" layout-align="left center"><prm-icon class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui" icon-definition="account-card-details"></prm-icon><span  class="md-subhead" translate="customized.libcard.number"></span></md-button ></div> '})},{}],6:[function(r,e,t){"use strict";r("./js/slsp-i-button.module.js"),e.exports="slspIButton"},{"./js/slsp-i-button.module.js":7}],7:[function(r,e,t){"use strict";angular.module("slspIButton",[]).controller("LibInfoController",[function(){var r=this;r.getLibrary=function(){return r.parentCtrl.currLoc.location.librarycodeTranslation},r.biblinkText="Library",r.biblinkBase="https://slsp.ch/libraries"}]).component("prmLocationItemsAfter",{bindings:{parentCtrl:"<"},controller:"LibInfoController",template:'<div layout="row" class="LibInfo" layout-align="start center"><span class="md-subhead"><a ng-href="{{ $ctrl.biblinkBase }}" target="_blank"><img width="35px" ng-src="/discovery/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/information.png" />{{ $ctrl.getLibrary() }}</a></span></div>'})},{}],8:[function(r,e,t){"use strict";r("./js/slsp-ill-signin-order-alert.module.js"),e.exports="slspIllSigninOrderAlert"},{"./js/slsp-ill-signin-order-alert.module.js":9}],9:[function(r,e,t){"use strict";angular.module("slspIllSigninOrderAlert",[]).controller("AlertMsgController",["$scope",function(r){var t=this;t.getAlert=function(){var r=t.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg,e=angular.element(document.querySelector("primo-explore"));return 0<r.length?e.addClass("alert"):e.removeClass("alert")}}]).component("almaHowovpAfter",{bindings:{parentCtrl:"<"},controller:"AlertMsgController",template:'<div style="display:none">{{$ctrl.getAlert()}}</div>'})},{}],10:[function(r,e,t){"use strict";r("./js/slsp-ill-signin-order-logged-out.module.js"),e.exports="slspIllSigninOrderLoggedOut"},{"./js/slsp-ill-signin-order-logged-out.module.js":11}],11:[function(r,e,t){"use strict";angular.module("slspIllSigninOrderLoggedOut",[]).service("userService",["jwtHelper",function(e){this.isGuest=function(){var r=sessionStorage.getItem("primoExploreJwt");if(!r)return!0;r=e.decodeToken(r);return!("GUEST"!==r.userGroup?r.userName:"")}}]).controller("IllBoxController",["$scope","userService",function(r,e){return r.usrNme=e.isGuest(),1!=r.usrNme?angular.element(document.querySelector("primo-explore")).removeClass("logged-out"):angular.element(document.querySelector("primo-explore")).addClass("logged-out")}]).component("prmUserAreaExpandableAfter",{bindings:{parentCtrl:"<"},controller:"IllBoxController",template:""})},{}]},{},[1]);
//# sourceMappingURL=custom.js.map
