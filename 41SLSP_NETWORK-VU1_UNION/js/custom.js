!function n(i,o,l){function s(e,t){if(!o[e]){if(!i[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(a)return a(e,!0);throw(r=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",r}r=o[e]={exports:{}},i[e][0].call(r.exports,function(t){return s(i[e][1][t]||t)},r,r.exports,n,i,o,l)}return o[e].exports}for(var a="function"==typeof require&&require,t=0;t<l.length;t++)s(l[t]);return s}({1:[function(t,e,r){"use strict";t("./slsp-courier-info"),t("./slsp-ill-signin-order-logged-out"),t("./slsp-ill-signin-order-alert"),t("./slsp-edit-personal-details"),t("./prm-locations-after"),t("./prm-location-items-after"),t("./slsp-archives-htgi"),t("./slsp-archives-viewit");angular.module("viewCustom",["angularLoad","slspCourierInfo","slspIllSigninOrderLoggedOut","slspIllSigninOrderAlert","slspEditPersonalDetails","ethLocationsAfterModule","ethLocationItemsAfterModule","slspArchivesHtgi","slspArchivesViewit"])},{"./prm-location-items-after":2,"./prm-locations-after":7,"./slsp-archives-htgi":10,"./slsp-archives-viewit":12,"./slsp-courier-info":14,"./slsp-edit-personal-details":16,"./slsp-ill-signin-order-alert":18,"./slsp-ill-signin-order-logged-out":20}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethLocationItemsAfterModule=void 0;var n=t("./eth-location-items-filter/eth-location-items-filter.module"),t=t("./slsp-i-button/slsp-i-button.module"),r=r.ethLocationItemsAfterModule=angular.module("ethLocationItemsAfterModule",[]).component("prmLocationItemsAfter",{bindings:{parentCtrl:"<"},template:'<eth-location-items-filter-component after-ctrl="$ctrl"></eth-location-items-filter-component><slsp-i-button-component after-ctrl="$ctrl"></slsp-i-button-component>'});r.requires.push(n.ethLocationItemsFilterModule.name),r.requires.push(t.slspIButtonModule.name)},{"./eth-location-items-filter/eth-location-items-filter.module":4,"./slsp-i-button/slsp-i-button.module":6}],3:[function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.$timeout=t,this.$scope=e}Object.defineProperty(r,"__esModule",{value:!0}),(r.ethLocationItemsFilterController=(function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}(i,[{key:"$onInit",value:function(){var n=this;try{this.parentCtrl=this.afterCtrl.parentCtrl,this.$scope.$watch("this.$ctrl.parentCtrl.loc.location.librarycodeTranslation",function(t,e,r){!r.$ctrl.parentCtrl.isLocationsFilterVisible&&t&&""!=t&&n.$scope.$watch("this.$ctrl.parentCtrl.loc.items",function(t){angular.isArray(t)&&1<t.length&&n.$timeout(function(){r.$ctrl.parentCtrl.isLocationsFilterVisible=!0},0)})},!0)}catch(t){console.error("***SLSP*** an error occured: ethLocationItemsFilterController\n\n"),console.error(t.message)}}}]),i)).$inject=["$timeout","$scope"]},{}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethLocationItemsFilterModule=void 0;t=t("./eth-location-items-filter.controller"),r.ethLocationItemsFilterModule=angular.module("ethLocationItemsFilterModule",[]).controller("ethLocationItemsFilterController",t.ethLocationItemsFilterController).component("ethLocationItemsFilterComponent",{bindings:{afterCtrl:"<"},controller:"ethLocationItemsFilterController"})},{"./eth-location-items-filter.controller":3}],5:[function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i)}Object.defineProperty(r,"__esModule",{value:!0}),(r.slspIButtonController=(function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}(i,[{key:"$onInit",value:function(){try{this.parentCtrl=this.afterCtrl.parentCtrl,this.getLibrary=function(){return this.parentCtrl.currLoc.location.librarycodeTranslation},this.biblinkText="Library",this.biblinkBase="https://slsp.ch/libraries"}catch(t){console.error("***SLSP*** an error occured: slspIButtonController\n\n"),console.error(t.message)}}}]),i)).$inject=[]},{}],6:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.slspIButtonModule=void 0;t=t("./slsp-i-button.controller"),r.slspIButtonModule=angular.module("slspIButtonModule",[]).controller("slspIButtonController",t.slspIButtonController).component("slspIButtonComponent",{bindings:{afterCtrl:"<"},controller:"slspIButtonController",template:'<div layout="row" class="LibInfo" layout-align="start center">\r\n    <span class="md-subhead">\r\n    <a ng-href="{{ $ctrl.biblinkBase }}" target="_blank">\r\n        <img width="35px" ng-src="/discovery/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/information.png" />{{ $ctrl.getLibrary() }}</a>\r\n        </span>\r\n</div>'})},{"./slsp-i-button.controller":5}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethLocationsAfterModule=void 0;t=t("./eth-locations-filter/eth-locations-filter.module");(r.ethLocationsAfterModule=angular.module("ethLocationsAfterModule",[]).component("prmLocationsAfter",{bindings:{parentCtrl:"<"},template:'<eth-locations-filter-component after-ctrl="$ctrl"></eth-locations-filter-component>'})).requires.push(t.ethLocationsFilterModule.name)},{"./eth-locations-filter/eth-locations-filter.module":9}],8:[function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.$timeout=t,this.$scope=e}Object.defineProperty(r,"__esModule",{value:!0}),(r.ethLocationsFilterController=(function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}(i,[{key:"$onInit",value:function(){var n=this;try{this.parentCtrl=this.afterCtrl.parentCtrl,this.$scope.$watch("this.$ctrl.parentCtrl.locations[0].location.librarycodeTranslation",function(t,e,r){!r.$ctrl.parentCtrl.isLocationsFilterVisible&&t&&""!=t&&n.$timeout(function(){r.$ctrl.parentCtrl.isLocationsFilterVisible=!0},0)},!0)}catch(t){console.error("***ETH*** an error occured: ethLocationsFilterController\n\n"),console.error(t.message)}}}]),i)).$inject=["$timeout","$scope"]},{}],9:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethLocationsFilterModule=void 0;t=t("./eth-locations-filter.controller"),r.ethLocationsFilterModule=angular.module("ethLocationsFilterModule",[]).controller("ethLocationsFilterController",t.ethLocationsFilterController).component("ethLocationsFilterComponent",{bindings:{afterCtrl:"<"},controller:"ethLocationsFilterController"})},{"./eth-locations-filter.controller":8}],10:[function(t,e,r){"use strict";t("./js/slsp-archives-htgi.module.js"),e.exports="slspArchivesHtgi"},{"./js/slsp-archives-htgi.module.js":11}],11:[function(t,e,r){"use strict";angular.module("slspArchivesHtgi",[]).controller("ArchivesHtgiController",[function(){this.$onInit=function(){try{if(!this.parentCtrl.item.pnx.display.source||0===this.parentCtrl.item.pnx.display.source.length)return;var t,e;this.source=this.parentCtrl.item.pnx.display.source[0],"ETH_MaxFrischArchiv"!==this.source&&"ETH_ThomasMannArchiv"!==this.source||(document.getElementById("full-view-container").classList.add("slsp-archives-hide"),e=(t=this.parentCtrl.item.pnx.control.originalsourceid[0]).substring(t.lastIndexOf(":")+1),"ETH_ThomasMannArchiv"===this.source?this.url="http://www.online.tma.ethz.ch/home/#/content/"+e:"ETH_MaxFrischArchiv"===this.source&&(this.url="http://maxfrischarchiv-online.ethz.ch/home/#/content/"+e))}catch(t){console.error("***SLSP*** an error occured: ArchivesHtgiController\n\n"),console.error(t.message)}}}]).component("almaHtgiSvcAfter",{bindings:{parentCtrl:"<"},controller:"ArchivesHtgiController",template:'\n        <div class="slsp-archives" ng-if="$ctrl.url">\n            <md-list layout="column" class="separate-list-items md-primoExplore-theme layout-column" role="list">\n                <md-list-item role="listitem" ng-href="{{$ctrl.url}}" target="_blank">\n                      <span>{{(\'customized.archives.\' + $ctrl.source + \'.linktext\' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class="md-secondary">\n                        <prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new" class="layout-margin"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if="$ctrl.source === \'ETH_ThomasMannArchiv\'" class="slsp-archives-additional-hint">\n                <div>\n                    <span translate="customized.archives.ETH_ThomasMannArchiv.text1">No request possible. The digitized item can be consulted in the Thomas Mann Archives reading room upon advance registration (</span>\n                    <a target="_blank" rel="noopener" ng-href="https://tma.ethz.ch/utils/kontakt.html">\n                        <span translate="customized.archives.ETH_ThomasMannArchiv.linktext2">Contact</span>\n                        <prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                    </a>\n                    <span translate="customized.archives.ETH_ThomasMannArchiv.text2">).</span>\n                </div>\n            </div>\n            <div ng-if="$ctrl.source === \'ETH_MaxFrischArchiv\'" class="slsp-archives-additional-hint">\n                <div>\n                    <span translate="customized.archives.ETH_MaxFrischArchiv.text1">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target="_blank" rel="noopener" ng-href="http://maxfrischarchiv-online.ethz.ch/home/#/manual">\n                        <span translate="customized.archives.ETH_MaxFrischArchiv.linktext2">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                    </a>\n                    <span translate="customized.archives.ETH_MaxFrischArchiv.text2">.</span>\n                </div>\n            </div>\n        </div>\n        '})},{}],12:[function(t,e,r){"use strict";t("./js/slsp-archives-viewit.module.js"),e.exports="slspArchivesViewit"},{"./js/slsp-archives-viewit.module.js":13}],13:[function(t,e,r){"use strict";angular.module("slspArchivesViewit",[]).component("prmSearchResultAvailabilityLineAfter",{bindings:{parentCtrl:"<"},controller:"ArchivesAvailabilityLineController"}).component("prmAlmaViewitAfter",{bindings:{parentCtrl:"<"},controller:"ArchivesViewitController",template:'\n        <div class="slsp-archives" ng-if="$ctrl.url">\n            <md-list layout="column" class="separate-list-items md-primoExplore-theme layout-column" role="list">\n                <md-list-item role="listitem" ng-href="{{$ctrl.url}}" target="_blank">\n                    <span>{{(\'customized.archives.\' + $ctrl.source + \'.linktext\' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class="md-secondary">\n                        <prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new" class="layout-margin"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if="$ctrl.source === \'ETH_Hochschularchiv\'" class="slsp-archives-additional-hint">\n                <div>\n                    <span translate="customized.archives.ETH_Hochschularchiv.text1">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target="_blank" rel="noopener" ng-href="http://archivdatenbank-online.ethz.ch/hsa/#/manual">\n                        <span translate="customized.archives.ETH_Hochschularchiv.linktext2">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>\n                    </a>\n                    <span translate="customized.archives.ETH_Hochschularchiv.text2">.</span>\n                </div>\n            </div>\n        </div>\n        '}).controller("ArchivesViewitController",["$translate",function(r){this.$onInit=function(){try{if(!this.parentCtrl.item.pnx.display.source||0===this.parentCtrl.item.pnx.display.source.length)return;if(this.source=this.parentCtrl.item.pnx.display.source[0],"ETH_Hochschularchiv"===this.source){if(this.parentCtrl.item.delivery.GetIt1&&0<this.parentCtrl.item.delivery.GetIt1.length&&this.parentCtrl.item.delivery.GetIt1[0].links&&0<this.parentCtrl.item.delivery.GetIt1[0].links.length){if(0<this.parentCtrl.item.delivery.GetIt1[0].links.filter(function(t){return!(!t.isLinktoOnline||""===t.link)}).length)return;r("nui.getit.service_howtogetit").then(function(t){var e=document.getElementById("fullView");angular.element(e.querySelector("h4[translate='nui.getit.service_viewit']")).text(t),angular.element(e.querySelector("#services-index span[translate='nui.getit.service_viewit']")).text(t)})}document.getElementById("full-view-container").classList.add("slsp-archives-hide");var t=this.parentCtrl.item.pnx.control.originalsourceid[0],e=t.substring(t.lastIndexOf(":")+1);"ETH_Hochschularchiv"===this.source&&(this.url="http://archivdatenbank-online.ethz.ch/hsa/#/content/"+e)}}catch(t){console.error("***SLSP*** an error occured: ArchivesViewitController\n\n"),console.error(t.message)}}}]).controller("ArchivesAvailabilityLineController",["$translate",function(r){this.$onInit=function(){var t,e=this;try{if(this.changeButton=!1,!this.parentCtrl.result.pnx.display.source||0===this.parentCtrl.result.pnx.display.source.length)return;if(this.source=this.parentCtrl.result.pnx.display.source[0],"ETH_Hochschularchiv"===!this.source)return;if(!this.parentCtrl.result.delivery.GetIt1||0==this.parentCtrl.result.delivery.GetIt1.length||!this.parentCtrl.result.delivery.GetIt1[0].links||0==this.parentCtrl.result.delivery.GetIt1[0].links.length)return;0===this.parentCtrl.result.delivery.GetIt1[0].links.filter(function(t){return!(!t.isLinktoOnline||""===t.link)}).length&&(r("delivery.code.no_inventory").then(function(t){e.changeButton=!0,e.changeButtonText=t}),(t=this.parentCtrl.$element[0])&&t.classList.add("slsp-hsa-no-online"))}catch(t){console.error("***SLSP*** an error occured: ArchivesAvailabilityLineController\n\n"),console.error(t.message)}},this.$doCheck=function(){try{var t;this.changeButton&&(t=this.parentCtrl.$element[0].querySelector(".availability-status"),angular.element(t)&&0<angular.element(t).length&&(angular.element(t).html(this.changeButtonText),this.changeButton=!1,this.changeButtonText=""))}catch(t){console.error("***ETH*** an error occured: ArchivesAvailabilityLineController $doCheck\n\n"),console.error(t.message)}}}])},{}],14:[function(t,e,r){"use strict";t("./js/slsp-courier-info.module.js"),e.exports="slspCourierInfo"},{"./js/slsp-courier-info.module.js":15}],15:[function(t,e,r){"use strict";angular.module("slspCourierInfo",[]).controller("CourierInfoController",["$element",function(t){this.form=t[0].parentElement,this.$doCheck=function(){var t,e=!1,r=2;void 0!==this.form.children[0].children[1]&&void 0!==this.form.children[0].children[1].children[0]?e=this.form.children[0].children[1].children[0]:void 0!==this.form.children[0].children[0]&&void 0!==this.form.children[0].children[0].children[0]&&(e=this.form.children[0].children[0].children[0],r=3),e&&e.children.length==r&&((t=document.createElement("DIV")).className="courier-info bar alert-bar",t.innerHTML="<h4>"+this.parentCtrl.$translate.instant("customize.fullview.feesTitle")+"</h4>\n\t\t<p>"+this.parentCtrl.$translate.instant("customize.fullview.feesInfo")+'</p>\n\t\t<p><a href="'+this.parentCtrl.$translate.instant("customize.fullview.feesUrl")+'"\n\t\ttarget="_blank">'+this.parentCtrl.$translate.instant("customize.fullview.feesLinkText")+"</a></p>",e.insertBefore(t,e.children[r-1]))}}]).component("prmRequestAfter",{bindings:{parentCtrl:"<"},controller:"CourierInfoController"})},{}],16:[function(t,e,r){"use strict";t("./js/slsp-edit-personal-details.module.js"),e.exports="slspEditPersonalDetails"},{"./js/slsp-edit-personal-details.module.js":17}],17:[function(t,e,r){"use strict";angular.module("slspEditPersonalDetails",[]).controller("EditPersonalDetailsController",["$scope",function(t){var e="en",t=t.$root.$$childHead.$ctrl.userSessionManagerService;t&&(e=t.getInterfaceLanguage()),this.detailsBaseEdu="https://eduid.ch/web/change-account-data/2/?lang="+e,this.detailsBaseReg="https://registration.slsp.ch/library-card/?lang="+e,this.exclude=["STAFF","11","12","13","14","15","16","91","92","99"],this.grpA=["11","91","92"],this.grpB=["12","13","14","15","16"],this.getPatronGrp=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var t=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!this.exclude.includes(t)},this.grpLabelA=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var t=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!!this.grpA.includes(t)},this.grpLabelB=function(){if(void 0===this.parentCtrl.personalInfoService.personalInfo)return!1;var t=this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;return!!this.grpB.includes(t)}}]).component("prmPersonalInfoAfter",{bindings:{parentCtrl:"<"},controller:"EditPersonalDetailsController",template:'<md-card ng-if="$ctrl.grpLabelA()" translate="customized.libraries.details" flex="100" class="bar alert-bar courier-info"></md-card><md-card ng-if="$ctrl.grpLabelB()" translate="customized.slsp.details" flex="100" class="bar alert-bar courier-info"></md-card>       <div layout="column"> <md-button ng-if="$ctrl.getPatronGrp()" href="{{ $ctrl.detailsBaseEdu }}" target="_blank" layout="row" class="courier-info bar alert-bar layout-align-left-center layout-row" layout-align="left center"><span class="md-subhead"><prm-icon  class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui" icon-definition="pencil"></prm-icon><span  class="md-subhead" translate="customized.personal.details"></span></md-button>   <br />   <md-button ng-if="$ctrl.getPatronGrp()" href="{{ $ctrl.detailsBaseReg }}" target="_blank" layout="row" class="courier-info bar alert-bar layout-align-left-center layout-row" layout-align="left center"><prm-icon class="rotate-20 margin-right-small" icon-type="svg" svg-icon-set="primo-ui" icon-definition="account-card-details"></prm-icon><span  class="md-subhead" translate="customized.libcard.number"></span></md-button ></div> '})},{}],18:[function(t,e,r){"use strict";t("./js/slsp-ill-signin-order-alert.module.js"),e.exports="slspIllSigninOrderAlert"},{"./js/slsp-ill-signin-order-alert.module.js":19}],19:[function(t,e,r){"use strict";angular.module("slspIllSigninOrderAlert",[]).controller("AlertMsgController",["$scope",function(t){var r=this;r.getAlert=function(){var t=r.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg,e=angular.element(document.querySelector("primo-explore"));return 0<t.length?e.addClass("alert"):e.removeClass("alert")}}]).component("almaHowovpAfter",{bindings:{parentCtrl:"<"},controller:"AlertMsgController",template:'<div style="display:none">{{$ctrl.getAlert()}}</div>'})},{}],20:[function(t,e,r){"use strict";t("./js/slsp-ill-signin-order-logged-out.module.js"),e.exports="slspIllSigninOrderLoggedOut"},{"./js/slsp-ill-signin-order-logged-out.module.js":21}],21:[function(t,e,r){"use strict";angular.module("slspIllSigninOrderLoggedOut",[]).service("userService",["jwtHelper",function(e){this.isGuest=function(){var t=sessionStorage.getItem("primoExploreJwt");if(!t)return!0;t=e.decodeToken(t);return!("GUEST"!==t.userGroup?t.userName:"")}}]).controller("IllBoxController",["$scope","userService",function(t,e){return t.usrNme=e.isGuest(),1!=t.usrNme?angular.element(document.querySelector("primo-explore")).removeClass("logged-out"):angular.element(document.querySelector("primo-explore")).addClass("logged-out")}]).component("prmUserAreaExpandableAfter",{bindings:{parentCtrl:"<"},controller:"IllBoxController",template:""})},{}]},{},[1]);
//# sourceMappingURL=custom.js.map
