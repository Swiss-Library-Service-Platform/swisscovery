{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/main.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-locations-after/eth-locations-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-locations-after/eth-locations-filter/eth-locations-filter.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-locations-after/eth-locations-filter/eth-locations-filter.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-archives-htgi/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-archives-htgi/js/slsp-archives-htgi.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-archives-viewit/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-archives-viewit/js/slsp-archives-viewit.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-courier-info/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-courier-info/js/slsp-courier-info.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-edit-personal-details/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-edit-personal-details/js/slsp-edit-personal-details.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-i-button/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-i-button/js/slsp-i-button.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-ill-signin-order-alert/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-ill-signin-order-alert/js/slsp-ill-signin-order-alert.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-ill-signin-order-logged-out/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-ill-signin-order-logged-out/js/slsp-ill-signin-order-logged-out.module.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","angular","_ethLocationsFilter","ethLocationsAfterModule","component","bindings","parentCtrl","template","requires","push","ethLocationsFilterModule","name","ethLocationsFilterController","$timeout","$scope","_classCallCheck","this","_this","afterCtrl","$watch","newValue","oldValue","scope","$ctrl","isLocationsFilterVisible","console","error","message","$inject","controller","$onInit","item","pnx","display","source","sourceid","guid","document","getElementById","classList","add","control","originalsourceid","substring","lastIndexOf","url","$translate","delivery","GetIt1","links","filter","l","isLinktoOnline","link","then","translation","fullView","element","querySelector","text","availabilityLine","changeButton","result","changeButtonText","$element","$doCheck","button","html","form","parentElement","info","formLength","undefined","children","createElement","className","innerHTML","instant","insertBefore","lang","sms","$root","$$childHead","userSessionManagerService","getInterfaceLanguage","detailsBaseEdu","detailsBaseReg","exclude","grpA","grpB","getPatronGrp","personalInfoService","personalInfo","patron","patronstatus","registration","institution","patronstatuscode","includes","grpLabelA","labelA","grpLabelB","labelB","vm","getLibrary","currLoc","location","librarycodeTranslation","biblinkText","biblinkBase","getAlert","ga","almaHowToGetitService","reqAlert","_htmlMsg","myEl2","addClass","removeClass","service","jwtHelper","isGuest","jwt","sessionStorage","getItem","decodedToken","decodeToken","userGroup","userName","userService","usrNme"],"mappings":"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","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\r\nimport './slsp-i-button';\r\nimport './slsp-courier-info';\r\nimport './slsp-ill-signin-order-logged-out';\r\nimport './slsp-ill-signin-order-alert';\r\nimport './slsp-edit-personal-details';\r\nimport './prm-locations-after';\r\nimport './slsp-archives-htgi';\r\nimport './slsp-archives-viewit';\r\n\r\n\r\n\r\nvar app = angular.module('viewCustom', ['angularLoad', 'slspIButton', 'slspCourierInfo', 'slspIllSigninOrderLoggedOut', 'slspIllSigninOrderAlert', 'slspEditPersonalDetails','ethLocationsAfterModule', 'slspArchivesHtgi', 'slspArchivesViewit' ]);\r\n\r\n","import {ethLocationsFilterModule} from './eth-locations-filter/eth-locations-filter.module';\n\nexport const ethLocationsAfterModule = angular\n    .module('ethLocationsAfterModule', [])\n        .component('prmLocationsAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<eth-locations-filter-component after-ctrl=\"$ctrl\"></eth-locations-filter-component>`\n        });\n\nethLocationsAfterModule.requires.push(ethLocationsFilterModule.name);\n","export class ethLocationsFilterController {\n\n    constructor($timeout, $scope) {\n        this.$timeout = $timeout;\n        this.$scope = $scope;\n    }\n\n    $onInit() {\n        try{\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.$scope.$watch('this.$ctrl.parentCtrl.locations[0].location.librarycodeTranslation', (newValue, oldValue, scope) => {\n                if(!scope.$ctrl.parentCtrl.isLocationsFilterVisible && newValue && newValue != ''){\n                    this.$timeout(() => {\n                        scope.$ctrl.parentCtrl.isLocationsFilterVisible = true;\n                    }, 0);\n                }\n            }, true);\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethLocationsFilterController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nethLocationsFilterController.$inject = ['$timeout', '$scope'];\n","/**\n* @ngdoc module\n* @name ethLocationsFilterModule\n*\n* @description\n*\n* Customization for the locations filter:<br>\n* - the locations filter is visible by default\n*\n* If there is 1 location: prmLocationItemsAfter\n*\n* If there are multiple locations: prmLocationAfter;\n* after all locations: prmLocationsAfter;\n* after choosing a location: prmLocationItemsAfter\n*\n*\n* <b>AngularJS Dependencies</b><br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n* CSS eth-locations-filter.css\n*\n*\n*/\nimport {ethLocationsFilterController} from './eth-locations-filter.controller';\n\nexport const ethLocationsFilterModule = angular\n    .module('ethLocationsFilterModule', [])\n        .controller('ethLocationsFilterController', ethLocationsFilterController)\n        .component('ethLocationsFilterComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethLocationsFilterController'\n        })\n","require('./js/slsp-archives-htgi.module.js')\r\nmodule.exports = 'slspArchivesHtgi'\r\n","angular\r\n    .module('slspArchivesHtgi', [])\r\n\r\n    // \"how to get it\" section for resources of archives MFA, TMA (CMI STAR)\r\n\r\n    .controller('ArchivesHtgiController', [function () {\r\n\r\n        this.$onInit = function () {\r\n            try{\r\n                if(!this.parentCtrl.item.pnx.display.source || this.parentCtrl.item.pnx.display.source.length === 0){\r\n                    return;\r\n                }\r\n                this.source = this.parentCtrl.item.pnx.display.source[0];\r\n                // CMI STAR sources\r\n                if(this.source === 'ETH_MaxFrischArchiv' || this.source === 'ETH_ThomasMannArchiv'){\r\n                    // hide content of htgi section\r\n                    let section = document.getElementById('full-view-container');\r\n                    section.classList.add('slsp-archives-hide');\r\n\r\n                    // get guid of CMIStar\r\n                    let sourceid = this.parentCtrl.item.pnx.control.originalsourceid[0];\r\n                    let guid = sourceid.substring(sourceid.lastIndexOf(':') + 1);\r\n\r\n                    // different sources: concat url\r\n                    if(this.source === 'ETH_ThomasMannArchiv'){\r\n                        this.url = 'http://www.online.tma.ethz.ch/home/#/content/' + guid;\r\n                        // only for test\r\n                        //this.label = 'Detailed information in Thomas Mann-Archiv Online (metadata only)';\r\n                    }\r\n                    else if (this.source === 'ETH_MaxFrischArchiv') {\r\n                        this.url = 'http://maxfrischarchiv-online.ethz.ch/home/#/content/' + guid;\r\n                        // only for test\r\n                        //this.label = 'Request via Max Frisch-Archiv Online';\r\n                    }\r\n                }\r\n            }\r\n            catch(e){\r\n                console.error(\"***SLSP*** an error occured: ArchivesHtgiController\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    }])\r\n\r\n    .component('almaHtgiSvcAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: 'ArchivesHtgiController',\r\n        template: `\r\n        <div class=\"slsp-archives\" ng-if=\"$ctrl.url\">\r\n            <md-list layout=\"column\" class=\"separate-list-items md-primoExplore-theme layout-column\" role=\"list\">\r\n                <md-list-item role=\"listitem\" ng-href=\"{{$ctrl.url}}\" target=\"_blank\">\r\n                      <span>{{('customized.archives.' + $ctrl.source + '.linktext' | translate)}}</span>\r\n                    <span>{{$ctrl.label}}</span>\r\n                    <div class=\"md-secondary\">\r\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\" class=\"layout-margin\"/>\r\n                    </div>\r\n                </md-list-item>\r\n            </md-list>\r\n            <div ng-if=\"$ctrl.source === 'ETH_ThomasMannArchiv'\" class=\"slsp-archives-additional-hint\">\r\n                <div>\r\n                    <span translate=\"customized.archives.ETH_ThomasMannArchiv.text1\">No request possible. The digitized item can be consulted in the Thomas Mann Archives reading room upon advance registration (</span>\r\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"https://tma.ethz.ch/utils/kontakt.html\">\r\n                        <span translate=\"customized.archives.ETH_ThomasMannArchiv.linktext2\">Contact</span>\r\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\r\n                    </a>\r\n                    <span translate=\"customized.archives.ETH_ThomasMannArchiv.text2\">).</span>\r\n                </div>\r\n            </div>\r\n            <div ng-if=\"$ctrl.source === 'ETH_MaxFrischArchiv'\" class=\"slsp-archives-additional-hint\">\r\n                <div>\r\n                    <span translate=\"customized.archives.ETH_MaxFrischArchiv.text1\">Informationen zu Bestellung und Benutzung siehe</span>\r\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"http://maxfrischarchiv-online.ethz.ch/home/#/manual\">\r\n                        <span translate=\"customized.archives.ETH_MaxFrischArchiv.linktext2\">Bedienungshinweise</span>\r\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\r\n                    </a>\r\n                    <span translate=\"customized.archives.ETH_MaxFrischArchiv.text2\">.</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        `\r\n    });\r\n","require('./js/slsp-archives-viewit.module.js')\r\nmodule.exports = 'slspArchivesViewit'\r\n","angular\r\n.module('slspArchivesViewit', [])\r\n\r\n    .component('prmSearchResultAvailabilityLineAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: 'ArchivesAvailabilityLineController'\r\n    })\r\n\r\n    .component('prmAlmaViewitAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: 'ArchivesViewitController',\r\n        template: `\r\n        <div class=\"slsp-archives\" ng-if=\"$ctrl.url\">\r\n            <md-list layout=\"column\" class=\"separate-list-items md-primoExplore-theme layout-column\" role=\"list\">\r\n                <md-list-item role=\"listitem\" ng-href=\"{{$ctrl.url}}\" target=\"_blank\">\r\n                    <span>{{('customized.archives.' + $ctrl.source + '.linktext' | translate)}}</span>\r\n                    <span>{{$ctrl.label}}</span>\r\n                    <div class=\"md-secondary\">\r\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\" class=\"layout-margin\"/>\r\n                    </div>\r\n                </md-list-item>\r\n            </md-list>\r\n            <div ng-if=\"$ctrl.source === 'ETH_Hochschularchiv'\" class=\"slsp-archives-additional-hint\">\r\n                <div>\r\n                    <span translate=\"customized.archives.ETH_Hochschularchiv.text1\">Informationen zu Bestellung und Benutzung siehe</span>\r\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"http://archivdatenbank-online.ethz.ch/hsa/#/manual\">\r\n                        <span translate=\"customized.archives.ETH_Hochschularchiv.linktext2\">Bedienungshinweise</span>\r\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\r\n                    </a>\r\n                    <span translate=\"customized.archives.ETH_Hochschularchiv.text2\">.</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        `\r\n        })\r\n\r\n    // viewit section for archives when there are only partial digitized items, e.g. \"ETH Hochschularchiv\" (CMI STAR)\r\n    .controller('ArchivesViewitController', ['$translate', function ($translate) {\r\n        this.$onInit = function () {\r\n            try{\r\n                if(!this.parentCtrl.item.pnx.display.source || this.parentCtrl.item.pnx.display.source.length === 0){\r\n                    return;\r\n                }\r\n                this.source = this.parentCtrl.item.pnx.display.source[0];\r\n                // CMI STAR sources\r\n                if(this.source === 'ETH_Hochschularchiv'){\r\n                    if(this.parentCtrl.item.delivery.GetIt1 && this.parentCtrl.item.delivery.GetIt1.length > 0 && this.parentCtrl.item.delivery.GetIt1[0].links && this.parentCtrl.item.delivery.GetIt1[0].links.length > 0){\r\n\r\n                        // there is an online resource: return and do nothing\r\n                        let aOnlineLink = this.parentCtrl.item.delivery.GetIt1[0].links.filter( l => {\r\n                            if(l.isLinktoOnline && l.link !== ''){\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        if (aOnlineLink.length > 0) {\r\n                            return;\r\n                        }\r\n\r\n                        // there is no online resource\r\n                        // change section heading\r\n                        $translate('nui.getit.service_howtogetit').then((translation) => {\r\n                            let fullView = document.getElementById('fullView');\r\n                            angular.element(fullView.querySelector(\"h4[translate='nui.getit.service_viewit']\")).text(translation);\r\n                            angular.element(fullView.querySelector(\"#services-index span[translate='nui.getit.service_viewit']\")).text(translation);\r\n                        });\r\n\r\n                    }\r\n                    // hide content of viewit section\r\n                    let section = document.getElementById('full-view-container');\r\n                    section.classList.add('slsp-archives-hide');\r\n\r\n                    // get guid of CMIStar\r\n                    let sourceid = this.parentCtrl.item.pnx.control.originalsourceid[0];\r\n                    let guid = sourceid.substring(sourceid.lastIndexOf(':') + 1);\r\n\r\n                    // different sources: concat url\r\n                    if(this.source === 'ETH_Hochschularchiv'){\r\n                        this.url = 'http://archivdatenbank-online.ethz.ch/hsa/#/content/' + guid;\r\n                        // only for test\r\n                        //this.label = 'Bestellen über Hochschularchiv Online';\r\n                    }\r\n                }\r\n            }\r\n            catch(e){\r\n                console.error(\"***SLSP*** an error occured: ArchivesViewitController\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    }])\r\n\r\n    // change availability line, if there is no digitization\r\n    .controller('ArchivesAvailabilityLineController', ['$translate', function ($translate) {\r\n        this.$onInit = function () {\r\n            try{\r\n                this.changeButton = false;\r\n                if(!this.parentCtrl.result.pnx.display.source || this.parentCtrl.result.pnx.display.source.length === 0){\r\n                    return;\r\n                }\r\n                this.source = this.parentCtrl.result.pnx.display.source[0];\r\n                if(!this.source === 'ETH_Hochschularchiv')return;\r\n                if(!this.parentCtrl.result.delivery.GetIt1 || this.parentCtrl.result.delivery.GetIt1.length == 0 || !this.parentCtrl.result.delivery.GetIt1[0].links || this.parentCtrl.result.delivery.GetIt1[0].links.length == 0)return;\r\n\r\n                let aOnlineLink = this.parentCtrl.result.delivery.GetIt1[0].links.filter( l => {\r\n                    if(l.isLinktoOnline && l.link !== ''){\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                });\r\n                if (aOnlineLink.length === 0) {\r\n                    // there is no online resource\r\n                    $translate('delivery.code.no_inventory').then((translation) => {\r\n                        this.changeButton = true;\r\n                        this.changeButtonText = translation;\r\n                    });\r\n                    let availabilityLine = this.parentCtrl.$element[0];\r\n                    if(availabilityLine) {\r\n                        availabilityLine.classList.add('slsp-hsa-no-online');\r\n                    }\r\n                }\r\n            }\r\n            catch(e){\r\n                console.error(\"***SLSP*** an error occured: ArchivesAvailabilityLineController\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n\r\n        this.$doCheck = function () {\r\n            try{\r\n                if (this.changeButton){\r\n                    let availabilityLine = this.parentCtrl.$element[0];\r\n                    let button = availabilityLine.querySelector('.availability-status');\r\n                    if(angular.element(button) && angular.element(button).length > 0){\r\n                        angular.element(button).html(this.changeButtonText);\r\n                        this.changeButton = false;\r\n                        this.changeButtonText = '';\r\n                    }\r\n                }\r\n            }\r\n            catch(e){\r\n                console.error(\"***ETH*** an error occured: ArchivesAvailabilityLineController $doCheck\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    }])\r\n","require('./js/slsp-courier-info.module.js')\r\nmodule.exports = 'slspCourierInfo'","angular\r\n    .module('slspCourierInfo', [])\r\n\r\n    //--------Fees messages ---------------------------------------\r\n\r\n    .controller('CourierInfoController', ['$element', function ($element) {\r\n\r\n        //shortcut for convenience\r\n\r\n        this.form = $element[0].parentElement;\r\n\r\n        //function for inserting block\r\n\r\n        this.$doCheck = function () {\r\n            let form = false;\n            let formLength = 2;\n            if (this.form.children[0].children[1] !== undefined && this.form.children[0].children[1].children[0] !== undefined) {\r\n                form = this.form.children[0].children[1].children[0];\r\n            }\n            else if (this.form.children[0].children[0] !== undefined && this.form.children[0].children[0].children[0] !== undefined) {\r\n                form = this.form.children[0].children[0].children[0];\n                formLength = 3;\r\n            }\n\n            //create and insert info block if not present\n\n            if (form && form.children.length == formLength) {\r\n                let info = document.createElement('DIV');\n                info.className = \"courier-info bar alert-bar\";\n                info.innerHTML =\n                `<h4>${this.parentCtrl.$translate.instant('customize.fullview.feesTitle')}</h4>\n\t\t<p>${this.parentCtrl.$translate.instant('customize.fullview.feesInfo')}</p>\n\t\t<p><a href=\"${this.parentCtrl.$translate.instant('customize.fullview.feesUrl')}\"\n\t\ttarget=\"_blank\">${this.parentCtrl.$translate.instant('customize.fullview.feesLinkText')}</a></p>`;\n                form.insertBefore(info, form.children[formLength - 1]);\r\n            }\r\n        }\n\r\n    }])\r\n\r\n    .component('prmRequestAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: 'CourierInfoController'\r\n    });\r\n","require('./js/slsp-edit-personal-details.module.js')\r\nmodule.exports = 'slspEditPersonalDetails'","\r\n\r\nangular\r\n    .module('slspEditPersonalDetails', [])\r\n\r\n\r\n\r\n    //------------------------------ edit personal details  ---------------------------\r\n\r\n    .controller('EditPersonalDetailsController', ['$scope', function ($scope) {\r\n\r\n        let lang = 'en';\r\n        let sms = $scope.$root.$$childHead.$ctrl.userSessionManagerService;\r\n        if (sms) {\r\n            lang = sms.getInterfaceLanguage();\r\n        }\r\n\r\n        this.detailsBaseEdu = \"https:\\/\\/eduid.ch\\/web\\/change-account-data\\/2\\/?lang=\" + lang;\r\n        this.detailsBaseReg = \"https:\\/\\/registration.slsp.ch\\/library-card\\/?lang=\" + lang;\r\n        this.exclude = ['STAFF', '11', '12', '13', '14', '15', '16', '91', '92', '99'];\r\n        this.grpA = ['11', '91', '92'];\r\n        this.grpB = ['12', '13', '14', '15', '16'];\r\n\r\n\r\n        this.getPatronGrp = function() {\r\n            if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                let patron = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                if (!this.exclude.includes(patron)) {\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n            }\r\n        }\r\n            return false;\r\n        }\r\n\r\n        this.grpLabelA = function() {\r\n            if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                let labelA = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                if (this.grpA.includes(labelA)) {\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n            }\r\n        }\r\n            return false;\r\n        }\r\n\r\n    \r\n        this.grpLabelB = function() {\r\n            if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                let labelB = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                if (this.grpB.includes(labelB)) {\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n            }\r\n        }\r\n            return false;\r\n        }\r\n\r\n \r\n    }])\r\n\r\n\r\n    .component('prmPersonalInfoAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: 'EditPersonalDetailsController',\r\n        template: '<md-card ng-if=\"$ctrl.grpLabelA()\" translate=\"customized.libraries.details\" flex=\"100\" class=\"bar alert-bar courier-info\"></md-card><md-card ng-if=\"$ctrl.grpLabelB()\" translate=\"customized.slsp.details\" flex=\"100\" class=\"bar alert-bar courier-info\"></md-card>       <div layout=\"column\"> <md-button ng-if=\"$ctrl.getPatronGrp()\" href=\"{{ $ctrl.detailsBaseEdu }}\" target=\"_blank\" layout=\"row\" class=\"courier-info bar alert-bar layout-align-left-center layout-row\" layout-align=\"left center\"><span class=\"md-subhead\"><prm-icon  class=\"rotate-20 margin-right-small\" icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"pencil\"></prm-icon><span  class=\"md-subhead\" translate=\"customized.personal.details\"></span></md-button>   <br />   <md-button ng-if=\"$ctrl.getPatronGrp()\" href=\"{{ $ctrl.detailsBaseReg }}\" target=\"_blank\" layout=\"row\" class=\"courier-info bar alert-bar layout-align-left-center layout-row\" layout-align=\"left center\"><prm-icon class=\"rotate-20 margin-right-small\" icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"account-card-details\"></prm-icon><span  class=\"md-subhead\" translate=\"customized.libcard.number\"></span></md-button ></div> '\r\n\r\n    });\r\n","require('./js/slsp-i-button.module.js')\r\nmodule.exports = 'slspIButton'","\r\n\r\n//--------\"i\" button ---------------------------------------\r\n\r\nangular\r\n    .module('slspIButton', [])\r\n\r\n    .controller('LibInfoController', [function () {\r\n        var vm = this;\r\n        vm.getLibrary = getLibrary;\r\n        vm.biblinkText = \"Library\";\r\n        vm.biblinkBase = \"https:\\/\\/slsp.ch\\/libraries\";\r\n\r\n        function getLibrary() {\r\n            return vm.parentCtrl.currLoc.location.librarycodeTranslation;\r\n        }\r\n\r\n    }])\r\n\r\n    .component('prmLocationItemsAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: 'LibInfoController',\r\n        template: '<div layout=\"row\" class=\"LibInfo\" layout-align=\"start center\"><span class=\"md-subhead\"><a ng-href=\"{{ $ctrl.biblinkBase }}\" target=\"_blank\"><img width=\"35px\" ng-src=\"/discovery/custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/information.png\" />{{ $ctrl.getLibrary() }}</a></span></div>'\r\n    });\r\n\r\n\r\n\r\n","require('./js/slsp-ill-signin-order-alert.module.js')\r\nmodule.exports = 'slspIllSigninOrderAlert'","//--------ILL Signin Order -  if Alert Message ---------------------------------------\r\n\r\nangular\r\n    .module('slspIllSigninOrderAlert', [])\r\n\r\n    .controller('AlertMsgController', ['$scope', function ($scope) {\r\n        var vm = this;\r\n        vm.getAlert = getAlert\r\n\r\n        function getAlert() {\r\n            var ga = vm.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg;\r\n            var myEl2 = angular.element(document.querySelector('primo-explore'));\r\n\r\n            if (ga.length > 0) {\r\n                return myEl2.addClass('alert');\r\n\r\n            }\r\n            else {\r\n\r\n                return myEl2.removeClass('alert');\r\n\r\n            }\r\n        }\r\n\r\n    }])\r\n\r\n    .component('almaHowovpAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: 'AlertMsgController',\r\n        template: '<div style=\"display:none\">{{$ctrl.getAlert()}}</div>'\r\n    });\r\n","require('./js/slsp-ill-signin-order-logged-out.module.js')\r\nmodule.exports = 'slspIllSigninOrderLoggedOut'","\r\n\r\n    //--------ILL Signin Order -  if logged out ---------------------------------------\r\n   \r\n\r\nangular\r\n    .module('slspIllSigninOrderLoggedOut', [])\r\n\r\n    .service('userService', ['jwtHelper', function (jwtHelper) {\r\n        this.isGuest = function () {\r\n            var jwt = sessionStorage.getItem('primoExploreJwt');\r\n            if (!jwt) {\r\n                return true;\r\n            }\r\n            var decodedToken = jwtHelper.decodeToken(jwt);\r\n            let userName = decodedToken.userGroup !== 'GUEST' ? decodedToken.userName : '';\r\n            if (userName) {\r\n                return false\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n    }])\r\n\r\n\r\n    .controller('IllBoxController', ['$scope', 'userService', function ($scope, userService) {\r\n\r\n    $scope.usrNme = userService.isGuest();\r\n\r\n    if ($scope.usrNme == true) {\r\n        var myEl = angular.element(document.querySelector('primo-explore'));\r\n        return myEl.addClass('logged-out')\r\n    }\r\n\r\n    else {\r\n        var myEl = angular.element(document.querySelector('primo-explore'));\r\n        return myEl.removeClass('logged-out');\r\n    }\r\n\r\n\r\n}])\r\n\r\n.component('prmUserAreaExpandableAfter', {\r\n    bindings: { parentCtrl: '<' },\r\n    controller: 'IllBoxController',\r\n    template: ''\r\n});\r\n\r\n"]}