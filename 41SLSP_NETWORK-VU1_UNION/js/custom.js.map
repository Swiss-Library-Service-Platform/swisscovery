{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/main.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/pickup-anywhere-form-after/pickup-anywhere-form-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/pickup-anywhere-form-after/slsp-rapido-hide-library/slsp-rapido-hide-library.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/pickup-anywhere-form-after/slsp-rapido-hide-library/slsp-rapido-hide-library.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-alma-other-members-after/prm-alma-other-members-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-alma-other-members-after/slsp-collapse-other-inst/slsp-collapse-other-inst.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-alma-other-members-after/slsp-collapse-other-inst/slsp-collapse-other-inst.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-alma-other-members-after/slsp-icon-label-other-members/slsp-icon-label-other-members.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-alma-other-members-after/slsp-icon-label-other-members/slsp-icon-label-other-members.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-alma-viewit-items-after/prm-alma-viewit-items-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-alma-viewit-items-after/slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-alma-viewit-items-after/slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-full-view-after/prm-full-view-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-full-view-after/slsp-icon-label/slsp-icon-label.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-full-view-after/slsp-icon-label/slsp-icon-label.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-loan-after/slsp-loan-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-loan-after/slsp-renew-item-text/slsp-renew-item-text.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-loan-after/slsp-renew-item-text/slsp-renew-item-text.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/eth-location-items-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/eth-mapongo/eth-config.service.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/eth-mapongo/eth-mapongo-check.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/eth-mapongo/eth-mapongo-check.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/eth-mapongo/eth-mapongo-libraries.service.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/eth-mapongo/eth-mapongo.config.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/eth-mapongo/eth-mapongo.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/eth-mapongo/eth-mapongo.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/slsp-i-button/slsp-i-button.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/slsp-i-button/slsp-i-button.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/slsp-icon-label-location-items/slsp-icon-label-location-items.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-location-items-after/slsp-icon-label-location-items/slsp-icon-label-location-items.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-locations-after/eth-locations-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-locations-after/eth-locations-filter/eth-locations-filter.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-locations-after/eth-locations-filter/eth-locations-filter.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-locations-after/slsp-collapse-related/slsp-collapse-related.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-locations-after/slsp-collapse-related/slsp-collapse-related.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-locations-after/slsp-icon-label-locations/slsp-icon-label-locations.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-locations-after/slsp-icon-label-locations/slsp-icon-label-locations.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-personal-info-after/slsp-edit-personal-details/slsp-edit-personal-details.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-personal-info-after/slsp-edit-personal-details/slsp-edit-personal-details.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-personal-info-after/slsp-personal-info-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-request-after/bcu-fees-link/bcu-fees-link.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-request-after/bcu-fees-link/bcu-fees-link.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-request-after/slsp-alma-request/slsp-alma-request.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-request-after/slsp-alma-request/slsp-alma-request.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-request-after/slsp-request-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-requests-after/slsp-request-cancel-button/slsp-request-cancel-button.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-requests-after/slsp-request-cancel-button/slsp-request-cancel-button.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-requests-after/slsp-requests-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-search-bar-after/bcu-search-bar-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-search-bar-after/bcu-search-slots/bcu-search-slots.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-search-bar-after/bcu-search-slots/bcu-search-slots.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-button-after/prm-service-button-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-button-after/slsp-digitization-button-label/slsp-digitization-button-label.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-button-after/slsp-digitization-button-label/slsp-digitization-button-label.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-ngrs-after/bcu-rapido-no-further-options/bcu-rapido-no-further-options.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-ngrs-after/bcu-rapido-no-further-options/bcu-rapido-no-further-options.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-ngrs-after/prm-service-ngrs-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-ngrs-after/slsp-rapido-fees-link/slsp-rapido-fees-link.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-ngrs-after/slsp-rapido-fees-link/slsp-rapido-fees-link.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-physical-best-offer-after/eth-disable-request-button/eth-disable-request-button.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-physical-best-offer-after/eth-disable-request-button/eth-disable-request-button.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-physical-best-offer-after/prm-service-physical-best-offer-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-physical-best-offer-after/slsp-icon-label-rapido/slsp-icon-label-rapido.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-physical-best-offer-after/slsp-icon-label-rapido/slsp-icon-label-rapido.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-physical-best-offer-after/slsp-rapido-digital-offer/slsp-rapido-digital-offer.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-service-physical-best-offer-after/slsp-rapido-digital-offer/slsp-rapido-digital-offer.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-tabs-and-scopes-selector-after/bcu-scopes-selector/bcu-scopes-selector.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-tabs-and-scopes-selector-after/bcu-scopes-selector/bcu-scopes-selector.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-tabs-and-scopes-selector-after/bcu-tabs-and-scopes-selector-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-user-area-expandable-after/bcu-lang-switch/bcu-lang-switch.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-user-area-expandable-after/bcu-lang-switch/bcu-lang-switch.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.controller.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.service.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/prm-user-area-expandable-after/slsp-user-area-expandable-after.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-archives-htgi/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-archives-htgi/js/slsp-archives-htgi.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-archives-viewit/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-archives-viewit/js/slsp-archives-viewit.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-http-intercept-pickup-information/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-http-intercept-pickup-information/js/slsp-http-intercept-pickup-information.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-http-intercept-requests/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-http-intercept-requests/js/slsp-http-intercept-requests.module.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-ill-signin-order-alert/index.js","primo-explore/custom/41SLSP_NETWORK-VU1_UNION/js/slsp-ill-signin-order-alert/js/slsp-ill-signin-order-alert.module.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","angular","_slspRapidoHideLibrary","pickupAnywhereFormAfterModule","component","bindings","parentCtrl","template","requires","push","slspRapidoHideLibraryModule","name","slspRapidoHideLibraryController","$scope","_classCallCheck","this","afterCtrl","$watch","pickupLibraryArray","isArray","forEach","library","value","console","log","error","message","$inject","controller","_slspCollapseOtherInst","_slspIconLabelOtherMembers","prmAlmaOtherMembersAfterModule","slspCollapseOtherInstModule","slspIconLabelOtherMembersModule","slspCollapseOtherInstController","$compile","noItemAtPickupLocation","serviceMode","isCollapsed","availabilityType","document","querySelectorAll","element","prepend","addClass","slspIconLabelOtherMembersController","$timeout","_this","iconLabelOtherMembersP2","iconLabelOtherMembersE","_slspIconLabelViewitItems","prmAlmaViewitItemsAfterModule","slspIconLabelViewitItemsModule","slspIconLabelViewitItemsController","iconLabelViewitItems","iconLabelRidOff","serviceType","detach","_slspIconLabel","prmFullViewAfterModule","slspIconLabelModule","slspIconLabelController","_slspRenewItemText","slspLoanAfterModule","slspRenewItemTextModule","slspRenewItemTextController","getRenewText","undefined","item","renewstatuses","renewstatus","_ethMapongoCheck","_ethMapongo","_slspIButton","_slspIconLabelLocationItems","ethLocationItemsAfterModule","ethMapongoCheckModule","ethMapongoModule","slspIButtonModule","slspIconLabelLocationItemsModule","ethConfigService","$rootScope","getLanguage","sms","$$childHead","$ctrl","userSessionManagerService","getUserLanguage","$window","appConfig","interfaceLanguage","getLabel","config","key","lang","label","getUrl","url","ethMapongoCheckController","$element","ethMapongoLibrariesService","isMapongoLibrary","noLocationItemAfter","locationItemAfter","parentElement","getElementsByTagName","loc","location","libraryCode","aPrmLocationItemAfter","slice","recordid","pnx","control","sourcerecordid","items","addCallnumberEntry","barcodeEntry","prmLocationItemAfter","querySelector","isMapongoSubLocation","_additionalData","secondarylocationname","isAvailable","itemstatusname","subLocationCode","getSubLocationCode","callnumber","fullItemFields","filter","indexOf","addCallnumber","replace","barcode","append","_ethMapongoLibraries","factory","libraries","shortname","baseUrl","locationCodeWhiteList","locationWhiteList","availabilityStatus","l","subLocation","getBaseUrl","lib","filterLibraries","s","ethMapongoConfig","qrc","de","en","fr","ethMapongoController","src","encodeURIComponent","sublocation","_ethConfig","_ethMapongo2","slspIButtonController","getLibrary","currLoc","librarycodeTranslation","getLibraryCode","$location","$$search","biblinkText","biblinkBase","slspIconLabelLocationItemsController","iconLabelLocationItems","iconLabelLocationItems2","serviceScrollId","iconLabelLocationItems3","_ethLocationsFilter","_slspIconLabelLocations","_slspCollapseRelated","ethLocationsAfterModule","ethLocationsFilterModule","slspIconLabelLocationsModule","slspCollapseRelatedModule","ethLocationsFilterController","newValue","oldValue","scope","isLocationsFilterVisible","slspCollapseRelatedController","locations","relatedLocationsListLimit","slspIconLabelLocationsController","iconLabelLocations","iconLabelLocations2","iconLabelLocations3","slspEditPersonalDetailsController","$root","getInterfaceLanguage","detailsBaseEdu","detailsBaseReg","exclude","grpA","grpB","getPatronGrp","personalInfoService","personalInfo","patron","patronstatus","registration","institution","patronstatuscode","includes","grpLabelA","labelA","grpLabelB","labelB","buttonMove","_slspEditPersonalDetails","slspEditPersonalDetailsModule","slspPersonalInfoAfterModule","bcuFeesLinkController","form","display","info","children","createElement","className","innerHTML","$translate","instant","insertBefore","_bcuFeesLink","bcuFeesLinkModule","slspAlmaRequestController","requestLoan","requestDigi","removeClass","_slspAlmaRequest","slspAlmaRequestModule","slspRequestAfterModule","slspRequestCancelButtonController","currentRequestArray","request","requestType","statusCode","isCancelable","_slspRequestCancelButton","slspRequestCancelButtonModule","slspRequestsAfterModule","_bcuSearchSlots","bcuSearchBarAfterModule","bcuSearchSlotsModule","bcuSearchSlotsController","showTabsAndScopes","_slspDigitizationButtonLabel","prmServiceButtonAfterModule","slspDigitizationButtonLabelModule","slspDigitizationButtonLabelController","digiButtonLabel","digiItemButtonLabel","service","type","after","_digiButtonLabel","bcuRapidoNoFurtherOptionsController","msg","almaRSServiceAvailable","isi","isSignedIn","rapidoSection","getElementById","rapidoTOC","hasClass","_bcuRapidoNoFurtherOptions","bcuRapidoNoFurtherOptionsModule","_slspRapidoFeesLink","prmServiceNgrsAfterModule","slspRapidoFeesLinkModule","slspRapidoFeesLinkController","rapidoFeesLink","html","ethDisableRequestButtonController","processDoCheck","requestButton","attr","_ethDisableRequestButton","ethDisableRequestButtonModule","_slspRapidoDigitalOffer","_slspIconLabelRapido","prmServicePhysicalBestOfferAfterModule","slspRapidoDigitalOfferModule","slspIconLabelRapidoModule","slspIconLabelRapidoController","iconLabel2","isdigitaloffer","iconLabel","slspRapidoDigitalOfferController","isDone","tilesplaceholderactive","rapidoCosts","bestoffer","unavailableInAllMembersPod","unavailableResource","reservation","podId","readingRoomPod","bcuScopesSelectorController","setTimeout","searchScopes","_typeof","onclick","getElementsByClassName","click","_bcuScopesSelector","bcuScopesSelectorModule","bcuTabsAndScopesSelectorAfterModule","bcuLangSwitchController","$parent","parent","languages","changeLanguage","changeLangService","addLangParamToUrl","i18nService","setLanguage","then","$state","go","current","reload","_bcuLangSwitch","bcuLangSwitchModule","slspIllSigninOrderLoggedOutController","slspIllSigninOrderLoggedOutService","usrNme","isGuest","_slspIllSigninOrderLoggedOut","_slspIllSigninOrderLoggedOut2","slspIllSigninOrderLoggedOutModule","jwtHelper","getDecodedToken","sessionStorage","jwt","getItem","decodeToken","decodedToken","userGroup","userName","slspUserAreaExpandableAfterModule","$onInit","source","sourceid","guid","classList","add","originalsourceid","substring","lastIndexOf","delivery","GetIt1","links","isLinktoOnline","link","translation","fullView","text","availabilityLine","changeButton","result","changeButtonText","$doCheck","button","slspHttpInterceptPickupInformation","$httpProvider","interceptors","$q","_request","requestError","reject","responseError","response","_response","test","jwtUtilService","data","personalDelivery","slspHttpInterceptRequests","status","injector","get","window","list_of_hold_states","it","list_of_photocopy_states","Object","keys","list_of_hold_states_regexp","RegExp","map","m","toLowerCase","join","holds","hold","holdstatus","cancel","list_of_photocopy_states_regexp","photocopies","photocopy","requeststatus","vm","getAlert","ga","almaHowToGetitService","reqAlert","_htmlMsg","myEl2"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,MAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,MAAAO,KAAA,mBAAAF,EAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,gBCCAN,EAAA,iCACAA,EAAA,yBACAA,EAAA,8BACAA,EAAA,wBACAA,EAAA,0BACAA,EAAA,kCACAA,EAAA,oCACAA,EAAA,oBACAA,EAAA,6BACAA,EAAA,kCACAA,EAAA,4BACAA,EAAA,2CACAA,EAAA,4CACAA,EAAA,0BACAA,EAAA,wCACAA,EAAA,8BACAA,EAAA,yBACAA,EAAA,uBACAA,EAAA,wBACAA,EAAA,iCACAA,EAAA,gCAGUW,QAAQD,OAAO,aAAc,CAAC,cAAe,0BAA2B,0BAA2B,8BAA+B,mBAAoB,qBAAsB,4BAA6B,oCAAqC,sBAAuB,8BAA+B,iCAAkC,4BAA6B,yCAA0C,qCAAsC,0BAA2B,sCAAuC,8BAA+B,yBAA0B,yBAA0B,0BAA2B,gCAAiC,mC,kyBCxB9oBE,EAAAZ,EAAA,+DAEaM,EAAAO,8BAAgCF,QACxCD,OAAO,gCAAiC,IACxCI,UAAU,0BAA2B,CAClCC,SAAU,CAAEC,WAAY,KACxBC,SAAA,8NAMsBC,SAASC,KAAKP,EAAAQ,4BAA4BC,O,wQCRpE,SAAAC,EAAYC,I,4FAAQC,CAAAC,KAAAH,GAChBG,KAAKF,OAASA,E,oDAHTD,iC,2FAOL,IACIG,KAAKT,WAAaS,KAAKC,UAAUV,WACjCS,KAAKF,OAAOI,OAAO,6DAA8D,SAACC,GAC1EjB,QAAQkB,QAAQD,IAChBjB,QAAQmB,QAAQF,EAAoB,SAACG,GAKX,mBAAlBA,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,sBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAGU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAGU,mBAAlBD,EAAQC,OAEU,mBAAlBD,EAAQC,OAEU,mBAAlBD,EAAQC,OAEU,mBAAlBD,EAAQC,OAEU,mBAAlBD,EAAQC,OAEU,mBAAlBD,EAAQC,OAEU,mBAAlBD,EAAQC,OAEU,mBAAlBD,EAAQC,OAEU,mBAAlBD,EAAQC,OAEU,mBAAlBD,EAAQC,OAEU,wBAAlBD,EAAQC,OAEU,mBAAlBD,EAAQC,OAEU,mBAAlBD,EAAQC,OAGU,oBAAlBD,EAAQC,OAGU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAGU,oBAAlBD,EAAQC,OAGU,oBAAlBD,EAAQC,OAGU,oBAAlBD,EAAQC,OAGU,qBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,qBAAlBD,EAAQC,OAEU,qBAAlBD,EAAQC,OAEU,qBAAlBD,EAAQC,OAGU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAGU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,qBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,OAEU,oBAAlBD,EAAQC,QAIRC,QAAQC,IAAI,iBAAkBH,GAC9BA,EAAQC,MAAQ,iBAIlC,MAAOvC,GACLwC,QAAQE,MAAM,wDACdF,QAAQE,MAAM1C,EAAE2C,c,IAKIC,QAAU,CAAC,W,0HClQ3CzB,EAAAZ,EAAA,yCAGaM,EAAAc,4BAA8BT,QACtCD,OAAO,8BAA+B,IACtC4B,WAAW,kCAAmC1B,EAAAU,iCAC9CR,UAAU,iCAAkC,CACzCC,SAAU,CAAEW,UAAW,KACvBY,WAAY,qC,sKCPpB,IAAAC,EAAAvC,EAAA,8DACAwC,EAAAxC,EAAA,wEAEayC,EAAAnC,EAAAmC,+BAAiC9B,QACzCD,OAAO,iCAAkC,IACrCI,UAAU,2BAA6B,CACpCC,SAAU,CAACC,WAAY,KACvBC,SAAA,kSAGZwB,EAA+BvB,SAASC,KAAKoB,EAAAG,4BAA4BrB,MACzEoB,EAA+BvB,SAASC,KAAKqB,EAAAG,gCAAgCtB,O,iVCLzE,SAAAuB,EAAarB,EAAQsB,I,4FAAUrB,CAAAC,KAAAmB,GAC3BnB,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,E,oDAJXD,iC,2FAQL,IAGI,IASgBE,EAXhBrB,KAAKT,WAAaS,KAAKC,UAAUV,WAEG,WAAhCS,KAAKT,WAAW+B,YAEhBtB,KAAKT,WAAWgC,aAAc,GAG9BvB,KAAKT,WAAWgC,aAAc,EAEU,KAApCvB,KAAKT,WAAWiC,mBACZxB,KAAKqB,4BACDA,EAAAA,EAAyBI,SAASC,iBAAT,4DAGzBxC,QAAQyC,QAAQN,GAAwBO,QAAQ5B,KAAKoB,SAFrD,mKAEgDpB,CAA0CA,KAAKF,SAAS+B,SAAS,4BAOrI,MAAO7D,GACHwC,QAAQE,MAAM,oEACdF,QAAQE,MAAM1C,EAAE2C,c,IAMIC,QAAW,CAAC,SAAU,a,0HC1ClDE,EAAAvC,EAAA,yCAGaM,EAAAoC,4BAA8B/B,QACtCD,OAAO,8BAA+B,IAClC4B,WAAW,kCAAmCC,EAAAK,iCAC9C9B,UAAU,iCAAkC,CACzCC,SAAU,CAACW,UAAW,KACtBY,WAAY,kCACZrB,S,6PCHZ,SAAAsC,EAAahC,EAAQsB,EAAUW,I,4FAAWhC,CAAAC,KAAA8B,GACtC9B,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,EAChBpB,KAAK+B,SAAWA,E,oDALXD,qC,2FAUC,IAAAE,EAAAhC,KACN,IACIA,KAAK+B,SAAS,WAGV,IAaQE,EAfRD,EAAKzC,WAAayC,EAAK/B,UAAUV,WAEO,KAApCyC,EAAKzC,WAAWiC,mBAEZQ,EAAKE,4BACDA,EAAAA,EAAyBT,SAASC,iBAAT,6KAGzBxC,QAAQyC,QAAQO,GAAwBN,QAAQI,EAAKZ,SAFrD,wqCAEgDY,CAAiCA,EAAKlC,SAAS+B,SAAS,wBAG5E,KAApCG,EAAKzC,WAAWiC,mBAGhBQ,EAAKC,6BACDA,EAAAA,EAA0BR,SAASC,iBAAT,6KAG1BxC,QAAQyC,QAAQM,GAAyBL,QAAQI,EAAKZ,SAFtD,gvDAEiDY,CAAkCA,EAAKlC,SAAS+B,SAAS,0BAMpH,GAGN,MAAM7D,GACFwC,QAAQE,MAAM,4CACdF,QAAQE,MAAM1C,EAAE2C,c,IAMQC,QAAW,CAAE,SAAU,WAAY,a,8HCpDnEG,EAAAxC,EAAA,8CAGaM,EAAAqC,gCAAkChC,QAC1CD,OAAO,kCAAmC,IACtC4B,WAAW,sCAAuCE,EAAAe,qCAClDzC,UAAU,qCAAsC,CAC7CC,SAAU,CAACW,UAAW,KACtBY,WAAY,sCACZrB,S,qLCRhB2C,EAAA5D,EAAA,uEAEaM,EAAAuD,8BAAgClD,QACxCD,OAAO,gCAAiC,IACpCI,UAAU,0BAA4B,CACnCC,SAAU,CAACC,WAAY,KACvBC,SAAA,4NAKkBC,SAASC,KAAKyC,EAAAE,+BAA+BzC,O,kRCNvE,SAAA0C,EAAaxC,EAAQsB,EAAUW,I,4FAAWhC,CAAAC,KAAAsC,GACtCtC,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,EAChBpB,KAAK+B,SAAWA,E,oDALXO,oC,2FAUC,IAAAN,EAAAhC,KACN,IACIA,KAAK+B,SAAS,WAGV,IAGYQ,EAEAC,EAPZR,EAAKzC,WAAayC,EAAK/B,UAAUV,WAEE,cAA/ByC,EAAKzC,WAAWkD,cAEZT,EAAKO,0BACDA,EAAAA,EAAuBd,SAASC,iBAAiB,oJAEjDc,EAAkBf,SAASC,iBAAiB,wBAC5CxC,QAAQyC,QAAQa,GAAiBE,SACjCxD,QAAQyC,QAAQY,GAAsBX,QAAQI,EAAKZ,SAHnD,wqCAG8CY,CAA+BA,EAAKlC,SAAS+B,SAAS,uBAOlH,GAGN,MAAM7D,GACFwC,QAAQE,MAAM,4CACdF,QAAQE,MAAM1C,EAAE2C,c,IAMOC,QAAW,CAAE,SAAU,WAAY,a,8HC5ClEuB,EAAA5D,EAAA,6CAGaM,EAAAwD,+BAAiCnD,QACzCD,OAAO,iCAAkC,IACrC4B,WAAW,qCAAsCsB,EAAAG,oCACjDjD,UAAU,oCAAqC,CAC5CC,SAAU,CAACW,UAAW,KACtBY,WAAY,qCACZrB,S,8KCThBmD,EAAApE,EAAA,6CAEaM,EAAA+D,uBAAyB1D,QACjCD,OAAO,yBAA0B,IAC7BI,UAAU,mBAAqB,CAC5BC,SAAU,CAACC,WAAY,KACvBC,SAAA,yJAGmBC,SAASC,KAAKiD,EAAAE,oBAAoBjD,O,wPCH7D,SAAAkD,EAAahD,EAAQsB,EAAUW,I,4FAAWhC,CAAAC,KAAA8C,GACtC9C,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,EAChBpB,KAAK+B,SAAWA,E,oDALXe,yB,2FAUC,IAAAd,EAAAhC,KACN,IACIA,KAAK+B,SAAS,WACVC,EAAKzC,WAAayC,EAAK/B,UAAUV,YA0BlC,KAGP,MAAMvB,GACFwC,QAAQE,MAAM,4CACdF,QAAQE,MAAM1C,EAAE2C,c,IAMJC,QAAW,CAAE,SAAU,WAAY,a,mHCtDvD+B,EAAApE,EAAA,gCAGaM,EAAAgE,oBAAsB3D,QAC9BD,OAAO,sBAAuB,IAC1B4B,WAAW,0BAA2B8B,EAAAG,yBACtCzD,UAAU,yBAA0B,CACjCC,SAAU,CAACW,UAAW,KACtBY,WAAY,0BACZrB,S,8JCThBuD,EAAAxE,EAAA,uDAEaM,EAAAmE,oBAAsB9D,QAC9BD,OAAO,sBAAuB,IAC1BI,UAAU,eAAiB,CACxBC,SAAU,CAACC,WAAY,KACvBC,SAAA,yJAGQC,SAASC,KAAKqD,EAAAE,wBAAwBrD,O,kQCNtD,SAAAsD,K,4FAAcnD,CAAAC,KAAAkD,G,oDAFLA,6B,2FAOL,IACIlD,KAAKT,WAAaS,KAAKC,UAAUV,WACjCS,KAAKmD,aAEL,WACI,QAA2CC,IAAvCpD,KAAKT,WAAW8D,KAAKC,oBAAqFF,IAAtDpD,KAAKT,WAAW8D,KAAKC,cAAcC,YAAY,GACnG,OAAOvD,KAAKT,WAAW8D,KAAKC,cAAcC,YAAY,IAQlE,MAAOvF,GACHwC,QAAQE,MAAM,gEACdF,QAAQE,MAAM1C,EAAE2C,c,IAKAC,QAAU,I,uHCzBlCmC,EAAAxE,EAAA,qCAGaM,EAAAoE,wBAA0B/D,QAClCD,OAAO,0BAA2B,IAC9B4B,WAAW,8BAA+BkC,EAAAG,6BAC1C7D,UAAU,6BAA8B,CACrCC,SAAU,CAACW,UAAW,KACtBY,WAAY,8BACZrB,S,iXCdhB,IAAAgE,EAAAjF,EAAA,0CACAkF,EAAAlF,EAAA,oCACAmF,EAAAnF,EAAA,wCACAoF,EAAApF,EAAA,0EAGaqF,EAAA/E,EAAA+E,4BAA8B1E,QACtCD,OAAO,8BAA+B,IACtCI,UAAU,wBAAyB,CAChCC,SAAU,CAAEC,WAAY,KACxBC,SAAA,oXAURoE,EAA4BnE,SAASC,KAAK8D,EAAAK,sBAAsBjE,MAChEgE,EAA4BnE,SAASC,KAAK+D,EAAAK,iBAAiBlE,MAC3DgE,EAA4BnE,SAASC,KAAKgE,EAAAK,kBAAkBnE,MAC5DgE,EAA4BnE,SAASC,KAAKiE,EAAAK,iCAAiCpE,O,6RCX9Df,EAAAoF,iBAAmB,CAAC,aAAc,SAAUC,GA+DrD,MAAO,CACHC,YA9DJ,WACI,IACI,IAAIC,EAAMF,EAAWG,YAAYC,MAAMC,0BACvC,OAAKH,EAKMA,EAAII,mBAAqBC,QAAQC,UAAU,cAAc,kBAAkBC,mBAJlFnE,QAAQE,MAAM,uEACP,MAMf,MAAM1C,GAGF,OAFAwC,QAAQE,MAAM,+DACdF,QAAQE,MAAM1C,EAAE2C,SACT,OAiDXiE,SA5CJ,SAAkBC,EAAQC,GACtB,IACI,IAAIC,EAAO/E,KAAKmE,cAChB,OAAKU,EAAOG,MAAMF,GAIfD,EAAOG,MAAMF,GAAKC,IAIVF,EAAOG,MAAMF,GAAb,IAPPtE,QAAQE,MAAM,yCAA2CoE,EAAM,mBACxDA,GASf,MAAM9G,GAGF,OAFAwC,QAAQE,MAAM,4DACdF,QAAQE,MAAM1C,EAAE2C,SACT,KA4BXsE,OAxBJ,SAAgBJ,EAAQC,GACpB,IACI,IAAIC,EAAO/E,KAAKmE,cAChB,OAAKU,EAAOK,IAAIJ,GAIbD,EAAOK,IAAIJ,GAAKC,IAIRF,EAAOK,IAAIJ,GAAX,IAPPtE,QAAQE,MAAM,uCAAyCoE,EAAM,mBACtD,IASf,MAAM9G,GAGF,OAFAwC,QAAQE,MAAM,0DACdF,QAAQE,MAAM1C,EAAE2C,SACT,S,2MCrEf,SAAAwE,EAAarF,EAAQsB,EAAUgE,EAAUC,I,4FAA6BtF,CAAAC,KAAAmF,GAClEnF,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,EAChBpB,KAAKoF,SAAWA,EAChBpF,KAAKqF,2BAA6BA,EAClCrF,KAAKsF,kBAAmB,EACxBtF,KAAKuF,oBAAsB,E,oDARtBJ,2B,2FAYLnF,KAAKT,WAAaS,KAAKC,UAAUV,a,iCAIjC,IAEI,IAAIiG,EAAoBxF,KAAKoF,SAAS,GAAGK,cAAcA,cAAcC,qBAAqB,2BACtFH,EAAsBC,EAAkBzG,OAC5C,GAAGwG,GAAuBvF,KAAKuF,oBAC3B,OAKJ,GAHAvF,KAAKuF,oBAAsBA,GAGvBvF,KAAKsF,iBAAiB,OAC1B,IAAKtF,KAAKqF,2BAA2BC,iBAAiBtF,KAAKT,WAAWoG,IAAIC,SAASC,aAE/E,YADA7F,KAAKsF,kBAAmB,GAK5B,IAAIQ,EAAwB,GAAGC,MAAMjH,KAAK0G,GAC1CxF,KAAKgG,SAAWhG,KAAKT,WAAW8D,KAAK4C,IAAIC,QAAQC,eAAe,GAGhE,IAAI,IAAI/H,EAAI,EAAGA,EAAI4B,KAAKT,WAAWoG,IAAIS,MAAMrH,OAAQX,IAAI,CACrD,GAAGA,GAAK0H,EAAsB/G,OAE1B,OAGJ,IAoBIsH,EAUAC,EA9BAjD,EAAOrD,KAAKT,WAAWoG,IAAIS,MAAMhI,GACjCmI,EAAuBT,EAAsB1H,GAGhCmI,EAAqBC,cAAc,gBAK/CxG,KAAKqF,2BAA2BoB,qBAAqBzG,KAAKT,WAAWoG,IAAIC,SAASC,YAAaxC,EAAKqD,gBAAgBC,wBAIrH3G,KAAKqF,2BAA2BuB,YAAYvD,EAAKqD,gBAAgBG,kBAKrE7G,KAAK8G,gBAAkB9G,KAAKqF,2BAA2B0B,mBAAmB/G,KAAKT,WAAWoG,IAAIC,SAASC,YAAaxC,EAAKqD,gBAAgBC,uBACzI3G,KAAKgH,WAAa3D,EAAKqD,gBAAgBM,WACnCX,EAAqBhD,EAAK4D,eAAeC,OAAO,SAASlJ,GAAI,OAA6C,EAAtCA,EAAEmJ,QAAQ,2BAAyE,EAAxCnJ,EAAEmJ,QAAQ,6BAC7HnH,KAAKoH,cAAgB,GACW,EAA5Bf,EAAmBtH,SACnBiB,KAAKoH,cAAgBf,EAAmB,GAAGgB,QAAQ,yBAAyB,IAAIA,QAAQ,2BAA2B,KAE9F,IAAtBrH,KAAKoH,gBAEJpH,KAAKgH,WAAahH,KAAKoH,eAGvBd,EAAejD,EAAK4D,eAAeC,OAAO,SAASlJ,GAAI,OAAgC,EAAzBA,EAAEmJ,QAAQ,cAAgD,EAA5BnJ,EAAEmJ,QAAQ,iBAC1GnH,KAAKsH,QAAU,GACW,EAAtBhB,EAAavH,SACbiB,KAAKsH,QAAUhB,EAAa,GAAGe,QAAQ,YAAY,IAAIA,QAAQ,eAAe,KAIlFnI,QAAQyC,QAAQ4E,GAAsBgB,OAAOvH,KAAKoB,SAAS,2EAA6EpB,KAAKgG,SAAW,cAAgBhG,KAAKsH,QAAU,iBAAmBtH,KAAKgH,WAAa,kBAAoBhH,KAAK8G,gBAAkB,iDAA1N9G,CAA4QA,KAAKF,WAGtU,MAAM9B,GACFwC,QAAQE,MAAM,iDACdF,QAAQE,MAAM1C,EAAE2C,c,IAMFC,QAAU,CAAE,SAAU,WAAY,WAAY,+B,qHC5DxE,IAAA4G,EAAAjJ,EAAA,mCACAiF,EAAAjF,EAAA,kCAEaM,EAAAgF,sBAAwB3E,QAChCD,OAAO,wBAAyB,IAC5BwI,QAAQ,6BAA8BD,EAAAnC,4BACtCxE,WAAW,4BAA6B2C,EAAA2B,2BACxC9F,UAAU,kBAAmB,CAC1BC,SAAU,CAACW,UAAW,KACtBY,WAAY,+B,8JCzBXhC,EAAAwG,2BAA6B,CAAC,WAEvC,IAAMqC,EAAY,CACV,CACQC,UAAa,WACb/H,KAAQ,WACRiG,YAAe,MACf+B,QAAW,0BACXC,sBAAyB,CAAC,QAAQ,QAAQ,QAAQ,QAAQ,SAC1DC,kBAAqB,CAAC,kBAAkB,kBAAkB,mBAAmB,gBAAgB,+CAErG,CACQH,UAAa,cACb/H,KAAQ,kCACRiG,YAAe,MACf+B,QAAW,0BACXC,sBAAyB,CAAC,SAC1BC,kBAAqB,CAAC,qBAE9B,CACQH,UAAa,eACb/H,KAAQ,sCACRiG,YAAe,MACf+B,QAAW,0BACXC,sBAAyB,CAAC,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,SAClIC,kBAAqB,CAAC,8BAA8B,sBAAsB,oBAAoB,wBAAwB,qBAAqB,wCAAwC,6BAA6B,8BAA8B,0CAA0C,gCAAgC,oCAAoC,8BAA8B,8BAA8B,8BAEha,CACQH,UAAa,OACb/H,KAAQ,wBACRiG,YAAe,QACf+B,QAAW,0BACXC,sBAAyB,CAAC,QAAQ,QAAQ,QAAQ,SAClDC,kBAAqB,CAAC,gCAAgC,gCAAiC,qCAAqC,sCAEpI,CACQH,UAAa,UACb/H,KAAQ,2BACRiG,YAAe,MACf+B,QAAU,sCACVC,sBAAyB,CAAC,MAAM,QAAQ,QAAQ,QAAQ,SAC9DC,kBAAoB,CAAC,cAAc,YAAY,SAAS,UAAU,2BAEpE,CACQH,UAAa,UACb/H,KAAQ,iCACRiG,YAAe,MACf+B,QAAU,8BACVC,sBAAyB,CAAC,QAAQ,QAAQ,QAAQ,SAClDC,kBAAoB,CAAC,sDAAsD,aAAa,yDAAyD,4BAK3JC,EAAqB,CAAC,yBAA0B,gBAAiB,sBAAuB,sBA8C9F,MAAO,CACHzC,iBArCJ,SAA0BO,GAExB,OAA6B,EADP6B,EAAUR,OAAQ,SAAAc,GAAM,OAAOA,EAAEnC,cAAgBA,IACnD9G,QAoClB0H,qBAhCJ,SAA8BZ,EAAaoC,GAEzC,OAA6B,EADPP,EAAUR,OAAQ,SAAAc,GAAM,OAAOA,EAAEnC,cAAgBA,IAAyD,EAA1CmC,EAAEF,kBAAkBX,QAAQc,KAC9FlJ,QA+BlBmJ,WApBJ,SAAoBrC,GAChB,IA5BuBA,EA6BvB,OADIsC,GA5BmBtC,EA4BKA,EA1BD,GADzBuC,EAAkBV,EAAUR,OAAQ,SAAAc,GAAM,OAAOA,EAAEnC,cAAgBA,KACnD9G,OACTqJ,EAAgB,GAEhB,OAyBED,EAAIP,QAGJ,IAeXb,mBA5BJ,SAA4BlB,EAAaoC,GACrC,IAAIG,EAAkBV,EAAUR,OAAQ,SAAAc,GAAM,OAAOA,EAAEnC,cAAgBA,IACvE,OAA+B,IAA3BuC,EAAgBrJ,OAAoB,MACpCX,EAAIgK,EAAgB,GAAGN,kBAAkBX,QAAQc,GAC9CG,EAAgB,GAAGP,sBAAsBzJ,KAyBhDwI,YAXJ,SAAqBC,GAEjB,OAA0B,EADPkB,EAAmBb,OAAQ,SAAAmB,GAAM,OAAOA,IAAMxB,IAChD9H,Y,sFC/GZF,EAAAyJ,iBAAmB,WAC5B,MAAO,CACHtD,MAAO,CACHuD,IAAK,CACDC,GAAI,6BACJC,GAAI,8BACJC,GAAI,6C,2MCJhB,SAAAC,EAAYtD,EAA4BpB,EAAkBqE,I,4FAAkBvI,CAAAC,KAAA2I,GACxE3I,KAAKqF,2BAA6BA,EAClCrF,KAAKiE,iBAAmBA,EACxBjE,KAAK6E,OAASyD,EACdtI,KAAK+E,KAAO/E,KAAKiE,iBAAiBE,c,oDAN7BwE,sB,2FAWL3I,KAAKT,WAAaS,KAAKC,UAAUV,a,2CAIjC,IAAIqJ,EAAM,GACV,IACI,IAAK5I,KAAKT,WAAWoG,MAAQ3F,KAAKT,WAAWoG,IAAIC,SAE7C,YADApF,QAAQE,MAAM,wFAGlB,IAAIiF,EAAM3F,KAAKT,WAAWoG,IAAIC,SAG9BgD,EAFc5I,KAAKqF,2BAA2B6C,WAAWvC,EAAIE,aAE7C,0EAA4EgD,mBAAmB7I,KAAKgH,YAC5F,QAApBrB,EAAIE,aAA6C,UAApBF,EAAIE,cACjC+C,GAAO,oBAAsBC,mBAAmB7I,KAAK8I,cAEjC,QAApBnD,EAAIE,cACJ+C,GAAO,MAAQC,mBAAmB7I,KAAKgG,WAG/C,MAAMhI,GACFwC,QAAQE,MAAM,sDACdF,QAAQE,MAAM1C,EAAE2C,SAEpB,OAAOiI,I,sCAIP,IAAI1D,EAAM,GACV,IACI,IAAIS,EAAM3F,KAAKT,WAAWoG,IAAIC,SAG9BV,EAFclF,KAAKqF,2BAA2B6C,WAAWvC,EAAIE,aAE7C,mCAAqCgD,mBAAmB7I,KAAKgH,YAAc,aAAehH,KAAK+E,KAAO,MAAQ8D,mBAAmB7I,KAAKgG,UAE9H,QAApBL,EAAIE,aAA6C,UAApBF,EAAIE,cACjCX,GAAO,oBAAsB2D,mBAAmB7I,KAAK8I,cAErC,IAAhB9I,KAAKsH,UACDpC,GAAO,QAAUlF,KAAKsH,SAIlC,MAAMtJ,GACFwC,QAAQE,MAAM,iDACdF,QAAQE,MAAM1C,EAAE2C,SAEpB,OAAOuE,I,sCAIP,IAAI0D,EAAM,GACV,IACI,IAAIjD,EAAM3F,KAAKT,WAAWoG,IAAIC,SAG9BgD,EAFc5I,KAAKqF,2BAA2B6C,WAAWvC,EAAIE,aAE7C,uEAAyEgD,mBAAmB7I,KAAKgH,YAAc,aAAehH,KAAK+E,KAAO,MAAQ8D,mBAAmB7I,KAAKgG,UAClK,QAApBL,EAAIE,aAA6C,UAApBF,EAAIE,cACjC+C,GAAO,oBAAsBC,mBAAmB7I,KAAK8I,cAErC,IAAhB9I,KAAKsH,UACLsB,GAAO,QAAU5I,KAAKsH,SAG9B,MAAMtJ,GACFwC,QAAQE,MAAM,iDACdF,QAAQE,MAAM1C,EAAE2C,SAEpB,OAAOiI,M,IAMMhI,QAAU,CAAE,6BAA8B,mBAAoB,qB,gHCjEnF,IAAAmI,EAAAxK,EAAA,wBACAkF,EAAAlF,EAAA,wBACAiJ,EAAAjJ,EAAA,mCACAyK,EAAAzK,EAAA,4BAGaM,EAAAiF,iBAAmB5E,QAC3BD,OAAO,mBAAoB,IAC3BwI,QAAQ,mBAAoBsB,EAAA9E,kBAC5BwD,QAAQ,mBAAoBhE,EAAA6E,kBAC5Bb,QAAQ,6BAA8BD,EAAAnC,4BACtCxE,WAAW,uBAAwBmI,EAAAL,sBACnCtJ,UAAU,aAAc,CACrBC,SAAU,CACNW,UAAW,IACX+F,SAAU,IACVgB,WAAY,IACZM,QAAS,IACTwB,YAAa,KAEjBjI,WAAY,uBACZrB,S,8xBCrCJ,SAAAyJ,K,4FAAclJ,CAAAC,KAAAiJ,G,oDAFLA,uB,2FAKL,IACIjJ,KAAKT,WAAaS,KAAKC,UAAUV,WACjCS,KAAKkJ,WAML,WACI,QAAgC9F,IAA5BpD,KAAKT,WAAW4J,cAA8D/F,IAArCpD,KAAKT,WAAW4J,QAAQvD,SACjE,OAAO5F,KAAKT,WAAW4J,QAAQvD,SAASwD,wBAPhDpJ,KAAKqJ,eAaL,WACI,QAAgCjG,IAA5BpD,KAAKT,WAAW4J,cAA8D/F,IAArCpD,KAAKT,WAAW4J,QAAQvD,SACjE,OAAO5F,KAAKT,WAAW4J,QAAQvD,SAASC,aAdhD7F,KAAKmE,YAqBL,WACI,QAAkDf,IAA9CpD,KAAKT,WAAWgF,0BAChB,OAAOvE,KAAKT,WAAWgF,0BAA0B+E,UAAUC,SAASxE,MAtB5E/E,KAAKwJ,YAAc,UACnBxJ,KAAKyJ,YAAc,mDA4BrB,MAAOzL,GACLwC,QAAQE,MAAM,0DACdF,QAAQE,MAAM1C,EAAE2C,c,IAKNC,QAAU,I,iHCjD5B8C,EAAAnF,EAAA,8BAIaM,EAAAkF,kBAAoB7E,QAC5BD,OAAO,oBAAqB,IACxB4B,WAAW,wBAAyB6C,EAAAuF,uBACpC5J,UAAU,uBAAwB,CAC/BC,SAAU,CAACW,UAAW,KACtBY,WAAY,wBACZrB,S,8mBCHZ,SAAAkK,EAAa5J,EAAQsB,EAAUW,I,4FAAWhC,CAAAC,KAAA0J,GACtC1J,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,EAChBpB,KAAK+B,SAAWA,E,oDALX2H,sC,2FAUC,IAAA1H,EAAAhC,KACN,IACIA,KAAK+B,SAAS,WAGV,IAGY4H,EAqBJC,EA1BR5H,EAAKzC,WAAayC,EAAK/B,UAAUV,WAEO,kBAApCyC,EAAKzC,WAAWsK,kBAEZ7H,EAAK2H,4BACDA,EAAAA,EAAyBlI,SAASC,iBAAiB,mNAGnDxC,QAAQyC,QAAQgI,GAAwB/H,QAAQI,EAAKZ,SAFrD,gvDAEgDY,CAAiCA,EAAKlC,SAAS+B,SAAS,wBAE5E,kBAApCG,EAAKzC,WAAWsK,kBAEhB7H,EAAK8H,6BACDA,EAAAA,EAA0BrI,SAASC,iBAAiB,mNAGpDxC,QAAQyC,QAAQmI,GAAyBlI,QAAQI,EAAKZ,SAFtD,gvDAEiDY,CAAkCA,EAAKlC,SAAS+B,SAAS,yBAO1E,uBAApCG,EAAKzC,WAAWsK,kBAEhB7H,EAAK4H,6BACDA,EAAAA,EAA0BnI,SAASC,iBAAiB,+IAGpDxC,QAAQyC,QAAQiI,GAAyBhI,QAAQI,EAAKZ,SAFtD,gvDAEiDY,CAAkCA,EAAKlC,SAAS+B,SAAS,0BAMpH,GAGN,MAAM7D,GACFwC,QAAQE,MAAM,4CACdF,QAAQE,MAAM1C,EAAE2C,c,IAMSC,QAAW,CAAE,SAAU,WAAY,a,gIC/DpE+C,EAAApF,EAAA,+CAGaM,EAAAmF,iCAAmC9E,QAC3CD,OAAO,mCAAoC,IACvC4B,WAAW,uCAAwC8C,EAAA+F,sCACnDrK,UAAU,sCAAuC,CAC9CC,SAAU,CAACW,UAAW,KACtBY,WAAY,uCACZrB,S,iLCVhB,IAAAuK,EAAAxL,EAAA,sDACAyL,EAAAzL,EAAA,gEACA0L,EAAA1L,EAAA,wDAEa2L,EAAArL,EAAAqL,wBAA0BhL,QAClCD,OAAO,0BAA2B,IAC9BI,UAAU,oBAAsB,CAC7BC,SAAU,CAACC,WAAY,KACvBC,SAAA,sVAGZ0K,EAAwBzK,SAASC,KAAKqK,EAAAI,yBAAyBvK,MAC/DsK,EAAwBzK,SAASC,KAAKsK,EAAAI,6BAA6BxK,MACnEsK,EAAwBzK,SAASC,KAAKuK,EAAAI,0BAA0BzK,O,8XCX5D,SAAA0K,EAAYvI,EAAUjC,I,4FAAQC,CAAAC,KAAAsK,GAC1BtK,KAAK+B,SAAWA,EAChB/B,KAAKF,OAASA,E,oDAJTwK,8B,2FAOC,IAAAtI,EAAAhC,KACN,IACIA,KAAKT,WAAaS,KAAKC,UAAUV,WACjCS,KAAKF,OAAOI,OAAO,qEAAsE,SAACqK,EAAUC,EAAUC,IACtGA,EAAMnG,MAAM/E,WAAWmL,0BAA4BH,GAAwB,IAAZA,GAC/DvI,EAAKD,SAAS,WACV0I,EAAMnG,MAAM/E,WAAWmL,0BAA2B,GACnD,KAER,GAEP,MAAM1M,GACFwC,QAAQE,MAAM,gEACdF,QAAQE,MAAM1C,EAAE2C,c,IAKCC,QAAU,CAAC,WAAY,W,wHCDpDmJ,EAAAxL,EAAA,qCAEaM,EAAAsL,yBAA2BjL,QACnCD,OAAO,2BAA4B,IAC/B4B,WAAW,+BAAgCkJ,EAAAO,8BAC3CjL,UAAU,8BAA+B,CACtCC,SAAU,CAACW,UAAW,KACtBY,WAAY,kC,iPCxBpB,SAAA8J,EAAY5I,EAAUjC,I,4FAAQC,CAAAC,KAAA2K,GAC1B3K,KAAK+B,SAAWA,EAChB/B,KAAKF,OAASA,E,oDAJT6K,+B,2FAQL,IACI3K,KAAKT,WAAaS,KAAKC,UAAUV,WAEzBL,QAAQkB,QAAQJ,KAAKT,WAAWqL,YAAiD,EAAnC5K,KAAKT,WAAWqL,UAAU7L,SAE5EiB,KAAKT,WAAWsL,0BAA4B,GAOpD,MAAO7M,GACHwC,QAAQE,MAAM,kEACdF,QAAQE,MAAM1C,EAAE2C,c,IAMEC,QAAW,CAAC,WAAY,W,yHChClDqJ,EAAA1L,EAAA,sCAGaM,EAAAwL,0BAA4BnL,QACpCD,OAAO,4BAA6B,IAChC4B,WAAW,gCAAiCoJ,EAAAU,+BAC5CtL,UAAU,+BAAgC,CACvCC,SAAU,CAACW,UAAW,KACtBY,WAAY,gCACZrB,S,4PCHZ,SAAAsL,EAAahL,EAAQsB,EAAUW,I,4FAAWhC,CAAAC,KAAA8K,GACtC9K,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,EAChBpB,KAAK+B,SAAWA,E,oDALX+I,kC,2FAWC,IAAA9I,EAAAhC,KACN,IACIA,KAAK+B,SAAS,WAGV,IAGYgJ,EAqBJC,EA1BRhJ,EAAKzC,WAAayC,EAAK/B,UAAUV,WAEO,kBAApCyC,EAAKzC,WAAWsK,kBAEZ7H,EAAK+I,wBACDA,EAAAA,EAAqBtJ,SAASC,iBAAiB,gOAG/CxC,QAAQyC,QAAQoJ,GAAoBnJ,QAAQI,EAAKZ,SAFjD,gvDAE4CY,CAA6BA,EAAKlC,SAAS+B,SAAS,oBAEpE,kBAApCG,EAAKzC,WAAWsK,kBAEhB7H,EAAKiJ,yBACDA,EAAAA,EAAsBxJ,SAASC,iBAAiB,gOAGhDxC,QAAQyC,QAAQsJ,GAAqBrJ,QAAQI,EAAKZ,SAFlD,gvDAE6CY,CAA8BA,EAAKlC,SAAS+B,SAAS,qBAOlE,uBAApCG,EAAKzC,WAAWsK,kBAEhB7H,EAAKgJ,yBACDA,EAAAA,EAAsBvJ,SAASC,iBAAiB,qKAGhDxC,QAAQyC,QAAQqJ,GAAqBpJ,QAAQI,EAAKZ,SAFlD,gvDAE6CY,CAA8BA,EAAKlC,SAAS+B,SAAS,sBAK5G,GAGN,MAAM7D,GACFwC,QAAQE,MAAM,4CACdF,QAAQE,MAAM1C,EAAE2C,c,IAMKC,QAAW,CAAE,SAAU,WAAY,a,4HC/DhEoJ,EAAAzL,EAAA,0CAGaM,EAAAuL,6BAA+BlL,QACvCD,OAAO,+BAAgC,IACnC4B,WAAW,mCAAoCmJ,EAAAc,kCAC/CzL,UAAU,kCAAmC,CAC1CC,SAAU,CAACW,UAAW,KACtBY,WAAY,mCACZrB,S,gQCHZ,SAAA0L,EAAYpL,EAAQsF,I,4FAAUrF,CAAAC,KAAAkL,GAC1BlL,KAAKF,OAASA,EACdE,KAAKoF,SAAWA,E,oDAJX8F,mC,4FASL,IACIlL,KAAKT,WAAaS,KAAKC,UAAUV,WAIjC,IAAIwF,EAAO,KACPX,EAAMpE,KAAKF,OAAOqL,MAAM9G,YAAYC,MAAMC,0BAC1CH,IACAW,EAAOX,EAAIgH,wBAGfpL,KAAKqL,eAAiB,oDAA4DtG,EAClF/E,KAAKsL,eAAiB,mDAAyDvG,EAC/E/E,KAAKuL,QAAU,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACzEvL,KAAKwL,KAAO,CAAC,KAAM,KAAM,MACzBxL,KAAKyL,KAAO,CAAC,KAAM,KAAM,KAAM,KAAM,MAGrCzL,KAAK0L,aAAe,WAChB,QAAyDtI,IAArDpD,KAAKT,WAAWoM,oBAAoBC,aASxC,OAAO,EARH,IAAIC,EAAS7L,KAAKT,WAAWoM,oBAAoBC,aAAaE,aAAa,GAAGC,aAAa,GAAGC,YAAY,GAAGC,iBAC7G,OAAKjM,KAAKuL,QAAQW,SAASL,IAUnC7L,KAAKmM,UAAY,WACb,QAAyD/I,IAArDpD,KAAKT,WAAWoM,oBAAoBC,aASxC,OAAO,EARH,IAAIQ,EAASpM,KAAKT,WAAWoM,oBAAoBC,aAAaE,aAAa,GAAGC,aAAa,GAAGC,YAAY,GAAGC,iBAC7G,QAAIjM,KAAKwL,KAAKU,SAASE,IAW/BpM,KAAKqM,UAAY,WACb,QAAyDjJ,IAArDpD,KAAKT,WAAWoM,oBAAoBC,aASxC,OAAO,EARH,IAAIU,EAAStM,KAAKT,WAAWoM,oBAAoBC,aAAaE,aAAa,GAAGC,aAAa,GAAGC,YAAY,GAAGC,iBAC7G,QAAIjM,KAAKyL,KAAKS,SAASI,IAU/BtM,KAAKuM,WAAa,WACd,IAAI9G,EAAgBvG,QAAQyC,QAAQF,SAAS+E,cAAc,oFACvD7E,EAAUzC,QAAQyC,QAAQF,SAAS+E,cAAc,6BACrDf,EAAc8B,OAAO5F,IAK7B,MAAO3D,GACHwC,QAAQE,MAAM,kEACdF,QAAQE,MAAM1C,EAAE2C,c,IAKMC,QAAU,CAAC,W,6HCvF7C4L,EAAAjO,EAAA,2CAIaM,EAAA4N,8BAAgCvN,QACxCD,OAAO,gCAAiC,IACpC4B,WAAW,oCAAqC2L,EAAAtB,mCAChD7L,UAAU,mCAAoC,CAC3CC,SAAU,CAACW,UAAW,KACtBY,WAAY,oCACZrB,S,k8CCVZgN,EAAAjO,EAAA,mEAGaM,EAAA6N,4BAA8BxN,QACtCD,OAAO,8BAA+B,IAClCI,UAAU,uBAAyB,CAChCC,SAAU,CAACC,WAAY,KACvBC,SAAA,oNAGwBC,SAASC,KAAK8M,EAAAC,8BAA8B7M,O,8QCR5E,SAAA+M,EAAYvH,I,4FAAUrF,CAAAC,KAAA2M,GAClB3M,KAAKoF,SAAWA,EAAS,GACzBpF,KAAK4M,KAAO5M,KAAKoF,SAASK,cAAcA,cACxCzF,KAAK6M,SAAU,E,oDALVF,uB,4FASP,IAacG,EAbVF,GAAO,OAEqCxJ,IAAtCpD,KAAK4M,KAAKG,SAAS,GAAGA,SAAS,SAAsE3J,IAAlDpD,KAAK4M,KAAKG,SAAS,GAAGA,SAAS,GAAGA,SAAS,GAC9FH,EAAO5M,KAAK4M,KAAKG,SAAS,GAAGA,SAAS,GAAGA,SAAS,QAEP3J,IAAtCpD,KAAK4M,KAAKG,SAAS,GAAGA,SAAS,SAAsE3J,IAAlDpD,KAAK4M,KAAKG,SAAS,GAAGA,SAAS,GAAGA,SAAS,KACnGH,EAAO5M,KAAK4M,KAAKG,SAAS,GAAGA,SAAS,GAAGA,SAAS,IAKlDH,GAAgC,GAAxBA,EAAKG,SAAShO,SAAgC,IAAjBiB,KAAK6M,UAC1C7M,KAAK6M,SAAU,GACXC,EAAOrL,SAASuL,cAAc,QAC7BC,UAAY,6BACjBH,EAAKI,UAAL,OACOlN,KAAKC,UAAUV,WAAW4N,WAAWC,QAAQ,gCADpD,iBAETpN,KAAKC,UAAUV,WAAW4N,WAAWC,QAAQ,+BAFpC,yBAGApN,KAAKC,UAAUV,WAAW4N,WAAWC,QAAQ,8BAH7C,0BAIIpN,KAAKC,UAAUV,WAAW4N,WAAWC,QAAQ,mCAJjD,WAKAR,EAAKS,aAAaP,EAAMF,EAAKG,SAASH,EAAKG,SAAShO,OAAQ,S,IAKtD6B,QAAU,CAAC,a,iHCjC7B0M,EAAA/O,EAAA,8BAGaM,EAAA0O,kBAAoBrO,QAC5BD,OAAO,oBAAqB,IACxB4B,WAAW,wBAAyByM,EAAAX,uBACpCtN,UAAU,uBAAwB,CAC/BC,SAAU,CAACW,UAAW,KACtBY,WAAY,2B,0OCPxB,SAAA2M,EAAY1N,EAAQsB,EAAUW,I,4FAAUhC,CAAAC,KAAAwN,GACpCxN,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,EAChBpB,KAAK+B,SAAWA,E,oDALXyL,2B,4FASL,IAGQ,IAGQC,EAQAC,EAbZ1N,KAAKT,WAAaS,KAAKC,UAAUV,WAEM,eAA/BS,KAAKT,WAAWkD,aAA+D,mBAA/BzC,KAAKT,WAAWkD,aAAmE,sBAA/BzC,KAAKT,WAAWkD,aAAsE,oBAA/BzC,KAAKT,WAAWkD,aAE3KzC,KAAKyN,iBACDA,EAAAA,EAAchM,SAASC,iBAAiB,qCAE5CxC,QAAQyC,QAAQ8L,GAAa5L,SAAS,oBAIF,oBAA/B7B,KAAKT,WAAWkD,aAAoE,yBAA/BzC,KAAKT,WAAWkD,aAAyE,2BAA/BzC,KAAKT,WAAWkD,aAA2E,wBAA/BzC,KAAKT,WAAWkD,aAAwE,uBAA/BzC,KAAKT,WAAWkD,cACzPzC,KAAK0N,iBACDA,EAAAA,EAAcjM,SAASC,iBAAiB,qCAC5CxC,QAAQyC,QAAQ+L,GAAaC,YAAY,oBAG/C,MAAO3P,GACLwC,QAAQE,MAAM,+DACdF,QAAQE,MAAM1C,EAAE2C,c,IAUNC,QAAU,CAAC,SAAU,WAAY,a,qHCtCvDgN,EAAArP,EAAA,kCAGaM,EAAAgP,sBAAwB3O,QAChCD,OAAO,wBAAyB,IAC5B4B,WAAW,4BAA6B+M,EAAAJ,2BACxCnO,UAAU,2BAA4B,CACnCC,SAAU,CAACW,UAAW,KACtBY,WAAY,+B,yJCT5B,IAAAyM,EAAA/O,EAAA,wCACAqP,EAAArP,EAAA,gDAGauP,EAAAjP,EAAAiP,uBAAyB5O,QACjCD,OAAO,yBAA0B,IAC7BI,UAAU,kBAAoB,CAC3BC,SAAU,CAACC,WAAY,KACvBC,SAAA,0PAKZsO,EAAuBrO,SAASC,KAAK4N,EAAAC,kBAAkB3N,MACvDkO,EAAuBrO,SAASC,KAAKkO,EAAAC,sBAAsBjO,O,sSCPvD,SAAAmO,EAAajO,I,4FAAQC,CAAAC,KAAA+N,GACjB/N,KAAKF,OAASA,E,oDAHTiO,mC,2FAQL,IACI/N,KAAKT,WAAaS,KAAKC,UAAUV,WAEjCS,KAAKF,OAAOI,OAAO,wCAAyC,SAAC8N,GAErD9O,QAAQkB,QAAQ4N,IAAqD,EAA7BA,EAAoBjP,QAE5DG,QAAQmB,QAAQ2N,EAAqB,SAACC,GAGN,QAAxBA,EAAQC,cACmB,cAAvBD,EAAQE,YACe,sBAAvBF,EAAQE,YACe,iBAAvBF,EAAQE,YACe,uBAAvBF,EAAQE,YACe,0BAAvBF,EAAQE,YACe,wBAAvBF,EAAQE,YACe,YAAvBF,EAAQE,YACe,uBAAvBF,EAAQE,YACe,oBAAvBF,EAAQE,YACe,sBAAvBF,EAAQE,YACe,sBAAvBF,EAAQE,YACe,uBAAvBF,EAAQE,WAEJF,EAAQG,cAAe,EAIvBH,EAAQG,cAAe,OAUnD,MAAMpQ,GACFwC,QAAQE,MAAM,yDACdF,QAAQE,MAAM1C,EAAE2C,c,IAOMC,QAAW,CAAC,W,6HC3D1CyN,EAAA9P,EAAA,2CAGaM,EAAAyP,8BAAgCpP,QACxCD,OAAO,gCAAiC,IACpC4B,WAAW,oCAAqCwN,EAAAN,mCAChD1O,UAAU,mCAAoC,CAC3CC,SAAU,CAACW,UAAW,KACtBY,WAAY,uC,mKCR5BwN,EAAA9P,EAAA,mEAEaM,EAAA0P,wBAA0BrP,QAClCD,OAAO,0BAA2B,IAC9BI,UAAU,mBAAqB,CAC5BC,SAAU,CAACC,WAAY,KACvBC,SAAA,6KAIYC,SAASC,KAAK2O,EAAAC,8BAA8B1O,O,0LCXpE4O,EAAAjQ,EAAA,+CAEaM,EAAA4P,wBAA0BvP,QAClCD,OAAO,0BAA2B,IAC9BI,UAAU,oBAAsB,CAC7BC,SAAU,CAACC,WAAY,KACvBC,SAAA,6JAGYC,SAASC,KAAK8O,EAAAE,qBAAqB9O,O,6SCT9C+O,0B,2FAGL3O,KAAKT,WAAaS,KAAKC,UAAUV,WACjCS,KAAKT,WAAWqP,mBAAoB,M,4OCc5CJ,EAAAjQ,EAAA,iCAEaM,EAAA6P,qBAAuBxP,QAC/BD,OAAO,uBAAwB,IAC3B4B,WAAW,2BAA4B2N,EAAAG,0BACvCtP,UAAU,0BAA4B,CACnCC,SAAU,CAACW,UAAW,KACtBY,WAAY,8B,6JCxBxBgO,EAAAtQ,EAAA,2EAEaM,EAAAiQ,4BAA8B5P,QACtCD,OAAO,8BAA+B,IAClCI,UAAU,wBAA0B,CACjCC,SAAU,CAACC,WAAY,KACvBC,SAAA,iMAGwBC,SAASC,KAAKmP,EAAAE,kCAAkCnP,O,sRCHhF,SAAAoP,EAAalP,EAAQsB,EAAUW,I,4FAAWhC,CAAAC,KAAAgP,GACtChP,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,EAChBpB,KAAK+B,SAAWA,E,oDALXiN,uC,2FAQC,IAAAhN,EAAAhC,KACN,IACIA,KAAK+B,SAAS,WAGV,IAGQkN,EAmBAC,EAxBRlN,EAAKzC,WAAayC,EAAK/B,UAAUV,gBAEI6D,IAAjCpB,EAAKzC,WAAW4P,QAAQC,MAAuD,qBAAjCpN,EAAKzC,WAAW4P,QAAQC,OAEtEpN,EAAKiN,qBACDA,EAAAA,EAAkBxN,SAASC,iBAAiB,gGAG5CxC,QAAQyC,QAAQsN,GAAiBI,MAFjC,2CAE6CxN,SAAS,oBAIzBuB,IAAjCpB,EAAKzC,WAAW4P,QAAQC,MAAuD,4BAAjCpN,EAAKzC,WAAW4P,QAAQC,OAE1EpN,EAAKiN,qBACDK,EAAAA,EAAkB7N,SAASC,iBAAiB,uGAG5CxC,QAAQyC,QAAQ2N,GAAiBD,MAFjC,2CAE6CxN,SAAS,oBAIrBuB,IAAjCpB,EAAKzC,WAAW4P,QAAQC,MAAuD,yBAAjCpN,EAAKzC,WAAW4P,QAAQC,OACtEpN,EAAKkN,yBACDA,EAAAA,EAAsBzN,SAASC,iBAAiB,oGAKhDxC,QAAQyC,QAAQuN,GAAqB3H,OAArC,0CAAsF1F,SAAS,gBAQxG,KAGP,MAAM7D,GACFwC,QAAQE,MAAM,4CACdF,QAAQE,MAAM1C,EAAE2C,c,IAOUC,QAAW,CAAE,SAAU,WAAY,a,iIChErEiO,EAAAtQ,EAAA,+CAGaM,EAAAkQ,kCAAoC7P,QAC5CD,OAAO,oCAAqC,IACxC4B,WAAW,wCAAyCgO,EAAAG,uCACpD3P,UAAU,uCAAwC,CAC/CC,SAAU,CAACW,UAAW,KACtBY,WAAY,wCACZrB,S,qQCRZ,SAAA+P,EAAYzP,I,4FAAQC,CAAAC,KAAAuP,GAChBvP,KAAKF,OAASA,E,oDAHTyP,qC,4FAOL,IACIvP,KAAKT,WAAaS,KAAKC,UAAUV,WACjC,IAAIiQ,EAAMxP,KAAKT,WAAWkQ,uBACtBC,EAAM1P,KAAKT,WAAWoQ,aAEtBC,EAAgBnO,SAASoO,eAAe,eACxCC,EAAYrO,SAAS+E,cAAc,2EAI5B,SAAPgJ,GAAyB,QAAPE,GAClBxQ,QAAQyC,QAAQiO,GAAe/N,SAAS,oBACxC3C,QAAQyC,QAAQmO,EAAUrK,eAAe5D,SAAS,sBAE9C3C,QAAQyC,QAAQiO,GAAeG,SAAS,qBACxC7Q,QAAQyC,QAAQiO,GAAejC,YAAY,oBAE3CzO,QAAQyC,QAAQmO,EAAUrK,eAAesK,SAAS,qBAClD7Q,QAAQyC,QAAQmO,EAAUrK,eAAekI,YAAY,qBAG/D,MAAO3P,GACLwC,QAAQE,MAAM,8DACdF,QAAQE,MAAM1C,EAAE2C,c,IAMQC,QAAU,CAAC,W,+HCpC/CoP,EAAAzR,EAAA,8CAGaM,EAAAoR,gCAAkC/Q,QAC1CD,OAAO,kCAAmC,IAEtC4B,WAAW,sCAAuCmP,EAAAT,qCAClDlQ,UAAU,4BAA6B,CACpCC,SAAU,CAACW,UAAW,KACtBY,WAAY,yC,wKCTxB,IAAAqP,EAAA3R,EAAA,wDACAyR,EAAAzR,EAAA,wEAGa4R,EAAAtR,EAAAsR,0BAA4BjR,QACpCD,OAAO,4BAA6B,IACpCI,UAAU,sBAAuB,CAC9BC,SAAU,CAAEC,WAAY,KACxBC,SAAA,yRAKR2Q,EAA0B1Q,SAASC,KAAKwQ,EAAAE,yBAAyBxQ,MACjEuQ,EAA0B1Q,SAASC,KAAKsQ,EAAAC,gCAAgCrQ,O,8UCPpE,SAAAyQ,EAAavQ,EAAQsB,I,4FAAWrB,CAAAC,KAAAqQ,GAC5BrQ,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,E,oDAJXiP,8B,2FAUD,IACIrQ,KAAKT,WAAaS,KAAKC,UAAUV,WACjCS,KAAKsQ,oBAEDA,EAAJ,IAAIA,EAAiB7O,SAAS+E,cAAc,kGACxC+J,EAAA,2HAAkIvQ,KAAKC,UAAUV,WAAW4N,WAAWC,QAAQ,8BAA/K,o0BAIAlO,QAAQyC,QAAQ2O,GAAgBjB,MAAMrP,KAAKoB,SAASmP,EAAdvQ,CAAoBA,KAAKF,SAIvE,MAAM9B,GACFwC,QAAQE,MAAM,qDACdF,QAAQE,MAAM1C,EAAE2C,c,IAKCC,QAAU,CAAC,SAAU,a,wHClClDsP,EAAA3R,EAAA,sCAGaM,EAAAuR,yBAA2BlR,QACnCD,OAAO,2BAA4B,IAC/B4B,WAAW,+BAAgCqP,EAAAG,8BAC3ChR,UAAU,8BAA+B,CACtCC,SAAU,CAACW,UAAW,KACtBY,WAAY,+BACZrB,S,2SCVHgR,mC,2FAGL,IACIxQ,KAAKT,WAAaS,KAAKC,UAAUV,WACjCS,KAAKyQ,gBAAiB,EAE1B,MAAMzS,GACFwC,QAAQE,MAAM,sEACdF,QAAQE,MAAM1C,EAAE2C,Y,iCAKpB,IACI,IAAIX,KAAKyQ,iBAAmBhP,SAAS+E,cAAc,0EAA0E,OAC7H,IAEQkK,EAFgBjP,SAAS+E,cAAc,8DAEvCkK,EAAgBjP,SAAS+E,cAAc,wBAC3CtH,QAAQyC,QAAQ+O,GAAeC,KAAK,WAAY,aAEpD3Q,KAAKyQ,gBAAiB,EAE1B,MAAMzS,GACFwC,QAAQE,MAAM,8EACdF,QAAQE,MAAM1C,EAAE2C,c,qPCzB5BiQ,EAAArS,EAAA,2CAEaM,EAAAgS,8BAAgC3R,QACxCD,OAAO,gCAAiC,IACpC4B,WAAW,oCAAqC+P,EAAAJ,mCAChDnR,UAAU,mCAAqC,CAC5CC,SAAU,CAACW,UAAW,KACtBY,WAAY,uC,kLCNxB,IAAAiQ,EAAAvS,EAAA,gEACAwS,EAAAxS,EAAA,0DACAqS,EAAArS,EAAA,kEAEayS,EAAAnS,EAAAmS,uCAAyC9R,QACjDD,OAAO,yCAA0C,IAC7CI,UAAU,mCAAqC,CAC5CC,SAAU,CAACC,WAAY,KACvBC,SAAA,kbAMZwR,EAAuCvR,SAASC,KAAKoR,EAAAG,6BAA6BrR,MAClFoR,EAAuCvR,SAASC,KAAKqR,EAAAG,0BAA0BtR,MAC/EoR,EAAuCvR,SAASC,KAAKkR,EAAAC,8BAA8BjR,O,4YCZ/E,SAAAuR,EAAYrR,EAAQsB,EAAUW,I,4FAAUhC,CAAAC,KAAAmR,GACpCnR,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,EAChBpB,KAAK+B,SAAWA,E,oDALXoP,+B,2FAUC,IAAAnP,EAAAhC,KACN,IACIA,KAAK+B,SAAS,WAIV,IAYQqP,EAfRpP,EAAKzC,WAAayC,EAAK/B,UAAUV,YAGM,IAAnCyC,EAAKzC,WAAW8R,iBAChBrP,EAAKsP,eAEDA,EAAAA,EAAY7P,SAASC,iBAAiB,6HAI1CxC,QAAQyC,QAAQ2P,GAAWjC,MAAMrN,EAAKZ,SAHlC,ygCAG6BY,CAAqBA,EAAKlC,SAAS+B,SAAS,YAG1C,IAAnCG,EAAKzC,WAAW8R,iBAChBrP,EAAKoP,gBACDA,EAAAA,EAAa3P,SAASC,iBAAiB,8HAG3CxC,QAAQyC,QAAQyP,GAAY/B,MAAMrN,EAAKZ,SAFnC,6tDAE8BY,CAAqBA,EAAKlC,SAAS+B,SAAS,aAInF,GACL,MAAO7D,GACLwC,QAAQE,MAAM,4CACdF,QAAQE,MAAM1C,EAAE2C,c,IAMEC,QAAU,CAAC,SAAU,WAAY,a,yHC9C3DmQ,EAAAxS,EAAA,uCAGaM,EAAAqS,0BAA4BhS,QACpCD,OAAO,4BAA6B,IAChC4B,WAAW,gCAAiCkQ,EAAAI,+BAC5C9R,UAAU,+BAAgC,CACvCC,SAAU,CAACW,UAAW,KACtBY,WAAY,gCACZrB,S,6PCRZ,SAAA+R,EAAYzR,EAAQsB,EAAUW,I,4FAAUhC,CAAAC,KAAAuR,GACpCvR,KAAKF,OAASA,EACdE,KAAKoB,SAAWA,EAChBpB,KAAK+B,SAAWA,E,oDALXwP,kC,2FASL,IAEQvR,KAAKT,WAAaS,KAAKC,UAAUV,WACjCS,KAAKwR,QAAS,EAGtB,MAAOxT,GACCwC,QAAQE,MAAM,mDACdF,QAAQE,MAAM1C,EAAE2C,Y,iCAIjB,IAAAqB,EAAAhC,KACP,IACI,GAAGA,KAAKwR,OAAO,OAGf,GAA6C,GAA1CxR,KAAKT,WAAWkS,uBAA+B,QAIX,IAAnCzR,KAAKT,WAAW8R,gBAEhBrR,KAAK+B,SAAS,WACV,IAAI2P,EAAcjQ,SAASC,iBAAiB,gEAE5CxC,QAAQyC,QAAQ+P,GAAarC,MAAMrN,EAAKZ,SADpC,qEAC+BY,CAAsBA,EAAKlC,UAC/D,KAKoC,IAAnCE,KAAKT,WAAW8R,qBAAyDjO,IAA9BpD,KAAKT,WAAWoS,YAAoF,IAAzD3R,KAAKT,WAAWoS,UAAUC,6BAAyF,IAAlD5R,KAAKT,WAAWoS,UAAUE,qBACjL7R,KAAK+B,SAAS,WACV,IAAI+P,EAAcrQ,SAASC,iBAAiB,+DAG5CxC,QAAQyC,QAAQmQ,GAAazC,MAAMrN,EAAKZ,SAFpC,kFAE+BY,CAAsBA,EAAKlC,SAAS+B,SAAS,YACjF,MAKgC,IAAnC7B,KAAKT,WAAW8R,qBAAyDjO,IAA9BpD,KAAKT,WAAWoS,WAA8D,sBAAnC3R,KAAKT,WAAWoS,UAAUI,QAC7E,IAAnC/R,KAAKT,WAAW8R,qBAAyDjO,IAA9BpD,KAAKT,WAAWoS,WAA8D,sBAAnC3R,KAAKT,WAAWoS,UAAUI,QAC7E,IAAnC/R,KAAKT,WAAW8R,qBAAyDjO,IAA9BpD,KAAKT,WAAWoS,WAA8D,sBAAnC3R,KAAKT,WAAWoS,UAAUI,QAC7E,IAAnC/R,KAAKT,WAAW8R,qBAAyDjO,IAA9BpD,KAAKT,WAAWoS,WAA8D,sBAAnC3R,KAAKT,WAAWoS,UAAUI,QAC7E,IAAnC/R,KAAKT,WAAW8R,qBAAyDjO,IAA9BpD,KAAKT,WAAWoS,WAA8D,sBAAnC3R,KAAKT,WAAWoS,UAAUI,QAEpH/R,KAAK+B,SAAS,WACV,IAAIiQ,EAAiBvQ,SAASC,iBAAiB,yFAG/CxC,QAAQyC,QAAQqQ,GAAgB3C,MAAMrN,EAAKZ,SAFvC,mFAEkCY,CAAsBA,EAAKlC,SAAS+B,SAAS,QACpF,IAGP7B,KAAKwR,QAAS,EAIjB,MAAOxT,GACJwC,QAAQE,MAAM,oDACdF,QAAQE,MAAM1C,EAAE2C,c,IAOKC,QAAU,CAAC,SAAU,WAAY,a,4HC7E9DkQ,EAAAvS,EAAA,0CAGaM,EAAAoS,6BAA+B/R,QACvCD,OAAO,+BAAgC,IACnC4B,WAAW,mCAAoCiQ,EAAAS,kCAC/ClS,UAAU,kCAAoC,CAC3CC,SAAU,CAACW,UAAW,KACtBY,WAAY,sC,yfCVfoR,6B,2FAELC,WAAW,WAMP,IACS9T,EADL+T,EAAe1Q,SAASC,iBAAiB,0BAC7C,IAAStD,KAAK+T,EACqB,WAA3BC,EAAOD,EAAa/T,KAAuC,OAApB+T,EAAa/T,KACpD+T,EAAa/T,GAAGiU,QAAU,WAP9BH,WAAW,WACPzQ,SAAS6Q,uBAAuB,8DAA8D,GAAGC,SAClG,QAUR,S,+OChBXC,EAAAjU,EAAA,oCAEaM,EAAA4T,wBAA0BvT,QAClCD,OAAO,0BAA2B,IAC9B4B,WAAW,8BAA+B2R,EAAAP,6BAC1C5S,UAAU,oBAAoB,CAC3BC,SAAU,CAACC,WAAY,KACvBsB,WAAY,iC,wKCPxB2R,EAAAjU,EAAA,qDAEaM,EAAA6T,oCAAsCxT,QAC9CD,OAAO,sCAAuC,IAC1CI,UAAU,gCAAkC,CACzCG,SAAU,2KAGcC,SAASC,KAAK8S,EAAAC,wBAAwB7S,O,gQCNtE,SAAA+S,EAAYvN,EAAUX,I,4FAAS1E,CAAAC,KAAA2S,GAC3B3S,KAAK4S,QAAUxN,EAASyN,SAASA,SAAS,GAE1C7S,KAAKyE,QAAUA,E,oDALVkO,yB,2FASL,IACI3S,KAAKT,WAAaS,KAAKC,UAAUV,WACjCS,KAAK8S,UAAY,CAAC,KAAK,KAAK,KAAK,MAC5B9S,KAAK8S,UAAU5G,SAASlM,KAAKT,WAAWwF,OACzC/E,KAAK+S,eAAe,MAI5B,MAAO/U,GACHwC,QAAQE,MAAM,8CACdF,QAAQE,MAAM1C,EAAE2C,Y,qCAIToE,GAEX/E,KAAKT,WAAWyT,kBAAkBC,kBAAkBlO,GACpD,IAAI7G,EAAI8B,KAAKT,WACbS,KAAKT,WAAW2T,YAAYC,YAAYpO,GAAMqO,KAAK,WAC/ClV,EAAE6D,SAAS,WAAW,OAAO7D,EAAEmV,OAAOC,GAAGpV,EAAEmV,OAAOE,QAAQ,CAACxO,KAAKA,GAAM,CAACyO,QAAO,Y,IAKlE5S,QAAU,CAAC,a,mHCvBnC6S,EAAAlV,EAAA,gCAEaM,EAAA6U,oBAAsBxU,QAC9BD,OAAO,sBAAuB,IAC1B4B,WAAW,0BAA2B4S,EAAAd,yBACtCtT,UAAU,yBAA2B,CAClCC,SAAU,CAACW,UAAW,KACtBY,WAAY,0BAEZrB,SAAU,uM,4OChBlB,SAAAmU,EAAYC,EAAoC9T,I,4FAAQC,CAAAC,KAAA2T,GACpD3T,KAAK4T,mCAAqCA,EAC1C5T,KAAKF,OAASA,E,oDAJT6T,uC,4FAQL,IAII,OAHA3T,KAAKT,WAAaS,KAAKC,UAAUV,WACjCS,KAAKF,OAAO+T,OAAS7T,KAAK4T,mCAAmCE,UAEnC,GAAtB9T,KAAKF,OAAO+T,OAMD3U,QAAQyC,QAAQF,SAAS+E,cAAc,kBACtCmH,YAAY,cANbzO,QAAQyC,QAAQF,SAAS+E,cAAc,kBACtC3E,SAAS,cAQ7B,MAAM7D,GACFwC,QAAQE,MAAM,0EACdF,QAAQE,MAAM1C,EAAE2C,c,IAKUC,QAAU,CAAC,qCAAsC,W,iICzBnF,IAAAmT,EAAAxV,EAAA,iDACAyV,EAAAzV,EAAA,8CAEaM,EAAAoV,kCAAoC/U,QAC5CD,OAAO,oCAAqC,IACxCwI,QAAQ,qCAAsCuM,EAAAJ,oCAC9C/S,WAAW,wCAAyCkT,EAAAJ,uCACpDtU,UAAU,uCAAyC,CAChDC,SAAU,CAACW,UAAW,KACtBY,WAAY,2C,wLCZXhC,EAAA+U,mCAAqC,CAAC,YAAa,SAAUM,GAEtE,SAASC,IACL,IACI,IAAKC,eAED,OADA5T,QAAQE,MAAM,iCACP,KAEX,IAAI2T,EAAMD,eAAeE,QAAQ,mBACjC,OAAKD,EAGEH,EAAUK,YAAYF,GAFlB,KAIf,MAAMrW,GACFwC,QAAQE,MAAM,4DACdF,QAAQE,MAAM1C,EAAE2C,UAwBxB,MAAO,CACHmT,QArBJ,WACI,IACI,IAAIU,EAAeL,IACnB,OAAKK,IAGoC,UAA3BA,EAAaC,UAAuBD,EAAaE,SAAW,IAF/D,KAUf,MAAM1W,GACFwC,QAAQE,MAAM,qDACdF,QAAQE,MAAM1C,EAAE2C,WAMpBwT,gBAAiBA,M,iIC5C7B,IAAAV,EAAAlV,EAAA,4CACAwV,EAAAxV,EAAA,8EAEaoW,EAAA9V,EAAA8V,kCAAoCzV,QAC5CD,OAAO,oCAAqC,IACxCI,UAAU,6BAA+B,CACtCC,SAAU,CAACC,WAAY,KACvBC,SAAA,0RAGZmV,EAAkClV,SAASC,KAAK+T,EAAAC,oBAAoB9T,MACpE+U,EAAkClV,SAASC,KAAKqU,EAAAE,kCAAkCrU,O,kKCXlFrB,EAAQ,qCACRU,EAAOJ,QAAU,oB,2ECDjBK,QACKD,OAAO,mBAAoB,IAI3B4B,WAAW,yBAA0B,CAAC,WAEnCb,KAAK4U,QAAU,WACX,IACI,IAAI5U,KAAKT,WAAW8D,KAAK4C,IAAI4G,QAAQgI,QAA6D,IAAnD7U,KAAKT,WAAW8D,KAAK4C,IAAI4G,QAAQgI,OAAO9V,OACnF,OAIJ,IAMQ+V,EACAC,EATR/U,KAAK6U,OAAS7U,KAAKT,WAAW8D,KAAK4C,IAAI4G,QAAQgI,OAAO,GAEnC,wBAAhB7U,KAAK6U,QAAoD,yBAAhB7U,KAAK6U,SAE/BpT,SAASoO,eAAe,uBAC9BmF,UAAUC,IAAI,sBAIlBF,GADAD,EAAW9U,KAAKT,WAAW8D,KAAK4C,IAAIC,QAAQgP,iBAAiB,IAC7CC,UAAUL,EAASM,YAAY,KAAO,GAGvC,yBAAhBpV,KAAK6U,OACJ7U,KAAKkF,IAAM,gDAAkD6P,EAIxC,wBAAhB/U,KAAK6U,SACV7U,KAAKkF,IAAM,wDAA0D6P,IAMjF,MAAM/W,GACFwC,QAAQE,MAAM,2DACdF,QAAQE,MAAM1C,EAAE2C,cAK3BtB,UAAU,mBAAoB,CAC3BC,SAAU,CAAEC,WAAY,KACxBsB,WAAY,yBACZrB,SAAA,44E,qCC9CRjB,EAAQ,uCACRU,EAAOJ,QAAU,sB,6ECDjBK,QACCD,OAAO,qBAAsB,IAEzBI,UAAU,uCAAwC,CAC/CC,SAAU,CAAEC,WAAY,KACxBsB,WAAY,qCACZrB,SAAS,0HAGZH,UAAU,qBAAsB,CAC7BC,SAAU,CAAEC,WAAY,KACxBsB,WAAY,2BACZrB,SAAA,kjDA0BHqB,WAAW,2BAA4B,CAAC,aAAc,SAAUsM,GAC7DnN,KAAK4U,QAAU,WACX,IACI,IAAI5U,KAAKT,WAAW8D,KAAK4C,IAAI4G,QAAQgI,QAA6D,IAAnD7U,KAAKT,WAAW8D,KAAK4C,IAAI4G,QAAQgI,OAAO9V,OACnF,OAIJ,GAFAiB,KAAK6U,OAAS7U,KAAKT,WAAW8D,KAAK4C,IAAI4G,QAAQgI,OAAO,GAEnC,wBAAhB7U,KAAK6U,OAAiC,CACrC,GAAG7U,KAAKT,WAAW8D,KAAKgS,SAASC,QAAwD,EAA9CtV,KAAKT,WAAW8D,KAAKgS,SAASC,OAAOvW,QAAciB,KAAKT,WAAW8D,KAAKgS,SAASC,OAAO,GAAGC,OAAgE,EAAvDvV,KAAKT,WAAW8D,KAAKgS,SAASC,OAAO,GAAGC,MAAMxW,OAAW,CASpM,GAAyB,EANPiB,KAAKT,WAAW8D,KAAKgS,SAASC,OAAO,GAAGC,MAAMrO,OAAQ,SAAAc,GACpE,SAAGA,EAAEwN,gBAA6B,KAAXxN,EAAEyN,QAKb1W,OACZ,OAKJoO,EAAW,gCAAgCiG,KAAK,SAACsC,GAC7C,IAAIC,EAAWlU,SAASoO,eAAe,YACvC3Q,QAAQyC,QAAQgU,EAASnP,cAAc,6CAA6CoP,KAAKF,GACzFxW,QAAQyC,QAAQgU,EAASnP,cAAc,+DAA+DoP,KAAKF,KAKrGjU,SAASoO,eAAe,uBAC9BmF,UAAUC,IAAI,sBAGtB,IAAIH,EAAW9U,KAAKT,WAAW8D,KAAK4C,IAAIC,QAAQgP,iBAAiB,GAC7DH,EAAOD,EAASK,UAAUL,EAASM,YAAY,KAAO,GAGvC,wBAAhBpV,KAAK6U,SACJ7U,KAAKkF,IAAM,uDAAyD6P,IAMhF,MAAM/W,GACFwC,QAAQE,MAAM,6DACdF,QAAQE,MAAM1C,EAAE2C,cAM3BE,WAAW,qCAAsC,CAAC,aAAc,SAAUsM,GACvEnN,KAAK4U,QAAU,WAAY,IAsBXiB,EAtBW7T,EAAAhC,KACvB,IAEI,GADAA,KAAK8V,cAAe,GAChB9V,KAAKT,WAAWwW,OAAO9P,IAAI4G,QAAQgI,QAA+D,IAArD7U,KAAKT,WAAWwW,OAAO9P,IAAI4G,QAAQgI,OAAO9V,OACvF,OAGJ,GADAiB,KAAK6U,OAAS7U,KAAKT,WAAWwW,OAAO9P,IAAI4G,QAAQgI,OAAO,GACnC,wBAAhB7U,KAAK6U,OAAkC,OAC5C,IAAI7U,KAAKT,WAAWwW,OAAOV,SAASC,QAA2D,GAAjDtV,KAAKT,WAAWwW,OAAOV,SAASC,OAAOvW,SAAgBiB,KAAKT,WAAWwW,OAAOV,SAASC,OAAO,GAAGC,OAAmE,GAA1DvV,KAAKT,WAAWwW,OAAOV,SAASC,OAAO,GAAGC,MAAMxW,OAAY,OAQzL,IANTiB,KAAKT,WAAWwW,OAAOV,SAASC,OAAO,GAAGC,MAAMrO,OAAQ,SAAAc,GACtE,SAAGA,EAAEwN,gBAA6B,KAAXxN,EAAEyN,QAKb1W,SAEZoO,EAAW,8BAA8BiG,KAAK,SAACsC,GAC3C1T,EAAK8T,cAAe,EACpB9T,EAAKgU,iBAAmBN,KAExBG,EAAmB7V,KAAKT,WAAW6F,SAAS,KAE5CyQ,EAAiBb,UAAUC,IAAI,uBAI3C,MAAMjX,GACFwC,QAAQE,MAAM,uEACdF,QAAQE,MAAM1C,EAAE2C,WAIxBX,KAAKiW,SAAW,WACZ,IACI,IAEQC,EAFJlW,KAAK8V,eAEDI,EADmBlW,KAAKT,WAAW6F,SAAS,GAClBoB,cAAc,wBACzCtH,QAAQyC,QAAQuU,IAA4C,EAAjChX,QAAQyC,QAAQuU,GAAQnX,SAClDG,QAAQyC,QAAQuU,GAAQ3F,KAAKvQ,KAAKgW,kBAClChW,KAAK8V,cAAe,EACpB9V,KAAKgW,iBAAmB,KAIpC,MAAMhY,GACFwC,QAAQE,MAAM,+EACdF,QAAQE,MAAM1C,EAAE2C,e,qCC9IhCpC,EAAQ,yDACRU,EAAOJ,QAAU,sC,gJCDJA,EAAAsX,mCAAqCjX,QAAQD,OAAO,qCAAsC,CAAC,OACnG4F,OAAO,CAAC,gBAAiB,SAACuR,GACvBA,EAAcC,aAAa3W,KAAK,CAAC,KAAM,SAAC4W,GACpC,MAAO,CACHrI,QAAW,SAACsI,GACR,OAAOA,GAEXC,aAAgB,SAACvI,GACb,OAAOqI,EAAGG,OAAOxI,IAErByI,cAAiB,SAACC,GACd,OAAOL,EAAGG,OAAOE,IAErBA,SAAY,SAACC,GACT,IACI,IAEQnC,EAFJ,qDAAqDoC,KAAKD,EAAS/R,OAAOK,OAEtEuP,EAAYvV,QAAQyC,QAAQF,SAAS+E,cAAc,kBAAkB3F,WAAW,iBAAiB0D,0BAA0BuS,eAAe3C,kBAAkBM,UAG5J,CAAC,KAAK,MAAMvI,SAASuI,KACrBmC,EAASG,KAAKC,iBAAmB,SAG3C,MAAOtW,GACLF,QAAQC,IAAIC,GAEhB,OAAOkW,W,qCC3B3BrY,EAAQ,+CACRU,EAAOJ,QAAU,6B,sICDJA,EAAAoY,0BAA4B/X,QAAQD,OAAO,4BAA6B,CAAC,OACjF4F,OAAO,CAAC,gBAAiB,SAACuR,GACvBA,EAAcC,aAAa3W,KAAK,CAAC,KAAM,SAAC4W,GACpC,MAAO,CACHrI,QAAW,SAACsI,GACR,OAAOA,GAEXC,aAAgB,SAACvI,GACb,OAAOqI,EAAGG,OAAOxI,IAErByI,cAAiB,SAACC,GACd,OAAOL,EAAGG,OAAOE,IAErBA,SAAY,SAACC,GACT,IACI,GAAI,2CAA2CC,KAAKD,EAAS/R,OAAOK,MACzC,KAAnB0R,EAASM,QAAyC,MAAxBN,EAASG,KAAKG,OAAgB,CACxD,IAAIvS,EAAoBzF,QAAQyC,QAAQF,SAAS+E,cAAc,kBAAkB2Q,WAAWC,IAAI,cAAc/S,YAAYC,MAAMC,0BAA0BC,mBACtJ6S,OAAO3S,UAAU,cAAc,kBAAkBC,kBAEjD2S,EAAsB,CACtB7O,GAAM,CAAC,aAAc,aAAc,iBACnCD,GAAM,CAAC,WAAY,iBAAkB,kBACrCE,GAAM,CAAC,wBAAyB,WAAY,iCAC5C6O,GAAM,CAAC,cAAe,cAAe,0BAErCC,EAA2B,CAC3B/O,GAAM,CAAC,aAAc,cACrBD,GAAM,CAAC,WAAY,kBACnBE,GAAM,CAAC,wBAAyB,YAChC6O,GAAM,CAAC,cAAe,gBAE1B,IAAIE,OAAOC,KAAKJ,GAAqBpL,SAASvH,GAU1C,KAAA,+BAAqCA,EATrC,IAAIgT,EAA6BC,OAAON,EAAoB3S,GAAmBkT,IAAI,SAAAC,GAAA,OAAKA,EAAEC,gBAAeC,KAAK,MAYlH,GAVIpB,EAASG,KAAKA,KAAKkB,MAAMC,KAAKL,IAAI,SAACC,GAC3BH,EAA2Bd,KAAKiB,EAAEK,WAAWJ,iBAC7CD,EAAEM,OAAS,QAQnBX,OAAOC,KAAKF,GAA0BtL,SAASvH,GAU/C,KAAA,qCAA2CA,EAT3C,IAAI0T,EAAkCT,OAAOJ,EAAyB7S,GAAmBkT,IAAI,SAAAC,GAAA,OAAKA,EAAEC,gBAAeC,KAAK,MAExHpB,EAASG,KAAKA,KAAKuB,YAAYC,UAAUV,IAAI,SAACC,GACtCO,EAAgCxB,KAAKiB,EAAEU,cAAcT,iBACrDD,EAAEM,OAAS,QAUnC,MAAO1X,GACHF,QAAQE,MAAMA,GAElB,OAAOkW,W,qCC/D3BrY,EAAQ,8CACRU,EAAOJ,QAAU,2B,oFCCjBK,QACKD,OAAO,0BAA2B,IAElC4B,WAAW,qBAAsB,CAAC,SAAU,SAAUf,GACnD,IAAI2Y,EAAKzY,KACTyY,EAAGC,SAEH,WACI,IAAIC,EAAKF,EAAGlZ,WAAWqZ,sBAAsBC,SAASC,SAClDC,EAAQ7Z,QAAQyC,QAAQF,SAAS+E,cAAc,kBAEnD,OAAgB,EAAZmS,EAAG5Z,OACIga,EAAMlX,SAAS,SAKfkX,EAAMpL,YAAY,aAOpCtO,UAAU,kBAAmB,CAC1BC,SAAU,CAAEC,WAAY,KACxBsB,WAAY,qBACZrB,SAAU","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","//import './slsp-courier-info';\nimport './slsp-ill-signin-order-alert';\nimport './prm-locations-after';\nimport './prm-location-items-after';\nimport './slsp-archives-htgi';\nimport './slsp-archives-viewit';\nimport './slsp-http-intercept-requests';\nimport './prm-user-area-expandable-after';\nimport './prm-loan-after';\nimport './prm-personal-info-after';\nimport './prm-alma-other-members-after';\nimport './prm-service-ngrs-after';\nimport './prm-service-physical-best-offer-after';\nimport './slsp-http-intercept-pickup-information';\nimport './prm-search-bar-after';\nimport './prm-tabs-and-scopes-selector-after';\nimport './prm-service-button-after';\nimport './prm-full-view-after';\nimport './prm-request-after';\nimport './prm-requests-after';\nimport './prm-alma-viewit-items-after';\nimport './pickup-anywhere-form-after';\n\n\nvar app = angular.module('viewCustom', ['angularLoad', 'slspIllSigninOrderAlert', 'ethLocationsAfterModule', 'ethLocationItemsAfterModule', 'slspArchivesHtgi', 'slspArchivesViewit', 'slspHttpInterceptRequests', 'slspUserAreaExpandableAfterModule', 'slspLoanAfterModule', 'slspPersonalInfoAfterModule', 'prmAlmaOtherMembersAfterModule', 'prmServiceNgrsAfterModule', 'prmServicePhysicalBestOfferAfterModule', 'slspHttpInterceptPickupInformation', 'bcuSearchBarAfterModule', 'bcuTabsAndScopesSelectorAfterModule', 'prmServiceButtonAfterModule', 'prmFullViewAfterModule', 'slspRequestAfterModule', 'slspRequestsAfterModule', 'prmAlmaViewitItemsAfterModule', 'pickupAnywhereFormAfterModule']);","import { slspRapidoHideLibraryModule } from './slsp-rapido-hide-library/slsp-rapido-hide-library.module';\n\nexport const pickupAnywhereFormAfterModule = angular\n    .module('pickupAnywhereFormAfterModule', [])\n    .component('pickupAnywhereFormAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `\n            <slsp-rapido-hide-library-component after-ctrl=\"$ctrl\"></slsp-rapido-hide-library-component>\n            <slsp-pickup-anywhere-form-after parent-ctrl=\"$parent.$ctrl\"></<slsp-pickup-anywhere-form-after>`\n    });\n\n\npickupAnywhereFormAfterModule.requires.push(slspRapidoHideLibraryModule.name);","//-----------------RapidoHideLibrary------------------------------\r\n\r\nexport class slspRapidoHideLibraryController {\r\n\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.$scope.$watch('this.$ctrl.afterCtrl.parentCtrl.pickupLibraryField.options', (pickupLibraryArray) => {\r\n                if (angular.isArray(pickupLibraryArray))\r\n                    angular.forEach(pickupLibraryArray, (library) => {\r\n\r\n                        if (\r\n                            //UBS-----------------------------\r\n                            //UBH Fernleihe\r\n                            library.value === '12900830000231' ||\r\n                            //Aaarau\r\n                            library.value === '112074320005504' ||\r\n                            //Swiss TPH\r\n                            library.value === '112070130005504' ||\r\n                            //BZG Gesundheit\r\n                            library.value === '112073630005504' ||\r\n                            //Mission 21\r\n                            library.value === '112058770005504' ||\r\n                            //Ges. f. Volkskunde\r\n                            library.value === '112056850005504' ||\r\n                            //Autographensammlung Geigy-Hagenbach\r\n                            library.value === '11304577870005504' ||\r\n                            //Anglistik\r\n                            library.value === '112062250005504' ||\r\n                            //Maiengasse\r\n                            library.value === '112067110005504' ||\r\n                            //Gender studies\r\n                            library.value === '112074910005504' ||\r\n                            //Geographie\r\n                            library.value === '112068850005504' ||\r\n                            //Kulturwissenschaft\r\n                            library.value === '112062530005504' ||\r\n                            //Mathematik\r\n                            library.value === '112057620005504' ||\r\n                            //Slavistik\r\n                            library.value === '112071430005504' ||\r\n                            //Soziologie\r\n                            library.value === '112061840005504' ||\r\n                            //Studienberatung\r\n                            library.value === '112074090005504' ||\r\n                            //Frauenfeld\r\n                            library.value === '112068670005504' ||\r\n                            //Schaulager\r\n                            library.value === '112075370005504' ||\r\n                            //St Gallen Stift\r\n                            library.value === '112061200005504' ||\r\n                            //St Gallen Vadiana\r\n                            library.value === '112063910005504' ||\r\n                            //Trogen\r\n                            library.value === '112066290005504' ||\r\n                            //Zofingen\r\n                            library.value === '112067340005504' ||\r\n                            //UBE-------------------------------\r\n                            //PH Mediothek\r\n                            library.value === '112061070005511' ||\r\n                            //BEWI\r\n                            library.value === '112056880005511' ||\r\n                            //Geographie\r\n                            library.value === '112061350005511' ||\r\n                            //JFB\r\n                            library.value === '112062500005511' ||\r\n                            //Medizingeschichte\r\n                            library.value === '112062730005511' ||\r\n                            //Muesmatt\r\n                            library.value === '112061810005511' ||\r\n                            //Pflanzenwissenschaft\r\n                            library.value === '112060560005511' ||\r\n                            //Public Health\r\n                            library.value === '112063750005511' ||\r\n                            //Speichermagazin\r\n                            library.value === '112063420005511' ||\r\n                            //Sportwissenschaft\r\n                            library.value === '112057320005511' ||\r\n                            //Vetsuisse\r\n                            library.value === '112062040005511' ||\r\n                            //Weiterbildung ZUW\r\n                            library.value === '112057550005511' ||\r\n                            //Wirschaftswissenschaften\r\n                            library.value === '112060330005511' ||\r\n                            //Zahnmedizin\r\n                            library.value === '112062270005511' ||\r\n                            //Bibliothek für Gestaltung Bern\r\n                            library.value === '112047360005527' ||\r\n                            //Bildungszentrum Pflege Online\r\n                            library.value === '112048510005527' ||\r\n                            //Campus Muristalden Bern\r\n                            library.value === '112046900005527' ||\r\n                            //Gosteli-Stiftung\r\n                            library.value === '112048690005527' ||\r\n                            //Naturhistorisches Museum Bern Bibliothek\r\n                            library.value === '112047820005527' ||\r\n                            //Staatsarchiv des Kantons Bern\r\n                            library.value === '112048280005527' ||\r\n                            //Alexandria------------------------\r\n                            //Musikautomaten\r\n                            library.value === '13298420001791' ||\r\n                            //Vela\r\n                            library.value === '13294580001791' ||\r\n                            //RUAG\r\n                            library.value === '13293660001791' ||\r\n                            //SECO\r\n                            library.value === '13293890001791' ||\r\n                            //BAR\r\n                            library.value === '13295770001791' ||\r\n                            //IGE\r\n                            library.value === '13297690001791' ||\r\n                            //CMM\r\n                            library.value === '13297000001791' ||\r\n                            //BWO\r\n                            library.value === '13296770001791' ||\r\n                            //swisstopo\r\n                            library.value === '13297960001791' ||\r\n                            //SWR\r\n                            library.value === '13294350001791' ||\r\n                            //DEZA\r\n                            library.value === '2237435119010001791' ||\r\n                            //Oskar\r\n                            library.value === '13294120001791' ||\r\n                            //ZHAW\r\n                            library.value === '13298650001791' ||\r\n                            //UNINE---------------------------\r\n                            //Empty library\r\n                            library.value === '112045850005517' ||\r\n                            //PHZH----------------------------\r\n                            //PHZH, Bibliothek\r\n                            library.value === '112047180005521' ||\r\n                            //PHZH, Pestalozzianum\r\n                            library.value === '112046950005521' ||\r\n                            //OSTGR---------------------------\r\n                            //FHO CDI Library\r\n                            library.value === '693177870005515' ||\r\n                            //UNIGE---------------------------\r\n                            //Observatoire\r\n                            library.value === '112048390005502' ||\r\n                            //RZH-----------------------------\r\n                            //MUG\r\n                            library.value === '112059990005526' ||\r\n                            //RZS-----------------------------\r\n                            //Hochdorf (PMZ-Kurier Dienstag)\r\n                            library.value === '1007807780005505' ||\r\n                            //Luzern ZHB Speicherbibliothek\r\n                            library.value === '112054640005505' ||\r\n                            //Mediothek XUND\r\n                            library.value === '112051600005505' ||\r\n                            //PH Schwyz, Standort Goldau\r\n                            library.value === '112050940005505' ||\r\n                            //PH Schwyz, Standort Pfaeffikon\r\n                            library.value === '112051270005505' ||\r\n                            //PH Zug\r\n                            library.value === '112050610005505' ||\r\n                            //PMZ Luzern\r\n                            library.value === '112049720005505' ||\r\n                            //Schuepfheim (PMZ-Kurier Dienstag)\r\n                            library.value === '1007808000005505' ||\r\n                            //Sursee (PMZ-Kurier Dienstag)\r\n                            library.value === '1007808220005505' ||\r\n                            //Willisau (PMZ-Kurier Dienstag)\r\n                            library.value === '1007808440005505' ||\r\n                            //UZH / UZB------------------------\r\n                            //Speicherbibliothek, ZB-Bestand\r\n                            library.value === '112070490005508' ||\r\n                            //Speicherbibliothek, UZH-Bestand\r\n                            library.value === '112055100005508' ||\r\n                            //ZB, Musikabteilung\r\n                            library.value === '112071870005508' ||\r\n                            //UB Zuerich, Forschungsbibliothek Jakob Jud\r\n                            library.value === '112050270005508' ||\r\n                            //UB Zuerich, Graezistik, Latinistik und  Aegyptologie I\r\n                            library.value === '112051190005508' ||\r\n                            //UB Zuerich, Graezistik, Latinistik und  Aegyptologie\r\n                            library.value === '112049810005508' ||\r\n                            //UB Zuerich, Kinderspital\r\n                            library.value === '112056250005508' ||\r\n                            //UB Zuerich, Klassische Archaeologie\r\n                            library.value === '112047790005508' ||\r\n                            //UB Zuerich, Kommunikationswissenschaft\r\n                            library.value === '112053490005508' ||\r\n                            //UB Zuerich, Osteuropaeische Geschichte\r\n                            library.value === '112069340005508' ||\r\n                            //UB Zuerich, Phonetisches Labor\r\n                            library.value === '112050730005508' ||\r\n                            //UB Zuerich, Politikwissenschaft\r\n                            library.value === '112048660005508' ||\r\n                            //UB Zuerich, Praehistorische Archaeologie\r\n                            library.value === '112052570005508' ||\r\n                            //UB Zuerich, Rechtswissenschaften\r\n                            library.value === '112071640005508' ||\r\n                            //UB Zuerich, Wirtschafts- und Sozialgeschichte\r\n                            library.value === '112050960005508' ||\r\n                            //UB Zuerich,  UniversitaetsSpital\r\n                            library.value === '112051420005508' ||\r\n                            //UZH und ETH Zuerich, Selbstlernzentrum Sprachenzentrum\r\n                            library.value === '112054870005508' ||\r\n                            //UZH und ETH Zuerich, Sprachenzentrum\r\n                            library.value === '112046410005508' ||\r\n                            //ETH Math\r\n                            library.value === '112048250005503' ||\r\n                            //UZH, Anthropologisches Institut und Museum\r\n                            library.value === '112049580005508' ||\r\n                            //UZH, Bibliothek fuer Biomedizinische Ethik\r\n                            library.value === '112056020005508' ||\r\n                            //UZH, Palaeontologisches Institut und Museum\r\n                            library.value === '112055790005508' ||\r\n                            //UZH, Psychiatrische Universitaetsklinik\r\n                            library.value === '112046870005508' ||\r\n                            //ZB, Alte Drucke\r\n                            library.value === '112069800005508' ||\r\n                            //ZB, Graphische Sammlung\r\n                            library.value === '112070030005508' ||\r\n                            //ZB, Musikwissenschaftliches Institut der UZH\r\n                            library.value === '112057630005508' ||\r\n                            //ZB, Handschriften\r\n                            library.value === '112070260005508' ||\r\n                            //ZB, Karten\r\n                            library.value === '112070950005508' ||\r\n                            //ZB, VAR\r\n                            library.value === '112070720005508' ||\r\n                            //HPH \r\n                            //PHSG  Studienbereichsbibliotheken Mariaberg\r\n                            library.value === '112062440005520' ||\r\n                            //Empty Library\r\n                            library.value === '112069930005520' ||\r\n                            //PHSG Online Dokumente\r\n                            library.value === '112063820005520' ||\r\n                            //PHSG  Infomedis Web App\r\n                            library.value === '734691490005520' ||\r\n                            //SFUVET - Infomedis Web App\r\n                            library.value === '1333405650005520' ||\r\n                            //Zollikofen EHB Online\r\n                            library.value === '112056780005520' ||\r\n                            //Empty Library\r\n                            library.value === '112046060005514' ||\r\n                            //HES CDI Library\r\n                            library.value === '332743630005514'\r\n\r\n\r\n                        ) {\r\n                            console.log('hidden Library', library);\r\n                            library.value = 'undefined';\r\n                        }\r\n                    })\r\n            })\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido hide Library\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspRapidoHideLibraryController.$inject = ['$scope'];","import { slspRapidoHideLibraryController } from './slsp-rapido-hide-library.controller';\r\n\r\n\r\nexport const slspRapidoHideLibraryModule = angular\r\n    .module('slspRapidoHideLibraryModule', [])\r\n    .controller('slspRapidoHideLibraryController', slspRapidoHideLibraryController)\r\n    .component('slspRapidoHideLibraryComponent', {\r\n        bindings: { afterCtrl: '<' },\r\n        controller: 'slspRapidoHideLibraryController',\r\n\r\n    })","\nimport {slspCollapseOtherInstModule} from './slsp-collapse-other-inst/slsp-collapse-other-inst.module';\nimport {slspIconLabelOtherMembersModule} from './slsp-icon-label-other-members/slsp-icon-label-other-members.module';\n\nexport const prmAlmaOtherMembersAfterModule = angular\n    .module('prmAlmaOtherMembersAfterModule', [])\n        .component('prmAlmaOtherMembersAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-collapse-other-inst-component after-ctrl=\"$ctrl\"></slsp-collapse-other-inst-component><slsp-icon-label-other-members-component after-ctrl=\"$ctrl\"></slsp-icon-label-other-members-component><slsp-alma-other-members-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-other-members-after>`\n        });\n\nprmAlmaOtherMembersAfterModule.requires.push(slspCollapseOtherInstModule.name);\nprmAlmaOtherMembersAfterModule.requires.push(slspIconLabelOtherMembersModule.name);","\r\n\r\n//--------CollapseOtherInst ---------------------------------------\r\n\r\n\r\nexport class slspCollapseOtherInstController {\r\n\r\n    constructor( $scope, $compile) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            if (this.parentCtrl.serviceMode !== 'howovp') {\r\n           \r\n                this.parentCtrl.isCollapsed = true;\r\n            }\r\n            else {\r\n                this.parentCtrl.isCollapsed = false;\r\n\r\n                if (this.parentCtrl.availabilityType == 'P') {\r\n                        this.noItemAtPickupLocation = noItemAtPickupLocation ;\r\n                        let noItemAtPickupLocation = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('P')\"]`);\r\n                        let htmlnoItemAtPickupLocation = `<div class=\"bar alert-bar zero-margin-bottom layout-align-center-center layout-row\"><span class=\"center\" translate=\"customized.alert.nolocations\">​</span></div>`;\r\n                            \r\n                            angular.element(noItemAtPickupLocation).prepend(this.$compile(htmlnoItemAtPickupLocation)(this.$scope)).addClass('noItemAtPickupLocation');\r\n                }\r\n            }\r\n        }\r\n            \r\n            \r\n       \r\n        catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspCollapseOtherInstController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n }\r\n\r\n\r\nslspCollapseOtherInstController.$inject =  ['$scope', '$compile'];\r\n\r\n","\r\n    import {slspCollapseOtherInstController} from './slsp-collapse-other-inst.controller';\r\n    import {slspCollapseOtherInstHtml} from './slsp-collapse-other-inst.html';\r\n\r\n    export const slspCollapseOtherInstModule = angular\r\n        .module('slspCollapseOtherInstModule', [])\r\n            .controller('slspCollapseOtherInstController', slspCollapseOtherInstController)\r\n            .component('slspCollapseOtherInstComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspCollapseOtherInstController',\r\n                template: slspCollapseOtherInstHtml\r\n            })","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelOtherMembersController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n                if (this.parentCtrl.availabilityType == \"E\") {\r\n                    \r\n                        this.iconLabelOtherMembersE = iconLabelOtherMembersE ;\r\n                        let iconLabelOtherMembersE = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('E')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme`);\r\n                        let htmlOtherMembersE = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\r\n                            \r\n                            angular.element(iconLabelOtherMembersE).prepend(this.$compile(htmlOtherMembersE)(this.$scope)).addClass('icnLblOtherMembersE');\r\n                }\r\n\r\n                if (this.parentCtrl.availabilityType == \"P\") {\r\n                    \r\n                                        \r\n                    this.iconLabelOtherMembersP2 = iconLabelOtherMembersP2 ;\r\n                    let iconLabelOtherMembersP2 = document.querySelectorAll(`prm-alma-other-members[ng-if=\"$ctrl.ifShowOther('P')\"] md-tab-content._md.md-active.md-no-scroll div md-content._md.md-primoExplore-theme md-list.md-primoExplore-theme`);\r\n                    let htmlOtherMembersP2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_4\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                        \r\n                        angular.element(iconLabelOtherMembersP2).prepend(this.$compile(htmlOtherMembersP2)(this.$scope)).addClass('icnLblOtherMembersP2');\r\n                }\r\n\r\n\r\n          \r\n                \r\n            },0);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelOtherMembersController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n","\r\n    import {slspIconLabelOtherMembersController} from './slsp-icon-label-other-members.controller';\r\n    import {slspIconLabelOtherMembersHtml} from './slsp-icon-label-other-members.html';\r\n\r\n    export const slspIconLabelOtherMembersModule = angular\r\n        .module('slspIconLabelOtherMembersModule', [])\r\n            .controller('slspIconLabelOtherMembersController', slspIconLabelOtherMembersController)\r\n            .component('slspIconLabelOtherMembersComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelOtherMembersController',\r\n                template: slspIconLabelOtherMembersHtml\r\n            })","\n\nimport {slspIconLabelViewitItemsModule} from './slsp-icon-label-viewit-items/slsp-icon-label-viewit-items.module';\n\nexport const prmAlmaViewitItemsAfterModule = angular\n    .module('prmAlmaViewitItemsAfterModule', [])\n        .component('prmAlmaViewitItemsAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-icon-label-viewit-items-component after-ctrl=\"$ctrl\"></slsp-icon-label-viewit-items-component>\n                       <slsp-alma-viewit-items-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-viewit-items-after>`\n        });\n\n\nprmAlmaViewitItemsAfterModule.requires.push(slspIconLabelViewitItemsModule.name);","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelViewitItemsController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n                if (this.parentCtrl.serviceType == \"ELECTRONIC\") {\r\n                    \r\n                        this.iconLabelViewitItems = iconLabelViewitItems ;\r\n                        let iconLabelViewitItems = document.querySelectorAll(\"#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items:nth-child(1) > md-list\");\r\n                        let htmlViewitItems = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.online\"></div></div>`;\r\n                        let iconLabelRidOff = document.querySelectorAll(\".icnWrp:nth-child(2)\")    \r\n                            angular.element(iconLabelRidOff).detach();                                                           \r\n                            angular.element(iconLabelViewitItems).prepend(this.$compile(htmlViewitItems)(this.$scope)).addClass('icnLblViewitItems');\r\n                }\r\n                else {\r\n                    return\r\n            }\r\n                         \r\n                \r\n            },0);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelViewitItemsController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n","\r\n    import {slspIconLabelViewitItemsController} from './slsp-icon-label-viewit-items.controller';\r\n    import {slspIconLabelViewitItemsHtml} from './slsp-icon-label-viewit-items.html';\r\n\r\n    export const slspIconLabelViewitItemsModule = angular\r\n        .module('slspIconLabelViewitItemsModule', [])\r\n            .controller('slspIconLabelViewitItemsController', slspIconLabelViewitItemsController)\r\n            .component('slspIconLabelViewitItemsComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelViewitItemsController',\r\n                template: slspIconLabelViewitItemsHtml\r\n            })","\nimport {slspIconLabelModule} from './slsp-icon-label/slsp-icon-label.module';\n\nexport const prmFullViewAfterModule = angular\n    .module('prmFullViewAfterModule', [])\n        .component('prmFullViewAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-icon-label-component after-ctrl=\"$ctrl\"></slsp-icon-label-component><slsp-full-view-after parent-ctrl=\"$parent.$ctrl\"></slsp-full-view-after>`\n        });\n\n        prmFullViewAfterModule.requires.push(slspIconLabelModule.name);\n","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n\r\n                    \r\n                        // this.iconLabel3 = iconLabel3 ;\r\n                        // let iconLabel3 = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-alma-viewit > prm-alma-viewit-items > md-list');\r\n                        // let html3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g id=\"Outline_Icons\"><g><path d=\"M155.98,92.26c0,35.19-28.5,63.72-63.66,63.72-35.16,0-63.3-29.68-63.3-64.87S55.9,30.44,89.77,29.08c.92-.04,1.83-.06,2.76-.06,35.16,0,63.45,28.05,63.45,63.24Z\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M89.77,29.08c-33.12,35.88-33.12,82.69,0,126.85\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M95.29,29.08c33.12,35.88,33.12,82.67,0,126.83\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"39.43\" y1=\"56.62\" x2=\"145.06\" y2=\"56.62\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"29.04\" y1=\"89.74\" x2=\"155.98\" y2=\"89.74\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"37.22\" y1=\"122.86\" x2=\"148.17\" y2=\"122.86\" fill=\"none\" stroke=\"#000\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\">online</div></div>`;\r\n                            \r\n                        //     angular.element(iconLabel3).prepend(this.$compile(html3)(this.$scope)).addClass('icnLbl3');\r\n\r\n\r\n                        //     this.iconLabel4 = iconLabel4 ;\r\n                        //     let iconLabel4 = document.querySelectorAll('md-content > prm-location-items > md-list');\r\n                                                                        \r\n                        //     let html4 = `<div class=\"icnWrp><div class=\"iconDiv4\"></div><div class=\"iconLabel\">pickup</div></div>`;\r\n                            \r\n                        //         angular.element(iconLabel4).prepend(this.$compile(html4)(this.$scope)).addClass('icnLbl3');\r\n\r\n                                // this.iconLabel5 = iconLabel5 ;\r\n                                // let iconLabel5 = document.querySelectorAll('md-content > prm-locations > div.padding-left-medium > md-list:nth-child(1)');\r\n                                                                            \r\n                                // let html5 = `<div class=\"icnWrp\"><div class=\"iconDiv5\"></div><div class=\"iconLabel\">pickup2</div></div>`;\r\n                                \r\n                                //     angular.element(iconLabel5).prepend(this.$compile(html5)(this.$scope)).addClass('icnLbl3');\r\n                           \r\n                \r\n            }, 3000);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n","\r\n    import {slspIconLabelController} from './slsp-icon-label.controller';\r\n    import {slspIconLabelHtml} from './slsp-icon-label.html';\r\n\r\n    export const slspIconLabelModule = angular\r\n        .module('slspIconLabelModule', [])\r\n            .controller('slspIconLabelController', slspIconLabelController)\r\n            .component('slspIconLabelComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelController',\r\n                template: slspIconLabelHtml\r\n            })","\nimport {slspRenewItemTextModule} from './slsp-renew-item-text/slsp-renew-item-text.module';\n\nexport const slspLoanAfterModule = angular\n    .module('slspLoanAfterModule', [])\n        .component('prmLoanAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-renew-item-text-component after-ctrl=\"$ctrl\"></slsp-renew-item-text-component><slsp-loan-after parent-ctrl=\"$parent.$ctrl\"></slsp-loan-after>`\n        });\n\nslspLoanAfterModule.requires.push(slspRenewItemTextModule.name);\n","//--------Renewstatus display of loan items ---------------------------------------\r\n\r\nexport class slspRenewItemTextController {\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.getRenewText = getRenewText;\r\n\r\n            function getRenewText() {\r\n                if (this.parentCtrl.item.renewstatuses !== undefined && this.parentCtrl.item.renewstatuses.renewstatus[0] !== undefined) {\r\n                    return this.parentCtrl.item.renewstatuses.renewstatus[0];\r\n                }\r\n                else {\r\n                    return\r\n                }\r\n            }\r\n        }\r\n\r\n        catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspRenewItemTextController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspRenewItemTextController.$inject = [];\r\n\r\n","\r\n\r\n\r\n\r\n\r\n    import {slspRenewItemTextController} from './slsp-renew-item-text.controller';\r\n    import {slspRenewItemTextHtml} from './slsp-renew-item-text.html';\r\n\r\n    export const slspRenewItemTextModule = angular\r\n        .module('slspRenewItemTextModule', [])\r\n            .controller('slspRenewItemTextController', slspRenewItemTextController)\r\n            .component('slspRenewItemTextComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspRenewItemTextController',\r\n                template: slspRenewItemTextHtml\r\n            })","import { ethMapongoCheckModule } from './eth-mapongo/eth-mapongo-check.module';\r\nimport { ethMapongoModule } from './eth-mapongo/eth-mapongo.module';\r\nimport { slspIButtonModule } from './slsp-i-button/slsp-i-button.module';\r\nimport {slspIconLabelLocationItemsModule} from './slsp-icon-label-location-items/slsp-icon-label-location-items.module';\r\n\r\n\r\nexport const ethLocationItemsAfterModule = angular\r\n    .module('ethLocationItemsAfterModule', [])\r\n    .component('prmLocationItemsAfter', {\r\n        bindings: { parentCtrl: '<' },\r\n        template: \r\n\t\t`\r\n\t\t<eth-mapongo-check after-ctrl=\"$ctrl\"></eth-mapongo-check>\r\n        <slsp-i-button-component after-ctrl=\"$ctrl\"></slsp-i-button-component>\r\n        <slsp-icon-label-location-items-component after-ctrl=\"$ctrl\"></slsp-icon-label-location-items-component>\r\n        <slsp-location-items-after parent-ctrl=\"$parent.$ctrl\"></slsp-location-items-after>\r\n        \r\n\t\t`\r\n    });\r\n\r\nethLocationItemsAfterModule.requires.push(ethMapongoCheckModule.name);\r\nethLocationItemsAfterModule.requires.push(ethMapongoModule.name);\r\nethLocationItemsAfterModule.requires.push(slspIButtonModule.name);\r\nethLocationItemsAfterModule.requires.push(slspIconLabelLocationItemsModule.name);\r\n\r\n\r\n","/**\n* @ngdoc service\n* @key ethConfigService\n*\n* @description\n*\n* Service to get and handle informations from a module config:\n* - getLabel()\n* - getUrl()\n* - getLanguage()\n*\n */\nexport const ethConfigService = ['$rootScope', function( $rootScope ){\n\n    function getLanguage(){\n        try{\n            let sms = $rootScope.$$childHead.$ctrl.userSessionManagerService;\n            if (!sms) {\n                console.error(\"***ETH*** ethConfigService: userSessionManagerService not available\");\n                return 'en';\n            }\n            else{\n                return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLanguage():\");\n            console.error(e.message);\n            return 'en';\n        }\n    }\n\n\n    function getLabel(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.label[key]) {\n                console.error(\"***ETH*** ethConfigService.getLabel: '\" + key + \"' not in config\");\n                return key;\n            }\n            if(config.label[key][lang]){\n                return config.label[key][lang];\n            }\n            else{\n                return config.label[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLabel():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    function getUrl(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.url[key]) {\n                console.error(\"***ETH*** ethConfigService.getUrl: '\" + key + \"' not in config\");\n                return '';\n            }\n            if(config.url[key][lang]){\n                return config.url[key][lang];\n            }\n            else{\n                return config.url[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getUrl():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    return {\n        getLanguage: getLanguage,\n        getLabel: getLabel,\n        getUrl: getUrl\n    };\n}]\n","export class ethMapongoCheckController {\n\n    constructor( $scope, $compile, $element, ethMapongoLibrariesService ) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$element = $element;\n        this.ethMapongoLibrariesService = ethMapongoLibrariesService;\n        this.isMapongoLibrary = true;\n        this.noLocationItemAfter = 0;\n     }\n\n    $onInit() {\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n    }\n\n    $doCheck() {\n        try{\n            // are location item elements loaded and rendered? Or \"show more items\" pushed?\n            let locationItemAfter = this.$element[0].parentElement.parentElement.getElementsByTagName('prm-location-item-after');\n            let noLocationItemAfter = locationItemAfter.length;\n            if(noLocationItemAfter <= this.noLocationItemAfter){\n                return;\n            }\n            this.noLocationItemAfter = noLocationItemAfter;\n\n            // mapongo library?\n            if(!this.isMapongoLibrary)return;\n            if (!this.ethMapongoLibrariesService.isMapongoLibrary(this.parentCtrl.loc.location.libraryCode)) {\n                this.isMapongoLibrary = false;\n                return;\n            }\n\n            // array of html collection prm-location-item-after\n            let aPrmLocationItemAfter = [].slice.call(locationItemAfter);\n            this.recordid = this.parentCtrl.item.pnx.control.sourcerecordid[0];\n\n            // iterate items of a location (Exemplare), get reference to after directive of location-item and inject eth-mapongo-directive\n            for(let i = 0; i < this.parentCtrl.loc.items.length; i++){\n                if(i >= aPrmLocationItemAfter.length){\n                    // more items than initially rendered\n                    return;\n                }\n\n                let item = this.parentCtrl.loc.items[i];\n                let prmLocationItemAfter = aPrmLocationItemAfter[i];\n\n                // is mapongo directive already injected?\n                let ethMapongo = prmLocationItemAfter.querySelector('eth-mapongo');\n                if(!!ethMapongo){\n                    continue;\n                }\n\n                if (!this.ethMapongoLibrariesService.isMapongoSubLocation(this.parentCtrl.loc.location.libraryCode, item._additionalData.secondarylocationname)) {\n                    continue;\n                }\n\t\t\t\t\n                if(!this.ethMapongoLibrariesService.isAvailable(item._additionalData.itemstatusname)){\n                    continue;\n                }\n\t\t\t\t\n\n                this.subLocationCode = this.ethMapongoLibrariesService.getSubLocationCode(this.parentCtrl.loc.location.libraryCode, item._additionalData.secondarylocationname);\n                this.callnumber = item._additionalData.callnumber;\n                let addCallnumberEntry = item.fullItemFields.filter(function(e) {return e.indexOf(\"Zusätzliche Signatur:\") > -1 || e.indexOf(\"Additional call number:\") > -1;} );\n                this.addCallnumber = \"\";\n                if (addCallnumberEntry.length > 0) {\n                    this.addCallnumber = addCallnumberEntry[0].replace(\"Zusätzliche Signatur: \",\"\").replace(\"Additional call number: \",\"\");\n                }\n                if(this.addCallnumber != \"\"){\n                    // todo: is it always correct to use 'Additional call number' if it exists?\n                    this.callnumber = this.addCallnumber;\n                }\n\n                let barcodeEntry = item.fullItemFields.filter(function(e) {return e.indexOf(\"Barcode:\") > -1 || e.indexOf(\"Strichcode:\") > -1;} );\n                this.barcode = \"\";\n                if (barcodeEntry.length > 0) {\n                    this.barcode = barcodeEntry[0].replace(\"Barcode: \",\"\").replace(\"Strichcode: \",\"\");\n                }\n\t\t\t\t\n                // inject eth-mapongo element (handled by eth-mapongo.module)\n                angular.element(prmLocationItemAfter).append(this.$compile('<eth-mapongo after-ctrl=\"$ctrl\" class=\"eth-mapongo-container\" recordid=\"' + this.recordid + '\" barcode=\"' + this.barcode + '\" callnumber=\"' + this.callnumber + '\" sublocation=\"' + this.subLocationCode + '\"parent-ctrl=\"$ctrl.parentCtrl\"></eth-mapongo>')(this.$scope));\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** ethMapongoCheckController.$doCheck:\");\n            console.error(e.message);\n        }\n\n    }\n}\n\nethMapongoCheckController.$inject = [ '$scope', '$compile', '$element', 'ethMapongoLibrariesService'];\n","/**\n* @ngdoc module\n* @name ethMapongoCheckModule\n*\n* @description\n* checks if mapongo should be injected\n* - checks if the current library and location (Standort) are registered for Mapongo\n* - checks the item status\n* - may inject an eth-mapongo directive and specific attributes for it in prm-location-item-after (handled by eth-mapongo.module.js)\n*\n* A prm controller works only for prmLocationItems. There is no prmLocationItem controller\n* $ctrl in prmLocationItemAfter is a reference to prmLocationItems Controller\n*\n* If there is 1 location: prmLocationItemsAfter\n*\n* If there are multiple locations: prmLocationAfter;\n* after all locations: prmLocationsAfter;\n* after choosing a location: prmLocationItemsAfter\n*\n*\n* <b>AngularJS Dependencies</b><br>\n* Service {@link ETH.ethMapongoLibrariesService}<br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n*\n*\n* @example\n* ZHAW MMS IDs: 991128155109705501, 990013732410205503; 2 Exemplare: 990058665580205503; 5 Exemplare: 991129451879705501\n*\n*/\nimport {ethMapongoLibrariesService} from './eth-mapongo-libraries.service';\nimport {ethMapongoCheckController} from './eth-mapongo-check.controller';\n\nexport const ethMapongoCheckModule = angular\n    .module('ethMapongoCheckModule', [])\n        .factory('ethMapongoLibrariesService', ethMapongoLibrariesService)\n        .controller('ethMapongoCheckController', ethMapongoCheckController)\n        .component('ethMapongoCheck', {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethMapongoCheckController'\n        })\n","/**\n* @ngdoc service\n* @name ethMapongoLibrariesService\n*\n* @description\n*\n* Holds informations about the libraries which use mapongo\n*\n*\n* <b>Used by</b><br>\n*\n* Module {@link ETH.ethMapongoModule}<br>\n*\n*\n */\nexport const ethMapongoLibrariesService = [function(){\n    // todo: are the locations correct and complete?\n    const libraries = [\n            {\n                    \"shortname\": \"ZHdK-MIZ\",\n                    \"name\": \"ZHdK-MIZ\",\n                    \"libraryCode\": \"E65\",\n                    \"baseUrl\": \"https://zhdk.mapongo.de\",\n                    \"locationCodeWhiteList\": [\"E65G1\",\"E65G2\",\"E65E1\",\"E65U1\",\"E65U4\"],\n                    \"locationWhiteList\": [\"Galeriegeschoss\",\"Galeriegeschoss\",\"Eingangsgeschoss\",\"Untergeschoss\",\"Untergeschoss Curating Degree Zero Archive\"]\n            },\n            {\n                    \"shortname\": \"ZHAW-HSB-ZH\",\n                    \"name\": \"ZHAW Hochschulbibliothek Zürich\",\n                    \"libraryCode\": \"E97\",\n                    \"baseUrl\": \"https://zhdk.mapongo.de\",\n                    \"locationCodeWhiteList\": [\"E97E1\"],\n                    \"locationWhiteList\": [\"Eingangsgeschoss\"]\n            },\n            {\n                    \"shortname\": \"ZHAW-HSB-WIN\",\n                    \"name\": \"ZHAW Hochschulbibliothek Winterthur\",\n                    \"libraryCode\": \"E51\",\n                    \"baseUrl\": \"https://zhaw.mapongo.de\",\n                    \"locationCodeWhiteList\": [\"E51BA\",\"E51B0\",\"E51B9\",\"E51B2\",\"E51B8\",\"E51BN\",\"E51BL\",\"E51BG\",\"E51BT\",\"E51BB\",\"E51BW\",\"E51BA\",\"E51BK\",\"E51BR\"],\n                    \"locationWhiteList\": [\"Architektur und Bau - 1. ZG\",\"Neuerwerbungen - EG\",\"Handapparate - EG\",\"Compactus, offen - EG\",\"Zeitschriften - EG\",\"Allgemeines und Nachschlagewerke - EG\",\"Angewandte Linguistik - EG\",\"Gesundheit und Medizin - EG\",\"Technik und Naturwissenschaften - 1. ZG\",\"Wissenschaft und Bildung - EG\",\"Wirtschaft und Management - 1. ZG\",\"Architektur und Bau - 1. ZG\",\"Kunst und Unterhaltung - EG\",\"Recht und Politik - 2. ZG\"]\n            },\n            {\n                    \"shortname\": \"PHZH\",\n                    \"name\": \"PH Zürich, Bibliothek\",\n                    \"libraryCode\": \"UPHZH\",\n                    \"baseUrl\": \"https://phzh.mapongo.de\",\n                    \"locationCodeWhiteList\": [\"ULFHF\",\"ULFHG\",\"ULFHN\",\"ULFHS\"],\n                    \"locationWhiteList\": [\"Stockwerk F - frei zugänglich\",\"Stockwerk G - frei zugänglich\", \"Stockwerk H Nord - frei zugänglich\",\"Stockwerk H Süd - frei zugänglich\"]\n            },\n            {\n                    \"shortname\": \"HGK-MED\",\n                    \"name\": \"FHNW HGK-Mediathek Basel\",\n                    \"libraryCode\": \"E75\",\n                    \"baseUrl\":\"https://mediathek.hgk.fhnw.ch/nebis\",\n                    \"locationCodeWhiteList\": [\"HAP\",\"E75BI\",\"E75AC\",\"E75MA\",\"E75VS\"],\n\t\t            \"locationWhiteList\":[\"Handapparat\",\"Mediathek\",\"Archiv\",\"Magazin\",\"Verschiedene Standorte\"]\n            },\n            {\n                    \"shortname\": \"HGK-MED\",\n                    \"name\": \"FHNW Campus Muttenz Bibliothek\",\n                    \"libraryCode\": \"E44\",\n                    \"baseUrl\":\"https://fhnw-cmu.mapongo.de\",\n                    \"locationCodeWhiteList\": [\"E44TE\",\"E44BI\",\"E44MG\",\"E44VS\"],\n                    \"locationWhiteList\":[\"Ausleihe auf Anfrage, bitte Bibliothek kontaktieren\",\"Bibliothek\",\"Magazin: Nicht frei zugänglich, zur Abholung bestellen\",\"Verschiedene Standorte\"]\n            }\n    ];\n\n    // todo: are the statuses correct and complete?\n    const availabilityStatus = ['Exemplar ist vorhanden', 'Item in place', 'Exemplaire en rayon', 'Copia in posizione'];\n\n    function getMapongoLibrary(libraryCode){\n      let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode;} );\n      if (filterLibraries.length > 0)\n          return filterLibraries[0];\n      else\n          return null;\n    }\n\n    function isMapongoLibrary(libraryCode){\n      let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode} );\n      if (filterLibraries.length > 0)return true;\n      else return false;\n    }\n\n    function isMapongoSubLocation(libraryCode, subLocation){\n      let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode && l.locationWhiteList.indexOf(subLocation)>-1;} );\n      if (filterLibraries.length > 0)return true;\n      else return false;\n    }\n\n    function getSubLocationCode(libraryCode, subLocation){\n        let filterLibraries = libraries.filter( l => {return l.libraryCode === libraryCode} );\n        if (filterLibraries.length === 0)return null;\n        let i = filterLibraries[0].locationWhiteList.indexOf(subLocation);\n        return filterLibraries[0].locationCodeWhiteList[i];\n    }\n\n    function getBaseUrl(libraryCode){\n        let lib = getMapongoLibrary(libraryCode);\n        if (lib) {\n            return lib.baseUrl;\n        }\n        else{\n            return \"\";\n        }\n\n    }\n\n    function isAvailable(itemstatusname){\n        let filterStatus = availabilityStatus.filter( s => {return s === itemstatusname});\n        if (filterStatus.length > 0)return true;\n        return false;\n    }\n\n    return {\n        isMapongoLibrary: isMapongoLibrary,\n        isMapongoSubLocation: isMapongoSubLocation,\n        getBaseUrl: getBaseUrl,\n        getSubLocationCode: getSubLocationCode,\n        isAvailable: isAvailable\n    };\n\n\n}];\n","export const ethMapongoConfig = function(){\n    return {\n        label: {\n            qrc: {\n                de: 'Karte auf Smartphone laden',\n                en: 'Load map on your smartphone',\n                fr: 'Charger la carte sur votre smartphone'\n            }\n        }\n    }\n}\n","export class ethMapongoController {\n\n    constructor(ethMapongoLibrariesService, ethConfigService, ethMapongoConfig) {\n        this.ethMapongoLibrariesService = ethMapongoLibrariesService;\n        this.ethConfigService = ethConfigService;\n        this.config = ethMapongoConfig;\n        this.lang = this.ethConfigService.getLanguage();\n    }\n\n    $onInit() {\n        // reference to prmLocationItemsController (all items)\n        this.parentCtrl = this.afterCtrl.parentCtrl;\n    };\n\n    getMapongoImageSrc() {\n        let src = \"\";\n        try{\n            if (!this.parentCtrl.loc || !this.parentCtrl.loc.location) {\n                console.error(\"***ETH*** ethMapongoController.getMapongoImageSrc: loc or loc.location not available\");\n                return;\n            }\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            src = baseUrl + \"/static_images/projects/1/search_thumbnail.jpg?project_id=1&search_key=\" + encodeURIComponent(this.callnumber);\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                src += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (loc.libraryCode === \"E65\") {\n                src += \"&e=\" + encodeURIComponent(this.recordid);\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoImageSrc:\");\n            console.error(e.message);\n        }\n        return src;\n    }\n\n    getMapongoUrl() {\n        let url = \"\";\n        try{\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            url = baseUrl + \"/viewer?project_id=1&search_key=\" + encodeURIComponent(this.callnumber) + \"&language=\" + this.lang + \"&e=\" + encodeURIComponent(this.recordid);\n            // ZHAW-HSB-WIN\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                url += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (this.barcode != \"\") {\n                    url += \"&bcd=\" + this.barcode;\n            }\n\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoUrl:\");\n            console.error(e.message);\n        }\n        return url;\n    }\n\n    getMapongoQRC() {\n        let src = \"\";\n        try{\n            let loc = this.parentCtrl.loc.location;\n            let baseUrl = this.ethMapongoLibrariesService.getBaseUrl(loc.libraryCode);\n\n            src = baseUrl + \"/static_images/projects/1/search_qrcode.png?project_id=1&search_key=\" + encodeURIComponent(this.callnumber) + \"&language=\" + this.lang + \"&e=\" + encodeURIComponent(this.recordid);\n            if (loc.libraryCode === \"E51\" || loc.libraryCode === \"UPHZH\" ) {\n                src += \"&search_context2=\" + encodeURIComponent(this.sublocation);\n            }\n            if (this.barcode != \"\") {\n                src += \"&bcd=\" + this.barcode;\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** EthMapongoController.getMapongoQRC:\");\n            console.error(e.message);\n        }\n        return src;\n    }\n\n\n}\n\nethMapongoController.$inject = [ 'ethMapongoLibrariesService', 'ethConfigService', 'ethMapongoConfig'];\n","/**\n * @ngdoc module\n * @name ethMapongoModule\n *\n * @description\n * - renders Link, map and QRCode for mapongo\n *\n *\n * <b>AngularJS Dependencies</b><br>\n * Service {@link ETH.ethMapongoLibrariesService}<br>\n * Service /js/services {@link ETH.ethConfigService}<br>\n * Service {@link ETH.ethMapongoConfig}<br>\n *\n *\n * <b>CSS/Image Dependencies</b><br>\n * CSS /css/mapongo.css\n *\n * @example\n * ZHAW MMS IDs: 991128155109705501, 990013732410205503; 2 Exemplare: 990058665580205503; 5 Exemplare: 991129451879705501\n *\n */\nimport { ethConfigService } from './eth-config.service';\nimport { ethMapongoConfig } from './eth-mapongo.config';\nimport { ethMapongoLibrariesService } from './eth-mapongo-libraries.service';\nimport { ethMapongoController } from './eth-mapongo.controller';\nimport { ethMapongoHtml } from './eth-mapongo.html';\n\nexport const ethMapongoModule = angular\n    .module('ethMapongoModule', [])\n    .factory('ethConfigService', ethConfigService)\n    .factory('ethMapongoConfig', ethMapongoConfig)\n    .factory('ethMapongoLibrariesService', ethMapongoLibrariesService)\n    .controller('ethMapongoController', ethMapongoController)\n    .component('ethMapongo', {\n        bindings: {\n            afterCtrl: '<',\n            recordid: '@',\n            callnumber: '@',\n            barcode: '@',\n            sublocation: '@'\n        },\n        controller: 'ethMapongoController',\n        template: ethMapongoHtml\n    })","//--------\"i\" button ---------------------------------------\r\n\r\n\r\nexport class slspIButtonController {\r\n\r\n    constructor() {}\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.getLibrary = getLibrary;\r\n            this.getLibraryCode = getLibraryCode;\r\n            this.getLanguage = getLanguage;\r\n            this.biblinkText = \"Library\";\r\n            this.biblinkBase = \"https:\\/\\/registration.slsp.ch\\/libraries\\/\\?library\\=\";\r\n\r\n            function getLibrary() {\r\n                if (this.parentCtrl.currLoc !== undefined && this.parentCtrl.currLoc.location !== undefined) {\r\n                    return this.parentCtrl.currLoc.location.librarycodeTranslation;\r\n            }\r\n            else {\r\n                return\r\n            }\r\n        }\r\n            function getLibraryCode() {\r\n                if (this.parentCtrl.currLoc !== undefined && this.parentCtrl.currLoc.location !== undefined) {\r\n                    return this.parentCtrl.currLoc.location.libraryCode;\r\n            }\r\n            else {\r\n                return\r\n            }\r\n        }\r\n\r\n            function getLanguage() {\r\n                if (this.parentCtrl.userSessionManagerService !== undefined) {\r\n                    return this.parentCtrl.userSessionManagerService.$location.$$search.lang;\r\n            }\r\n            else {\r\n                return\r\n            }\r\n        }\r\n\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspIButtonController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspIButtonController.$inject = [];","    import {slspIButtonController} from './slsp-i-button.controller';\r\n    import {slspIButtonHtml} from './slsp-i-button.html';\r\n  \r\n\r\n    export const slspIButtonModule = angular\r\n        .module('slspIButtonModule', [])\r\n            .controller('slspIButtonController', slspIButtonController)\r\n            .component('slspIButtonComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIButtonController',\r\n                template: slspIButtonHtml\r\n            })","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelLocationItemsController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_0\") {\r\n                    \r\n                        this.iconLabelLocationItems = iconLabelLocationItems ;\r\n                        let iconLabelLocationItems = document.querySelectorAll(\"#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\r\n                        let htmlLocationItems = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                                                                                        \r\n                            angular.element(iconLabelLocationItems).prepend(this.$compile(htmlLocationItems)(this.$scope)).addClass('icnLblLocationItems');\r\n                }\r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_1\") {\r\n                    \r\n                    this.iconLabelLocationItems3 = iconLabelLocationItems3 ;\r\n                    let iconLabelLocationItems3 = document.querySelectorAll(\"#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\r\n                    let htmlLocationItems3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                                                                                    \r\n                        angular.element(iconLabelLocationItems3).prepend(this.$compile(htmlLocationItems3)(this.$scope)).addClass('icnLblLocationItems3');\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n                if (this.parentCtrl.serviceScrollId === \"alma_other_members\") {\r\n                    \r\n                    this.iconLabelLocationItems2 = iconLabelLocationItems2 ;\r\n                    let iconLabelLocationItems2 = document.querySelectorAll(\"prm-alma-other-members md-content > prm-location-items > md-list.separate-list-items.margin-left-medium.md-primoExplore-theme.layout-column\");\r\n                    let htmlLocationItems2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                                                                                    \r\n                        angular.element(iconLabelLocationItems2).prepend(this.$compile(htmlLocationItems2)(this.$scope)).addClass('icnLblLocationItems2');\r\n            }\r\n\r\n\r\n                         \r\n                \r\n            },0);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelLocationItemsController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n","\r\n    import {slspIconLabelLocationItemsController} from './slsp-icon-label-location-items.controller';\r\n    import {slspIconLabelLocationItemsHtml} from './slsp-icon-label-location-items.html';\r\n\r\n    export const slspIconLabelLocationItemsModule = angular\r\n        .module('slspIconLabelLocationItemsModule', [])\r\n            .controller('slspIconLabelLocationItemsController', slspIconLabelLocationItemsController)\r\n            .component('slspIconLabelLocationItemsComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelLocationItemsController',\r\n                template: slspIconLabelLocationItemsHtml\r\n            })","import {ethLocationsFilterModule} from './eth-locations-filter/eth-locations-filter.module';\nimport {slspIconLabelLocationsModule} from './slsp-icon-label-locations/slsp-icon-label-locations.module';\nimport {slspCollapseRelatedModule} from './slsp-collapse-related/slsp-collapse-related.module';\n\nexport const ethLocationsAfterModule = angular\n    .module('ethLocationsAfterModule', [])\n        .component('prmLocationsAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<eth-locations-filter-component after-ctrl=\"$ctrl\"></eth-locations-filter-component><slsp-icon-label-locations-component after-ctrl=\"$ctrl\"></slsp-icon-label-locations-component><slsp-collapse-related-component after-ctrl=\"$ctrl\"></slsp-collapse-related-component><slsp-locations-after parent-ctrl=\"$parent.$ctrl\"></slsp-locations-after>`\n        });\n\nethLocationsAfterModule.requires.push(ethLocationsFilterModule.name);\nethLocationsAfterModule.requires.push(slspIconLabelLocationsModule.name);\nethLocationsAfterModule.requires.push(slspCollapseRelatedModule.name);","export class ethLocationsFilterController {\n\n    constructor($timeout, $scope) {\n        this.$timeout = $timeout;\n        this.$scope = $scope;\n    }\n\n    $onInit() {\n        try{\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.$scope.$watch('this.$ctrl.parentCtrl.locations[0].location.librarycodeTranslation', (newValue, oldValue, scope) => {\n                if(!scope.$ctrl.parentCtrl.isLocationsFilterVisible && newValue && newValue != ''){\n                    this.$timeout(() => {\n                        scope.$ctrl.parentCtrl.isLocationsFilterVisible = true;\n                    }, 0);\n                }\n            }, true);\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethLocationsFilterController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nethLocationsFilterController.$inject = ['$timeout', '$scope'];\n","/**\n* @ngdoc module\n* @name ethLocationsFilterModule\n*\n* @description\n*\n* Customization for the locations filter:<br>\n* - the locations filter is visible by default\n*\n* If there is 1 location: prmLocationItemsAfter\n*\n* If there are multiple locations: prmLocationAfter;\n* after all locations: prmLocationsAfter;\n* after choosing a location: prmLocationItemsAfter\n*\n*\n* <b>AngularJS Dependencies</b><br>\n*\n*\n* <b>CSS/Image Dependencies</b><br>\n* CSS eth-locations-filter.css\n*\n*\n*/\nimport {ethLocationsFilterController} from './eth-locations-filter.controller';\n\nexport const ethLocationsFilterModule = angular\n    .module('ethLocationsFilterModule', [])\n        .controller('ethLocationsFilterController', ethLocationsFilterController)\n        .component('ethLocationsFilterComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethLocationsFilterController'\n        })\n","\r\n\r\n//--------CollapseRelated ---------------------------------------\r\n\r\n\r\nexport class slspCollapseRelatedController {\r\n\r\n    constructor($timeout, $scope) {\r\n        this.$timeout = $timeout;\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $onInit() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                if (angular.isArray(this.parentCtrl.locations) && this.parentCtrl.locations.length > 0) {\r\n    \r\n                this.parentCtrl.relatedLocationsListLimit = 0;\r\n\r\n                }\r\n              \r\n    }    \r\n            \r\n       \r\n        catch (e) {\r\n            console.error(\"***SLSP*** an error occured: slspCollapseRelatedController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n }\r\n\r\n\r\nslspCollapseRelatedController.$inject =  ['$timeout', '$scope'];\r\n\r\n","\r\n    import {slspCollapseRelatedController} from './slsp-collapse-related.controller';\r\n    import {slspCollapseRelatedHtml} from './slsp-collapse-related.html';\r\n\r\n    export const slspCollapseRelatedModule = angular\r\n        .module('slspCollapseRelatedModule', [])\r\n            .controller('slspCollapseRelatedController', slspCollapseRelatedController)\r\n            .component('slspCollapseRelatedComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspCollapseRelatedController',\r\n                template: slspCollapseRelatedHtml\r\n            })","\r\n\r\n//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelLocationsController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n        \r\n    }\r\n\r\n    \r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                \r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_0\") {\r\n                    \r\n                        this.iconLabelLocations = iconLabelLocations ;\r\n                        let iconLabelLocations = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\r\n                        let htmlLocations = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                            \r\n                            angular.element(iconLabelLocations).prepend(this.$compile(htmlLocations)(this.$scope)).addClass('icnLblLocations');\r\n                }\r\n                if (this.parentCtrl.serviceScrollId === \"getit_link1_1\") {\r\n                    \r\n                    this.iconLabelLocations3 = iconLabelLocations3 ;\r\n                    let iconLabelLocations3 = document.querySelectorAll('#getit_link1_1 > div > prm-full-view-service-container > div.section-body > div > prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\r\n                    let htmlLocations3 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                        \r\n                        angular.element(iconLabelLocations3).prepend(this.$compile(htmlLocations3)(this.$scope)).addClass('icnLblLocations3');\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n                if (this.parentCtrl.serviceScrollId === \"alma_other_members\") {\r\n                    \r\n                    this.iconLabelLocations2 = iconLabelLocations2 ;\r\n                    let iconLabelLocations2 = document.querySelectorAll('prm-alma-other-members prm-opac md-tab-content md-content > prm-locations > div.padding-left-medium[ng-if=\"!$ctrl.enableLibraryLevelList\"] > md-list:nth-child(1)');\r\n                    let htmlLocations2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><rect x=\"32.65\" y=\"139.75\" width=\"119.7\" height=\"12.6\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><rect x=\"38.95\" y=\"70.45\" width=\"107.1\" height=\"69.3\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"164.95\" y1=\"152.35\" x2=\"20.05\" y2=\"152.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"51.55\" y1=\"70.45\" x2=\"51.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"83.05\" y1=\"70.45\" x2=\"83.05\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"70.45\" y1=\"70.45\" x2=\"70.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"101.95\" y1=\"70.45\" x2=\"101.95\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"114.55\" y1=\"70.45\" x2=\"114.55\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"133.45\" y1=\"70.45\" x2=\"133.45\" y2=\"139.75\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polygon points=\"158.65 70.45 26.35 70.45 92.5 32.65 158.65 70.45\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.physical\"></div></div>`;\r\n                        \r\n                        angular.element(iconLabelLocations2).prepend(this.$compile(htmlLocations2)(this.$scope)).addClass('icnLblLocations2');\r\n            }\r\n               \r\n            \r\n                \r\n            },0);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nslspIconLabelLocationsController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n\r\n\r\n// md-content > prm-locations > div.padding-left-medium > md-list.separate-list-items.margin-bottom-medium.padding-bottom-zero.md-primoExplore-theme\r\n","\r\n    import {slspIconLabelLocationsController} from './slsp-icon-label-locations.controller';\r\n    import {slspIconLabelLocationsHtml} from './slsp-icon-label-locations.html';\r\n\r\n    export const slspIconLabelLocationsModule = angular\r\n        .module('slspIconLabelLocationsModule', [])\r\n            .controller('slspIconLabelLocationsController', slspIconLabelLocationsController)\r\n            .component('slspIconLabelLocationsComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelLocationsController',\r\n                template: slspIconLabelLocationsHtml\r\n            })","\r\n\r\n//-----------------------------------------------\r\n\r\n\r\nexport class slspEditPersonalDetailsController {\r\n\r\n    constructor($scope, $element) {\r\n        this.$scope = $scope;\r\n        this.$element = $element;\r\n\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n\r\n\r\n            let lang = 'en';\r\n            let sms = this.$scope.$root.$$childHead.$ctrl.userSessionManagerService;\r\n            if (sms) {\r\n                lang = sms.getInterfaceLanguage();\r\n            }\r\n\r\n            this.detailsBaseEdu = \"https:\\/\\/eduid.ch\\/web\\/change-account-data\\/2\\/?lang=\" + lang;\r\n            this.detailsBaseReg = \"https:\\/\\/registration.slsp.ch\\/library-card\\/?lang=\" + lang;\r\n            this.exclude = ['STAFF', '11', '12', '13', '14', '15', '16', '91', '92', '99'];\r\n            this.grpA = ['11', '91', '92'];\r\n            this.grpB = ['12', '13', '14', '15', '16'];\r\n\r\n\r\n            this.getPatronGrp = function () {\r\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                    let patron = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                    if (!this.exclude.includes(patron)) {\r\n                        return true;\r\n                    }\r\n                    else {\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n            this.grpLabelA = function () {\r\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                    let labelA = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                    if (this.grpA.includes(labelA)) {\r\n                        return true;\r\n                    }\r\n                    else {\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n\r\n            this.grpLabelB = function () {\r\n                if (this.parentCtrl.personalInfoService.personalInfo !== undefined) {\r\n                    let labelB = this.parentCtrl.personalInfoService.personalInfo.patronstatus[0].registration[0].institution[0].patronstatuscode;\r\n                    if (this.grpB.includes(labelB)) {\r\n                        return true;\r\n                    }\r\n                    else {\r\n                        return false;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n            this.buttonMove = function () {\r\n                let parentElement = angular.element(document.querySelector('md-card > md-card-content > prm-personal-settings > prm-personal-settings-after'));\r\n                let element = angular.element(document.querySelector('#SLSPeditPersonalDetails'));\r\n                parentElement.append(element);\r\n            }\r\n\r\n\r\n        }\r\n        catch (e) {\r\n            console.error(\"***SLSP*** an error occured: EditPersonalDetailsController\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nslspEditPersonalDetailsController.$inject = ['$scope'];\r\n\r\n","import {slspEditPersonalDetailsController} from './slsp-edit-personal-details.controller';\nimport {slspEditPersonalDetailsHtml} from './slsp-edit-personal-details.html';\n\n\nexport const slspEditPersonalDetailsModule = angular\n    .module('slspEditPersonalDetailsModule', [])\n        .controller('slspEditPersonalDetailsController', slspEditPersonalDetailsController)\n        .component('slspEditPersonalDetailsComponent', {\n            bindings: {afterCtrl: '<'},\n            controller: 'slspEditPersonalDetailsController',\n            template: slspEditPersonalDetailsHtml\n        })","import {slspEditPersonalDetailsModule} from './slsp-edit-personal-details/slsp-edit-personal-details.module';\n\n\nexport const slspPersonalInfoAfterModule = angular\n    .module('slspPersonalInfoAfterModule', [])\n        .component('prmPersonalInfoAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-edit-personal-details-component after-ctrl=\"$ctrl\" id=\"SLSPeditPersonalDetails\"></slsp-edit-personal-details-component><slsp-personal-info-after parent-ctrl=\"$parent.$ctrl\"></slsp-personal-info-after>`\n        });\n\n        slspPersonalInfoAfterModule.requires.push(slspEditPersonalDetailsModule.name);\n\n","export class bcuFeesLinkController {\r\n\r\n    constructor($element) {\r\n        this.$element = $element[0];\r\n        this.form = this.$element.parentElement.parentElement;\r\n        this.display = false;\r\n    }\r\n\r\n    $doCheck() {\r\n      let form = false;\r\n      //console.log('old-module');\r\n            if (this.form.children[0].children[1] !== undefined && this.form.children[0].children[1].children[0] !== undefined) {\r\n                form = this.form.children[0].children[1].children[0];\r\n            }\r\n            else if (this.form.children[0].children[0] !== undefined && this.form.children[0].children[0].children[0] !== undefined) {\r\n                form = this.form.children[0].children[0].children[0];\r\n            }\r\n\r\n            //create and insert info block if not present\r\n\r\n            if (form && form.children.length >= 2 && this.display === false) {\r\n                this.display = true;\r\n                let info = document.createElement('DIV');\r\n                info.className = \"courier-info bar alert-bar\";\r\n                info.innerHTML =\r\n                `<h4>${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesTitle')}</h4>\r\n\t\t<p>${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesInfo')}</p>\r\n\t\t<p><a href=\"${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesUrl')}\"\r\n\t\ttarget=\"_blank\">${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesLinkText')}</a></p>`;\r\n                form.insertBefore(info, form.children[form.children.length -1]);\r\n            }\r\n        }\r\n}\r\n\r\nbcuFeesLinkController.$inject = ['$element'];","\r\n    import {bcuFeesLinkController} from './bcu-fees-link.controller';\r\n\r\n\r\n    export const bcuFeesLinkModule = angular\r\n        .module('bcuFeesLinkModule', [])\r\n            .controller('bcuFeesLinkController', bcuFeesLinkController)\r\n            .component('bcuFeesLinkComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'bcuFeesLinkController',\r\n                \r\n            })","export class slspAlmaRequestController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                if (this.parentCtrl.serviceType == 'AlmaRequest' || this.parentCtrl.serviceType == 'AlmaItemRequest' || this.parentCtrl.serviceType == 'AlmaRequestAnyItem' || this.parentCtrl.serviceType == 'AlmaRequestOther') {\r\n\r\n                    this.requestLoan = requestLoan;\r\n                    let requestLoan = document.querySelectorAll('prm-opac form[name=\"requestForm\"]');\r\n                    \r\n                    angular.element(requestLoan).addClass('almaRequestLoan');\r\n\r\n                }\r\n\r\n                else if (this.parentCtrl.serviceType == 'AlmaDigitization' || this.parentCtrl.serviceType == 'AlmaDigitizationOther' || this.parentCtrl.serviceType == 'AlmaGeneralDigitization' || this.parentCtrl.serviceType == 'AlmaItemDigitization' || this.parentCtrl.serviceType == 'AlmaResourceSharing' ) {\r\n                    this.requestDigi = requestDigi;\r\n                    let requestDigi = document.querySelectorAll('prm-opac form[name=\"requestForm\"]');\r\n                    angular.element(requestDigi).removeClass('almaRequestLoan');\r\n                }\r\n\r\n            } catch (e) {\r\n                console.error(\"***SLSP*** an error occured: slspAlmaRequestController \\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n    \r\n\r\n            \r\n\r\nslspAlmaRequestController.$inject = ['$scope', '$compile', '$timeout'];","\r\n    import {slspAlmaRequestController} from './slsp-alma-request.controller';\r\n\r\n\r\n    export const slspAlmaRequestModule = angular\r\n        .module('slspAlmaRequestModule', [])\r\n            .controller('slspAlmaRequestController', slspAlmaRequestController)\r\n            .component('slspAlmaRequestComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspAlmaRequestController',\r\n                \r\n            })\r\n\r\n","import {bcuFeesLinkModule} from './bcu-fees-link/bcu-fees-link.module';\r\nimport {slspAlmaRequestModule} from './slsp-alma-request/slsp-alma-request.module';\r\n\r\n\r\nexport const slspRequestAfterModule = angular\r\n    .module('slspRequestAfterModule', [])\r\n        .component('prmRequestAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<bcu-fees-link-component after-ctrl=\"$ctrl\"></bcu-fees-link-component>\r\n            <slsp-alma-request-component after-ctrl=\"$ctrl\"></slsp-alma-request-component>\r\n            <slsp-request-after parent-ctrl=\"$parent.$ctrl\"></slsp-request-after>`\r\n        });\r\n\r\nslspRequestAfterModule.requires.push(bcuFeesLinkModule.name);\r\nslspRequestAfterModule.requires.push(slspAlmaRequestModule.name);\r\n","\r\n\r\n//--------RequestCancelButton ---------------------------------------\r\n\r\n\r\nexport class slspRequestCancelButtonController {\r\n\r\n    constructor( $scope) {\r\n        this.$scope = $scope;\r\n        \r\n    }\r\n\r\n    $onInit() {\r\n        try{\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n            this.$scope.$watch('this.$ctrl.parentCtrl.requestsDisplay', (currentRequestArray) => {\r\n\r\n                if (angular.isArray(currentRequestArray) && currentRequestArray.length > 0)\r\n    \r\n                    angular.forEach(currentRequestArray, (request) => {\r\n    \r\n                        \r\n                        if (request.requestType === 'ill' ) {\r\n                            if (request.statusCode === 'DELIVERED' || \r\n                                request.statusCode === 'LOST_COMMUNICATED' || \r\n                                request.statusCode === 'RECALLED_BOR' || \r\n                                request.statusCode === 'RECEIVED_DIGITALLY' || \r\n                                request.statusCode === 'RECEIVED_NOT_FOR_LOAN' || \r\n                                request.statusCode === 'RECEIVED_PHYSICALLY' || \r\n                                request.statusCode === 'RENEWED' || \r\n                                request.statusCode === 'RENEW_NOT_ACCEPTED' || \r\n                                request.statusCode === 'RENEW_REQUESTED' || \r\n                                request.statusCode === 'REQUEST_COMPLETED' || \r\n                                request.statusCode === 'SHIPPED_DIGITALLY' || \r\n                                request.statusCode === 'SHIPPED_PHYSICALLY') {\r\n    \r\n                                    request.isCancelable = false;\r\n    \r\n                            }\r\n                            else {\r\n                                    request.isCancelable = true;\r\n                            }\r\n                        }\r\n                    }\r\n               )   \r\n            }\r\n         )\r\n           \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: RequestCancelButton \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n  \r\n}\r\n\r\nslspRequestCancelButtonController.$inject =  ['$scope'];\r\n\r\n","\r\n    import {slspRequestCancelButtonController} from './slsp-request-cancel-button.controller';\r\n    \r\n\r\n    export const slspRequestCancelButtonModule = angular\r\n        .module('slspRequestCancelButtonModule', [])\r\n            .controller('slspRequestCancelButtonController', slspRequestCancelButtonController)\r\n            .component('slspRequestCancelButtonComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspRequestCancelButtonController',\r\n                \r\n            })","\r\nimport {slspRequestCancelButtonModule} from './slsp-request-cancel-button/slsp-request-cancel-button.module';\r\n\r\nexport const slspRequestsAfterModule = angular\r\n    .module('slspRequestsAfterModule', [])\r\n        .component('prmRequestsAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<slsp-request-cancel-button-component after-ctrl=\"$ctrl\"></slsp-request-cancel-button-component><slsp-requests-after parent-ctrl=\"$parent.$ctrl\"></slsp-requests-after>`\r\n        });\r\n\r\n\r\nslspRequestsAfterModule.requires.push(slspRequestCancelButtonModule.name);","import {bcuSearchSlotsModule} from './bcu-search-slots/bcu-search-slots.module';\r\n\r\nexport const bcuSearchBarAfterModule = angular\r\n    .module('bcuSearchBarAfterModule', [])\r\n        .component('prmSearchBarAfter',  {\r\n            bindings: {parentCtrl: '<'},\r\n            template: `<bcu-search-slots-component after-ctrl=\"$ctrl\"></bcu-search-slots-component><slsp-search-bar-after parent-ctrl=\"$parent.$ctrl\"></slsp-search-bar-after>`\r\n        });\r\n\r\nbcuSearchBarAfterModule.requires.push(bcuSearchSlotsModule.name);\r\n","export class bcuSearchSlotsController {\r\n\r\n    $onInit() {\r\n        this.parentCtrl = this.afterCtrl.parentCtrl;\r\n        this.parentCtrl.showTabsAndScopes = true;\r\n    };\r\n\r\n}\r\n","/**\r\n* @ngdoc module\r\n* @name bcuSearchSlotsModule\r\n*\r\n* @description\r\n*\r\n* Customization for the search bar:<br>\r\n* - Tabs and scopes are displayed even if the search has not yet taken place (empty searchfield).\r\n*\r\n* <b>AngularJS Dependencies</b><br>\r\n*\r\n*\r\n* <b>CSS/Image Dependencies</b><br>\r\n*\r\n*\r\n* @example\r\n*\r\n*/\r\nimport {bcuSearchSlotsController} from './bcu-search-slots.controller';\r\n\r\nexport const bcuSearchSlotsModule = angular\r\n    .module('bcuSearchSlotsModule', [])\r\n        .controller('bcuSearchSlotsController', bcuSearchSlotsController)\r\n        .component('bcuSearchSlotsComponent',  {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'bcuSearchSlotsController'\r\n        })\r\n","\nimport {slspDigitizationButtonLabelModule} from './slsp-digitization-button-label/slsp-digitization-button-label.module';\n\nexport const prmServiceButtonAfterModule = angular\n    .module('prmServiceButtonAfterModule', [])\n        .component('prmServiceButtonAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-digitization-button-label-component after-ctrl=\"$ctrl\"></slsp-digitization-button-label-component><slsp-service-button-after parent-ctrl=\"$parent.$ctrl\"></slsp-service-button-after>`\n        });\n\n        prmServiceButtonAfterModule.requires.push(slspDigitizationButtonLabelModule.name);\n","\r\n\r\n//--------slspDigitizationButtonLabelController ---------------------------------------\r\n\r\n\r\nexport class slspDigitizationButtonLabelController {\r\n\r\n    constructor( $scope, $compile, $timeout ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n    $onInit() {\r\n        try{\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                               \r\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaDigitization'){\r\n                    \r\n                    this.digiButtonLabel = digiButtonLabel;\r\n                    let digiButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaDigitization\"]');\r\n                    let html = `<div class=\"DigiButtonLabel1\">CHF</div>`;\r\n                        \r\n                        angular.element(digiButtonLabel).after(html).addClass('digiButton');\r\n                    }\r\n                    \r\n\r\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaGeneralDigitization'){\r\n                    \r\n                this.digiButtonLabel = digiButtonLabel;\r\n                let digiButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaGeneralDigitization\"]');\r\n                let html = `<div class=\"DigiButtonLabel1\">CHF</div>`;\r\n                    \r\n                    angular.element(digiButtonLabel).after(html).addClass('digiButton');\r\n                }\r\n                \r\n\r\n                if (this.parentCtrl.service.type !== undefined && this.parentCtrl.service.type === 'AlmaItemDigitization'){\r\n                    this.digiItemButtonLabel = digiItemButtonLabel;\r\n                    let digiItemButtonLabel = document.querySelectorAll('prm-full-view-service-container prm-service-button button span[translate=\"AlmaItemDigitization\"]');\r\n                    \r\n                    //let htmlItem = `<div class=\"DigiButtonLabel\" translate=\"customized.fee.digi\"></div>`;\r\n                    \r\n                        \r\n                        angular.element(digiItemButtonLabel).append(`<div class=\"DigiButtonLabel\">CHF</div>`).addClass('digiButton');\r\n                    }\r\n                        else {\r\n                        return\r\n                    }\r\n                    \r\n                \r\n                \r\n            }, 1000);   \r\n        }\r\n        \r\n        catch(e){\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n  \r\n}\r\n\r\nslspDigitizationButtonLabelController.$inject =  [ '$scope', '$compile', '$timeout'];\r\n\r\n","\r\n    import {slspDigitizationButtonLabelController} from './slsp-digitization-button-label.controller';\r\n    import {slspDigitizationButtonLabelHtml} from './slsp-digitization-button-label.html';\r\n\r\n    export const slspDigitizationButtonLabelModule = angular\r\n        .module('slspDigitizationButtonLabelModule', [])\r\n            .controller('slspDigitizationButtonLabelController', slspDigitizationButtonLabelController)\r\n            .component('slspDigitizationButtonLabelComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspDigitizationButtonLabelController',\r\n                template: slspDigitizationButtonLabelHtml\r\n            })","export class bcuRapidoNoFurtherOptionsController {\r\n\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $doCheck() {\r\n        try {\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            let msg = this.parentCtrl.almaRSServiceAvailable;\r\n            let isi = this.parentCtrl.isSignedIn();\r\n\r\n            let rapidoSection = document.getElementById('rapidoOffer');\r\n            let rapidoTOC = document.querySelector('button span[translate=\"brief.results.tabs.Get_it_from_other_locations\"]');\r\n\r\n            //console.log(\"msg:\", this.parentCtrl.almaRSServiceAvailable, \"isi:\", this.parentCtrl.isSignedIn(), rapidoTOC.parentElement, rapidoSection);\r\n\r\n            if (msg == \"false\" && isi == \"true\") {\r\n                angular.element(rapidoSection).addClass('slsp-hide-rapido');\r\n                angular.element(rapidoTOC.parentElement).addClass('slsp-hide-rapido');\r\n            } else {\r\n                if (angular.element(rapidoSection).hasClass('slsp-hide-rapido')) {\r\n                    angular.element(rapidoSection).removeClass('slsp-hide-rapido');\r\n                }\r\n                if (angular.element(rapidoTOC.parentElement).hasClass('slsp-hide-rapido')) {\r\n                    angular.element(rapidoTOC.parentElement).removeClass('slsp-hide-rapido');\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido no Further Options\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nbcuRapidoNoFurtherOptionsController.$inject = ['$scope'];","import {bcuRapidoNoFurtherOptionsController} from './bcu-rapido-no-further-options.controller';\r\n//import {slspIllSigninOrderLoggedOutService} from '../../prm-user-area-expandable-after/slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.service';\r\n\r\nexport const bcuRapidoNoFurtherOptionsModule = angular\r\n    .module('bcuRapidoNoFurtherOptionsModule', [])\r\n        //.factory('slspIllSigninOrderLoggedOutService', slspIllSigninOrderLoggedOutService)\r\n        .controller('bcuRapidoNoFurtherOptionsController', bcuRapidoNoFurtherOptionsController)\r\n        .component('bcuRapidoNoFurtherOptions', {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'bcuRapidoNoFurtherOptionsController'\r\n        })","import { slspRapidoFeesLinkModule } from './slsp-rapido-fees-link/slsp-rapido-fees-link.module';\nimport { bcuRapidoNoFurtherOptionsModule } from './bcu-rapido-no-further-options/bcu-rapido-no-further-options.module';\n\n\nexport const prmServiceNgrsAfterModule = angular\n    .module('prmServiceNgrsAfterModule', [])\n    .component('prmServiceNgrsAfter', {\n        bindings: { parentCtrl: '<' },\n        template: `<slsp-rapido-fees-link-component after-ctrl=\"$ctrl\"></slsp-rapido-fees-link-component>\n            <bcu-rapido-no-further-options after-ctrl=\"$ctrl\"></bcu-rapido-no-further-options>\n            <slsp-service-ngrs-after parent-ctrl=\"$parent.$ctrl\"></<slsp-service-ngrs-after>`\n    });\n\nprmServiceNgrsAfterModule.requires.push(slspRapidoFeesLinkModule.name);\nprmServiceNgrsAfterModule.requires.push(bcuRapidoNoFurtherOptionsModule.name);","\r\n\r\n//--------Rapido Fees Link ---------------------------------------\r\n\r\n\r\nexport class slspRapidoFeesLinkController {\r\n\r\n    constructor( $scope, $compile ) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        \r\n    }\r\n\r\n      \r\n    $onInit() {\r\n            try{\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n                this.rapidoFeesLink = rapidoFeesLink;\r\n                \r\n                let rapidoFeesLink = document.querySelector('#rapidoOffer div.full-view-section-content prm-full-view-service-container div.section-head h4');\r\n                let html = `<div class=\"rapidoFeesLink neutralized-button arrow-link-button md-button md-primoExplore-theme md-ink-ripple\"><a href=\"${this.afterCtrl.parentCtrl.$translate.instant('customize.fullview.feesUrl')}\" target=\"_blank\"><span translate=\"customized.rapido.fees\">see fees details via link</span><prm-icon link-arrow=\"\" icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\" [display-mode]=\"::$ctrl.displayMode\"><!----><md-icon ng-if=\"::($ctrl.iconDefinition &amp;&amp; !$ctrl.isCustom &amp;&amp; !$ctrl.isEmailMode())\" md-svg-icon=\"primo-ui:chevron-right\" role=\"presentation\" class=\"md-primoExplore-theme\"><svg id=\"chevron-right_cache76\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" y=\"384\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\">\r\n                <path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path>\r\n            </svg></md-icon><!----><!----><prm-icon-after parent-ctrl=\"$ctrl\"></prm-icon-after></prm-icon></a></div>`;\r\n                        \r\n                    angular.element(rapidoFeesLink).after(this.$compile(html)(this.$scope));\r\n            }\r\n                               \r\n            \r\n            catch(e){\r\n                console.error(\"***SLSP*** an error occured: Rapido Fees Link\\n\\n\");\r\n                console.error(e.message);\r\n            }\r\n        }\r\n    }\r\n\r\n    slspRapidoFeesLinkController.$inject = ['$scope', '$compile'];\r\n","\r\n    import {slspRapidoFeesLinkController} from './slsp-rapido-fees-link.controller';\r\n    import {slspRapidoFeesLinkHtml} from './slsp-rapido-fees-link.html';\r\n\r\n    export const slspRapidoFeesLinkModule = angular\r\n        .module('slspRapidoFeesLinkModule', [])\r\n            .controller('slspRapidoFeesLinkController', slspRapidoFeesLinkController)\r\n            .component('slspRapidoFeesLinkComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspRapidoFeesLinkController',\r\n                template: slspRapidoFeesLinkHtml\r\n            })","export class ethDisableRequestButtonController {\n\n    $onInit() {\n        try{\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.processDoCheck = true;\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethDisableRequestButtonController \\n\\n\");\n            console.error(e.message);\n        }\n    }\n\n    $doCheck() {\n        try{\n            if(!this.processDoCheck || !document.querySelector('prm-service-physical-best-offer .offer_details .rota_line > div > span'))return;\n            let noAvailableCopies = document.querySelector('[translate=\"rapido.tiles.physical.no_best_offer.line_2\"]');\n            if(noAvailableCopies){\n                let requestButton = document.querySelector('#get_it_btn_physical');\n                angular.element(requestButton).attr('disabled', 'disabled');\n            }\n            this.processDoCheck = false;\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethDisableRequestButtonController $doCheck\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n","import {ethDisableRequestButtonController} from './eth-disable-request-button.controller';\n\nexport const ethDisableRequestButtonModule = angular\n    .module('ethDisableRequestButtonModule', [])\n        .controller('ethDisableRequestButtonController', ethDisableRequestButtonController)\n        .component('ethDisableRequestButtonComponent',  {\n            bindings: {afterCtrl: '<'},\n            controller: 'ethDisableRequestButtonController',\n        })\n","\nimport {slspRapidoDigitalOfferModule} from './slsp-rapido-digital-offer/slsp-rapido-digital-offer.module';\nimport {slspIconLabelRapidoModule} from './slsp-icon-label-rapido/slsp-icon-label-rapido.module';\nimport {ethDisableRequestButtonModule} from './eth-disable-request-button/eth-disable-request-button.module';\n\nexport const prmServicePhysicalBestOfferAfterModule = angular\n    .module('prmServicePhysicalBestOfferAfterModule', [])\n        .component('prmServicePhysicalBestOfferAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<slsp-rapido-digital-offer-component after-ctrl=\"$ctrl\"></slsp-rapido-digital-offer-component>\n            <slsp-icon-label-rapido-component after-ctrl=\"$ctrl\"></slsp-icon-label-rapido-component>\n            <eth-disable-request-button-component after-ctrl=\"$ctrl\"></eth-disable-request-button-component>\n            <slsp-service-physical-best-offer-after parent-ctrl=\"$parent.$ctrl\"></slsp-service-physical-best-offer-after>`,\n        });\n\nprmServicePhysicalBestOfferAfterModule.requires.push(slspRapidoDigitalOfferModule.name);\nprmServicePhysicalBestOfferAfterModule.requires.push(slspIconLabelRapidoModule.name);\nprmServicePhysicalBestOfferAfterModule.requires.push(ethDisableRequestButtonModule.name);","//--------slspIconLabel ---------------------------------------\r\n\r\n\r\nexport class slspIconLabelRapidoController {\r\n\r\n    constructor($scope, $compile, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$timeout = $timeout;\r\n    }\r\n\r\n\r\n\r\n    $onInit() {\r\n        try {\r\n            this.$timeout(() => {\r\n                this.parentCtrl = this.afterCtrl.parentCtrl;\r\n\r\n                /*icon label*/\r\n                if (this.parentCtrl.isdigitaloffer === true) {\r\n                    this.iconLabel = iconLabel;\r\n\r\n                    let iconLabel = document.querySelectorAll('#item-ngrs > div > div > div[ng-if=\"$ctrl.digitalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper');\r\n                    let html1 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><g><circle cx=\"130\" cy=\"130\" r=\"10.57\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><path d=\"M145.26,152.31c-4.34,2.98-9.6,4.69-15.26,4.69-14.91,0-27-12.09-27-27s12.09-27,27-27,27,12.09,27,27v2.35c0,4.54-3.68,8.21-8.21,8.21s-8.22-3.68-8.22-8.21v-2.35\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g><g><path d=\"M88.91,130H37c-4.97,0-9-4.03-9-9V55c0-4.96,4.03-9,9-9h108c4.97,0,9,4.04,9,9v42.32\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polyline points=\"151 49 91 97 31 49\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.digi\"></div></div>`;\r\n\r\n\r\n                    angular.element(iconLabel).after(this.$compile(html1)(this.$scope)).addClass('icnLbl');\r\n                }\r\n\r\n                if (this.parentCtrl.isdigitaloffer !== true) {\r\n                    this.iconLabel2 = iconLabel2;\r\n                    let iconLabel2 = document.querySelectorAll('#item-ngrs > div > div > div[ng-if=\"$ctrl.physicalTileVisible\"] > prm-service-physical-best-offer > div > div.icon-wrapper');\r\n                    let html2 = `<div class=\"icnWrp\"><div class=\"iconDiv\"><svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Ebene_2\" width=\"100%\" height=\"100%\" viewBox=\"0 0 185 185\"><g id=\"System_icons\"><g><rect width=\"185\" height=\"185\" fill=\"none\" opacity=\".2\"/><g><line x1=\"6.16\" y1=\"82.58\" x2=\"29.16\" y2=\"82.62\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"17.66\" y1=\"97.91\" x2=\"29.16\" y2=\"97.95\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"25.33\" y1=\"113.24\" x2=\"29.16\" y2=\"113.28\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><g><circle cx=\"151.84\" cy=\"125.5\" r=\"12\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><circle cx=\"67.84\" cy=\"125.5\" r=\"12\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><polyline points=\"163.84 125.5 178.84 125.5 178.84 98.5 160.47 65.84 124.84 65.84 124.84 47.5 40.84 47.5 40.84 125.5 55.84 125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"139.84\" y1=\"125.5\" x2=\"79.84\" y2=\"125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"124.84\" y1=\"53.5\" x2=\"124.84\" y2=\"125.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/><line x1=\"178.84\" y1=\"98.5\" x2=\"124.84\" y2=\"98.5\" fill=\"none\" stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"6\"/></g></g></g></g></svg></div><div class=\"iconLabel\" translate=\"customized.fee.courier\">Courier</div><div class=\"courierInfo\" translate=\"customized.fee.localcourier\">blabla bla Blaabl bla</div></div>`;\r\n\r\n                    angular.element(iconLabel2).after(this.$compile(html2)(this.$scope)).addClass('icnLbl2');\r\n                }\r\n\r\n\r\n            }, 0);\r\n        } catch (e) {\r\n            console.error(\"***SLSP*** an error occured: Rapido \\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nslspIconLabelRapidoController.$inject = ['$scope', '$compile', '$timeout'];\r\n\r\n\r\n\r\n// md-content > prm-locations > div.padding-left-medium > md-list.separate-list-items.margin-bottom-medium.padding-bottom-zero.md-primoExplore-theme","\r\n    import {slspIconLabelRapidoController} from './slsp-icon-label-rapido.controller';\r\n    import {slspIconLabelRapidoHtml} from './slsp-icon-label-rapido.html';\r\n\r\n    export const slspIconLabelRapidoModule = angular\r\n        .module('slspIconLabelRapidoModule', [])\r\n            .controller('slspIconLabelRapidoController', slspIconLabelRapidoController)\r\n            .component('slspIconLabelRapidoComponent', {\r\n                bindings: {afterCtrl: '<'},\r\n                controller: 'slspIconLabelRapidoController',\r\n                template: slspIconLabelRapidoHtml\r\n            })","export class slspRapidoDigitalOfferController {\n\n    constructor($scope, $compile, $timeout) {\n        this.$scope = $scope;\n        this.$compile = $compile;\n        this.$timeout = $timeout;\n    }\n\n    $onInit() {\n        try {\n           \n                this.parentCtrl = this.afterCtrl.parentCtrl;\n                this.isDone = false;\n               \n        }\n        catch (e) {\n                console.error(\"***SLSP*** an error occured: Rapido onInit \\n\\n\");\n                console.error(e.message);\n        }\n    }\n\n    $doCheck() {\n        try{\n            if(this.isDone)return;\n            \n            // tilesplaceholderactive is true until the tile is loaded, also by reselecting pickupinfo\n            if(this.parentCtrl.tilesplaceholderactive == true)return;\n            \n           \n            /* costs per page */\n            if (this.parentCtrl.isdigitaloffer === true){\n\n                this.$timeout(() => {\n                    let rapidoCosts = document.querySelectorAll('div[ng-if=\"$ctrl.digitalTileVisible\"] .patron_cost.last_line');\n                    let htmlRc = `<div class=\"rapidoCosts\" translate=\"customized.rapido.digi\"></div>`;\n                    angular.element(rapidoCosts).after(this.$compile(htmlRc)(this.$scope));\n                }, 20);\n            }\n\n\n                /* reservation button */\n                if (this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.unavailableInAllMembersPod === true && this.parentCtrl.bestoffer.unavailableResource === true) {\n                    this.$timeout(() => {\n                        let reservation = document.querySelectorAll('prm-service-physical-best-offer .get_it_btn_physical > span');\n                        let htmlR1 = `<div class=\"reservationButton\" translate=\"customized.rapido.reservation\"></div>`;\n\n                        angular.element(reservation).after(this.$compile(htmlR1)(this.$scope)).addClass('noOffer');\n                    }, 20);\n                }\n\n\n                /* reading room POD */\n                if (this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452167832730000041' ||\n                    this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452167827350000041' ||\n                    this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452497325370000041' ||\n                    this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452497929300000041' ||\n                    this.parentCtrl.isdigitaloffer !== true && this.parentCtrl.bestoffer !== undefined && this.parentCtrl.bestoffer.podId == '452084165700000041') {\n\n                this.$timeout(() => {\n                    let readingRoomPod = document.querySelectorAll('div[ng-if=\"$ctrl.physicalTileVisible\"] prm-service-physical-best-offer .keep_for span');\n                    let htmlPD = `<span class=\"reading-Room-Pod\" translate=\"customized.rapido.readingroom\"></span>`;\n\n                    angular.element(readingRoomPod).after(this.$compile(htmlPD)(this.$scope)).addClass('pod');\n                }, 20);\n            }\n\n            this.isDone = true;\n             \n            \n          }  \n         catch (e) {\n            console.error(\"***SLSP*** an error occured: Rapido doCheck \\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\n\n\nslspRapidoDigitalOfferController.$inject = ['$scope', '$compile', '$timeout'];","   \n\n    import {slspRapidoDigitalOfferController} from './slsp-rapido-digital-offer.controller';\n   \n\n    export const slspRapidoDigitalOfferModule = angular\n        .module('slspRapidoDigitalOfferModule', [])\n            .controller('slspRapidoDigitalOfferController', slspRapidoDigitalOfferController)\n            .component('slspRapidoDigitalOfferComponent',  {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspRapidoDigitalOfferController',\n                \n            })\n    ","export class bcuScopesSelectorController {\r\n    $onInit() {\r\n        setTimeout(function(){\r\n            function activateSearch(){\r\n                setTimeout(function(){\r\n                    document.getElementsByClassName(\"zero-margin button-confirm md-button md-primoExplore-theme\")[0].click()\r\n                }, 100)\r\n            }\r\n            let searchScopes = document.querySelectorAll('[id^=\"select_option_\"]');\r\n            for (let i in searchScopes){\r\n                if( typeof searchScopes[i] === 'object' && searchScopes[i] !== null) {\r\n                    searchScopes[i].onclick = function(){\r\n                        activateSearch();\r\n                    };\r\n                }\r\n            }\r\n        }, 100)\r\n    }\r\n}\r\n","import {bcuScopesSelectorController} from './bcu-scopes-selector.controller';\r\n\r\nexport const bcuScopesSelectorModule = angular\r\n    .module('bcuScopesSelectorModule', [])\r\n        .controller('bcuScopesSelectorController', bcuScopesSelectorController)\r\n        .component('bcuScopesSelector',{\r\n            bindings: {parentCtrl: '<'},\r\n            controller: 'bcuScopesSelectorController',\r\n\r\n        })\r\n","import {bcuScopesSelectorModule} from './bcu-scopes-selector/bcu-scopes-selector.module';\r\n\r\nexport const bcuTabsAndScopesSelectorAfterModule = angular\r\n    .module('bcuTabsAndScopesSelectorAfterModule', [])\r\n        .component('prmTabsAndScopesSelectorAfter',  {\r\n            template: '<bcu-scopes-selector after-ctrl=\"$ctrl\"></bcu-scopes-selector><slsp-tabs-and-scopes-selector-after parent-ctrl=\"$parent.$ctrl\"></slsp-tabs-and-scopes-selector-after>'\r\n        });\r\n\r\nbcuTabsAndScopesSelectorAfterModule.requires.push(bcuScopesSelectorModule.name);","export class bcuLangSwitchController {\n\n    constructor($element, $window) {\n        this.$parent = $element.parent().parent()[0];\n        \n        this.$window = $window;\n    }\n\n    $onInit() {\n        try {\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.languages = [\"de\",\"fr\",\"it\",\"en\"];\n            if (!this.languages.includes(this.parentCtrl.lang)) {\n                this.changeLanguage(\"en\");\n            }\n            \n        }\n        catch (e) {\n            console.error(\"***BCUFR*** bcuLangSwitchControler $onInit\");\n            console.error(e.message);\n        }\n    };\n\n    changeLanguage(lang) {\n        \n        this.parentCtrl.changeLangService.addLangParamToUrl(lang);\n        let t = this.parentCtrl;\n        this.parentCtrl.i18nService.setLanguage(lang).then(function(){\n            t.$timeout(function(){return t.$state.go(t.$state.current,{lang:lang},{reload:!0})})\n        });\n };\n\n}\nbcuLangSwitchController.$inject = ['$element'];","/**\n* @ngdoc module\n* @name bcuLangSwitchModule\n*\n* @description\n* - Add LangSwitch to user area\n* @example\n* each view\n*\n*/\nimport {bcuLangSwitchController} from './bcu-lang-switch.controller';\n\nexport const bcuLangSwitchModule = angular\n    .module('bcuLangSwitchModule', [])\n        .controller('bcuLangSwitchController', bcuLangSwitchController)\n        .component('bcuLangSwitchComponent',  {\n            bindings: {afterCtrl: '<'},\n            controller: 'bcuLangSwitchController',\n//            template: '<button class=\"md-button md-lang-button\" ng-repeat=\"(lang, url) in $ctrl.languages\" ng-class=\"{active: $ctrl.afterCtrl.parentCtrl.lang == lang}\"><a href=\"{{url}}\">{{lang}}</a></button>'\n            template: '<button class=\"md-button md-lang-button\" ng-repeat=\"lang in $ctrl.languages\" ng-class=\"{active: $ctrl.afterCtrl.parentCtrl.lang == lang}\" ng-click=\"$ctrl.changeLanguage(lang)\">{{lang}}</button>'\n        })\n","\nexport class slspIllSigninOrderLoggedOutController {\n\n    constructor(slspIllSigninOrderLoggedOutService, $scope) {\n        this.slspIllSigninOrderLoggedOutService = slspIllSigninOrderLoggedOutService;\n        this.$scope = $scope;\n    }\n\n    $doCheck() {\n        try{\n            this.parentCtrl = this.afterCtrl.parentCtrl;\n            this.$scope.usrNme = this.slspIllSigninOrderLoggedOutService.isGuest();\n\n            if (this.$scope.usrNme == true) {\n                let myEl = angular.element(document.querySelector('primo-explore'));\n                return myEl.addClass('logged-out')\n            }\n        \n            else {\n                let myEl = angular.element(document.querySelector('primo-explore'));\n                return myEl.removeClass('logged-out');\n            }\n        }\n        catch(e){\n            console.error(\"***SLSP*** an error occured: slspIllSigninOrderLoggedOutController\\n\\n\");\n            console.error(e.message);\n        }\n    }\n}\n\nslspIllSigninOrderLoggedOutController.$inject = ['slspIllSigninOrderLoggedOutService', '$scope'];\n        \n\n","\n\n    //--------ILL Signin Order -  if logged out ---------------------------------------\n   \n\n    import {slspIllSigninOrderLoggedOutController} from './slsp-ill-signin-order-logged-out.controller';\n    import {slspIllSigninOrderLoggedOutService} from './slsp-ill-signin-order-logged-out.service';\n\n    export const slspIllSigninOrderLoggedOutModule = angular\n        .module('slspIllSigninOrderLoggedOutModule', [])\n            .factory('slspIllSigninOrderLoggedOutService', slspIllSigninOrderLoggedOutService)\n            .controller('slspIllSigninOrderLoggedOutController', slspIllSigninOrderLoggedOutController)\n            .component('slspIllSigninOrderLoggedOutComponent',  {\n                bindings: {afterCtrl: '<'},\n                controller: 'slspIllSigninOrderLoggedOutController',\n                \n            })\n    ","\n\n    export const slspIllSigninOrderLoggedOutService = ['jwtHelper', function( jwtHelper ){\n\n        function getDecodedToken(){\n            try{\n                if (!sessionStorage){\n                    console.error(\"***SLSP*** no session storage\")\n                    return null;\n                }\n                let jwt = sessionStorage.getItem('primoExploreJwt');\n                if (!jwt){\n                    return null;\n                }\n                return jwtHelper.decodeToken(jwt);\n            }\n            catch(e){\n                console.error(\"**SLSP*** an error occured: userService.getDecodedToken:\");\n                console.error(e.message);\n            }\n        }\n  \n        function isGuest(){\n            try{\n                let decodedToken = getDecodedToken();\n                if (!decodedToken) {\n                    return null;\n                }\n                let userName= decodedToken.userGroup !== 'GUEST'? decodedToken.userName : '';\n                if (userName){\n                    return false;\n                }\n                else{\n                    return true;\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: userService.isGuest:\");\n                console.error(e.message);\n            }\n        }\n    \n        return {\n            isGuest: isGuest,\n            getDecodedToken: getDecodedToken\n        };\n    }]\n    ","import {bcuLangSwitchModule} from './bcu-lang-switch/bcu-lang-switch.module';\nimport {slspIllSigninOrderLoggedOutModule} from './slsp-ill-signin-order-logged-out/slsp-ill-signin-order-logged-out.module';\n\nexport const slspUserAreaExpandableAfterModule = angular\n    .module('slspUserAreaExpandableAfterModule', [])\n        .component('prmUserAreaExpandableAfter',  {\n            bindings: {parentCtrl: '<'},\n            template: `<bcu-lang-switch-component after-ctrl=\"$ctrl\"></bcu-lang-switch-component><slsp-ill-signin-order-logged-out-component after-ctrl=\"$ctrl\"></slsp-ill-signin-order-logged-out-component><slsp-user-area-expandable-after parent-ctrl=\"$parent.$ctrl\"></slsp-user-area-expandable-after>`,\n        });\n\nslspUserAreaExpandableAfterModule.requires.push(bcuLangSwitchModule.name);\nslspUserAreaExpandableAfterModule.requires.push(slspIllSigninOrderLoggedOutModule.name);","require('./js/slsp-archives-htgi.module.js')\nmodule.exports = 'slspArchivesHtgi'\n","angular\n    .module('slspArchivesHtgi', [])\n\n    // \"how to get it\" section for resources of archives MFA, TMA (CMI STAR)\n\n    .controller('ArchivesHtgiController', [function () {\n\n        this.$onInit = function () {\n            try{\n                if(!this.parentCtrl.item.pnx.display.source || this.parentCtrl.item.pnx.display.source.length === 0){\n                    return;\n                }\n                this.source = this.parentCtrl.item.pnx.display.source[0];\n                // CMI STAR sources\n                if(this.source === 'ETH_MaxFrischArchiv' || this.source === 'ETH_ThomasMannArchiv'){\n                    // hide content of htgi section\n                    let section = document.getElementById('full-view-container');\n                    section.classList.add('slsp-archives-hide');\n\n                    // get guid of CMIStar\n                    let sourceid = this.parentCtrl.item.pnx.control.originalsourceid[0];\n                    let guid = sourceid.substring(sourceid.lastIndexOf(':') + 1);\n\n                    // different sources: concat url\n                    if(this.source === 'ETH_ThomasMannArchiv'){\n                        this.url = 'http://www.online.tma.ethz.ch/home/#/content/' + guid;\n                        // only for test\n                        //this.label = 'Detailed information in Thomas Mann-Archiv Online (metadata only)';\n                    }\n                    else if (this.source === 'ETH_MaxFrischArchiv') {\n                        this.url = 'http://maxfrischarchiv-online.ethz.ch/home/#/content/' + guid;\n                        // only for test\n                        //this.label = 'Request via Max Frisch-Archiv Online';\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: ArchivesHtgiController\\n\\n\");\n                console.error(e.message);\n            }\n        }\n    }])\n\n    .component('almaHtgiSvcAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'ArchivesHtgiController',\n        template: `\n        <div class=\"slsp-archives\" ng-if=\"$ctrl.url\">\n            <md-list layout=\"column\" class=\"separate-list-items md-primoExplore-theme layout-column\" role=\"list\">\n                <md-list-item role=\"listitem\" ng-href=\"{{$ctrl.url}}\" target=\"_blank\">\n                      <span>{{('customized.archives.' + $ctrl.source + '.linktext' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class=\"md-secondary\">\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\" class=\"layout-margin\"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if=\"$ctrl.source === 'ETH_ThomasMannArchiv'\" class=\"slsp-archives-additional-hint\">\n                <div>\n                    <span translate=\"customized.archives.ETH_ThomasMannArchiv.text1\">No request possible. The digitized item can be consulted in the Thomas Mann Archives reading room upon advance registration (</span>\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"https://tma.ethz.ch/utils/kontakt.html\">\n                        <span translate=\"customized.archives.ETH_ThomasMannArchiv.linktext2\">Contact</span>\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\n                    </a>\n                    <span translate=\"customized.archives.ETH_ThomasMannArchiv.text2\">).</span>\n                </div>\n            </div>\n            <div ng-if=\"$ctrl.source === 'ETH_MaxFrischArchiv'\" class=\"slsp-archives-additional-hint\">\n                <div>\n                    <span translate=\"customized.archives.ETH_MaxFrischArchiv.text1\">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"http://maxfrischarchiv-online.ethz.ch/home/#/manual\">\n                        <span translate=\"customized.archives.ETH_MaxFrischArchiv.linktext2\">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\n                    </a>\n                    <span translate=\"customized.archives.ETH_MaxFrischArchiv.text2\">.</span>\n                </div>\n            </div>\n        </div><slsp-htgi-svc-after parent-ctrl=\"$parent.$ctrl\"></slsp-htgi-svc-after>\n        `\n    });\n","require('./js/slsp-archives-viewit.module.js')\nmodule.exports = 'slspArchivesViewit'\n","angular\n.module('slspArchivesViewit', [])\n\n    .component('prmSearchResultAvailabilityLineAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'ArchivesAvailabilityLineController',\n        template:'<slsp-search-result-availability-line-after parent-ctrl=\"$parent.$ctrl\"></slsp-search-result-availability-line-after>'\n    })\n\n    .component('prmAlmaViewitAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'ArchivesViewitController',\n        template: `\n        <div class=\"slsp-archives\" ng-if=\"$ctrl.url\">\n            <md-list layout=\"column\" class=\"separate-list-items md-primoExplore-theme layout-column\" role=\"list\">\n                <md-list-item role=\"listitem\" ng-href=\"{{$ctrl.url}}\" target=\"_blank\">\n                    <span>{{('customized.archives.' + $ctrl.source + '.linktext' | translate)}}</span>\n                    <span>{{$ctrl.label}}</span>\n                    <div class=\"md-secondary\">\n                        <prm-icon icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\" class=\"layout-margin\"/>\n                    </div>\n                </md-list-item>\n            </md-list>\n            <div ng-if=\"$ctrl.source === 'ETH_Hochschularchiv'\" class=\"slsp-archives-additional-hint\">\n                <div>\n                    <span translate=\"customized.archives.ETH_Hochschularchiv.text1\">Informationen zu Bestellung und Benutzung siehe</span>\n                    <a target=\"_blank\" rel=\"noopener\" ng-href=\"http://archivdatenbank-online.ethz.ch/hsa/#/manual\">\n                        <span translate=\"customized.archives.ETH_Hochschularchiv.linktext2\">Bedienungshinweise</span>\n                        <prm-icon external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"open-in-new\"></prm-icon>\n                    </a>\n                    <span translate=\"customized.archives.ETH_Hochschularchiv.text2\">.</span>\n                </div>\n            </div>\n        </div><slsp-alma-viewit-after parent-ctrl=\"$parent.$ctrl\"></slsp-alma-viewit-after>\n        `\n        })\n\n    // viewit section for archives when there are only partial digitized items, e.g. \"ETH Hochschularchiv\" (CMI STAR)\n    .controller('ArchivesViewitController', ['$translate', function ($translate) {\n        this.$onInit = function () {\n            try{\n                if(!this.parentCtrl.item.pnx.display.source || this.parentCtrl.item.pnx.display.source.length === 0){\n                    return;\n                }\n                this.source = this.parentCtrl.item.pnx.display.source[0];\n                // CMI STAR sources\n                if(this.source === 'ETH_Hochschularchiv'){\n                    if(this.parentCtrl.item.delivery.GetIt1 && this.parentCtrl.item.delivery.GetIt1.length > 0 && this.parentCtrl.item.delivery.GetIt1[0].links && this.parentCtrl.item.delivery.GetIt1[0].links.length > 0){\n\n                        // there is an online resource: return and do nothing\n                        let aOnlineLink = this.parentCtrl.item.delivery.GetIt1[0].links.filter( l => {\n                            if(l.isLinktoOnline && l.link !== ''){\n                                return true;\n                            }\n                            return false;\n                        });\n                        if (aOnlineLink.length > 0) {\n                            return;\n                        }\n\n                        // there is no online resource\n                        // change section heading\n                        $translate('nui.getit.service_howtogetit').then((translation) => {\n                            let fullView = document.getElementById('fullView');\n                            angular.element(fullView.querySelector(\"h4[translate='nui.getit.service_viewit']\")).text(translation);\n                            angular.element(fullView.querySelector(\"#services-index span[translate='nui.getit.service_viewit']\")).text(translation);\n                        });\n\n                    }\n                    // hide content of viewit section\n                    let section = document.getElementById('full-view-container');\n                    section.classList.add('slsp-archives-hide');\n\n                    // get guid of CMIStar\n                    let sourceid = this.parentCtrl.item.pnx.control.originalsourceid[0];\n                    let guid = sourceid.substring(sourceid.lastIndexOf(':') + 1);\n\n                    // different sources: concat url\n                    if(this.source === 'ETH_Hochschularchiv'){\n                        this.url = 'http://archivdatenbank-online.ethz.ch/hsa/#/content/' + guid;\n                        // only for test\n                        //this.label = 'Bestellen über Hochschularchiv Online';\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: ArchivesViewitController\\n\\n\");\n                console.error(e.message);\n            }\n        }\n    }])\n\n    // change availability line, if there is no digitization\n    .controller('ArchivesAvailabilityLineController', ['$translate', function ($translate) {\n        this.$onInit = function () {\n            try{\n                this.changeButton = false;\n                if(!this.parentCtrl.result.pnx.display.source || this.parentCtrl.result.pnx.display.source.length === 0){\n                    return;\n                }\n                this.source = this.parentCtrl.result.pnx.display.source[0];\n                if(!(this.source === 'ETH_Hochschularchiv'))return;\n                if(!this.parentCtrl.result.delivery.GetIt1 || this.parentCtrl.result.delivery.GetIt1.length == 0 || !this.parentCtrl.result.delivery.GetIt1[0].links || this.parentCtrl.result.delivery.GetIt1[0].links.length == 0)return;\n\n                let aOnlineLink = this.parentCtrl.result.delivery.GetIt1[0].links.filter( l => {\n                    if(l.isLinktoOnline && l.link !== ''){\n                        return true;\n                    }\n                    return false;\n                });\n                if (aOnlineLink.length === 0) {\n                    // there is no online resource\n                    $translate('delivery.code.no_inventory').then((translation) => {\n                        this.changeButton = true;\n                        this.changeButtonText = translation;\n                    });\n                    let availabilityLine = this.parentCtrl.$element[0];\n                    if(availabilityLine) {\n                        availabilityLine.classList.add('slsp-hsa-no-online');\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***SLSP*** an error occured: ArchivesAvailabilityLineController\\n\\n\");\n                console.error(e.message);\n            }\n        }\n\n        this.$doCheck = function () {\n            try{\n                if (this.changeButton){\n                    let availabilityLine = this.parentCtrl.$element[0];\n                    let button = availabilityLine.querySelector('.availability-status');\n                    if(angular.element(button) && angular.element(button).length > 0){\n                        angular.element(button).html(this.changeButtonText);\n                        this.changeButton = false;\n                        this.changeButtonText = '';\n                    }\n                }\n            }\n            catch(e){\n                console.error(\"***ETH*** an error occured: ArchivesAvailabilityLineController $doCheck\\n\\n\");\n                console.error(e.message);\n            }\n        }\n    }])\n","require('./js/slsp-http-intercept-pickup-information.module.js')\nmodule.exports = 'slspHttpInterceptPickupInformation'","export const slspHttpInterceptPickupInformation = angular.module('slspHttpInterceptPickupInformation', ['ng'])\n    .config(['$httpProvider', ($httpProvider) => {\n        $httpProvider.interceptors.push(['$q', ($q) => {\n            return {\n                'request': (request) => {\n                    return request\n                },\n                'requestError': (request) => {\n                    return $q.reject(request)\n                },\n                'responseError': (response) => {\n                    return $q.reject(response)\n                },\n                'response': (response) => {\n                    try {                        \n                        if (/primaws\\/rest\\/pub\\/ngrs\\/ngrsPickupInformationUrl/.test(response.config.url)) {                            \n                            //get userGroup from JWT \n                            let userGroup = angular.element(document.querySelector('primo-explore')).controller('primo-explore').userSessionManagerService.jwtUtilService.getDecodedToken().userGroup;\n\n                            //list of user groups to change delivery for\n                            if (['91','92'].includes(userGroup)) {\n                                response.data.personalDelivery = 'None';\n                            }\n                        }\n                    } catch (error) {\n                        console.log(error)\n                    }\n                    return response\n                }\n            }\n        }])\n    }])\n","require('./js/slsp-http-intercept-requests.module.js')\nmodule.exports = 'slspHttpInterceptRequests'","export const slspHttpInterceptRequests = angular.module('slspHttpInterceptRequests', ['ng'])\n    .config(['$httpProvider', ($httpProvider) => {\n        $httpProvider.interceptors.push(['$q', ($q) => {\n            return {\n                'request': (request) => {\n                    return request\n                },\n                'requestError': (request) => {\n                    return $q.reject(request)\n                },\n                'responseError': (response) => {\n                    return $q.reject(response)\n                },\n                'response': (response) => {\n                    try {\n                        if (/primaws\\/rest\\/priv\\/myaccount\\/requests/.test(response.config.url)) {\n                            if (response.status == 200 && response.data.status == \"ok\") {\n                                let interfaceLanguage = angular.element(document.querySelector('primo-explore')).injector().get('$rootScope').$$childHead.$ctrl.userSessionManagerService.getUserLanguage() ||\n                                    window.appConfig['primo-view']['attributes-map'].interfaceLanguage\n\n                                let list_of_hold_states = {\n                                    'en': [\"in transit\", \"in process\", \"on hold shelf\"],\n                                    'de': [\"transfer\", \"in bearbeitung\", \"bereitgestellt\"],\n                                    'fr': [\"en cours de transfert\", \"en cours\", \"sur le rayon des réservations\"],\n                                    'it': [\"in transito\", \"in processo\", \"scaffale prenotazioni\"]\n                                }\n                                let list_of_photocopy_states = {\n                                    'en': [\"in transit\", \"in process\"],\n                                    'de': [\"transfer\", \"in bearbeitung\"],\n                                    'fr': [\"en cours de transfert\", \"en cours\"],\n                                    'it': [\"in transito\", \"in processo\"]\n                                }\n                                if (Object.keys(list_of_hold_states).includes(interfaceLanguage)) {\n                                    let list_of_hold_states_regexp = RegExp(list_of_hold_states[interfaceLanguage].map(m => m.toLowerCase()).join('|'))\n                                    // rewrite cancellable holds\n                                    response.data.data.holds.hold.map((m) => {\n                                        if (list_of_hold_states_regexp.test(m.holdstatus.toLowerCase())) {\n                                            m.cancel = 'N'\n                                        }\n                                    })\n                                }\n                                else {\n                                    throw `No mapping found for holds: ${interfaceLanguage}`\n                                }\n\n                                if (Object.keys(list_of_photocopy_states).includes(interfaceLanguage)) {\n                                    let list_of_photocopy_states_regexp = RegExp(list_of_photocopy_states[interfaceLanguage].map(m => m.toLowerCase()).join('|'))\n                                    // rewrite cancellable photocopies\n                                    response.data.data.photocopies.photocopy.map((m) => {\n                                        if (list_of_photocopy_states_regexp.test(m.requeststatus.toLowerCase())) {\n                                            m.cancel = 'N'\n                                        }\n                                    })\n                                }\n                                else {\n                                    throw `No mapping found for photocopies: ${interfaceLanguage}`\n                                }\n                            }\n                        }\n                    }\n                    catch (error) {\n                        console.error(error);\n                    }\n                    return response;\n                }\n            }\n        }])\n    }])\n","require('./js/slsp-ill-signin-order-alert.module.js')\nmodule.exports = 'slspIllSigninOrderAlert'","//--------ILL Signin Order -  if Alert Message ---------------------------------------\n\nangular\n    .module('slspIllSigninOrderAlert', [])\n\n    .controller('AlertMsgController', ['$scope', function ($scope) {\n        var vm = this;\n        vm.getAlert = getAlert\n\n        function getAlert() {\n            var ga = vm.parentCtrl.almaHowToGetitService.reqAlert._htmlMsg;\n            var myEl2 = angular.element(document.querySelector('primo-explore'));\n\n            if (ga.length > 0) {\n                return myEl2.addClass('alert');\n\n            }\n            else {\n\n                return myEl2.removeClass('alert');\n\n            }\n        }\n\n    }])\n\n    .component('almaHowovpAfter', {\n        bindings: { parentCtrl: '<' },\n        controller: 'AlertMsgController',\n        template: '<div style=\"display:none\">{{$ctrl.getAlert()}}</div><slsp-howovp-after parent-ctrl=\"$parent.$ctrl\"></slsp-howovp-after>'\n    });\n"]}